(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var gf={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function _0(){if(kp)return Nl;kp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var Hp;function v0(){return Hp||(Hp=1,gf.exports=_0()),gf.exports}var ae=v0(),pf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function E0(){if(jp)return Et;jp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,W={};function Z(V,K,st){this.props=V,this.context=K,this.refs=W,this.updater=st||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function yt(){}yt.prototype=Z.prototype;function dt(V,K,st){this.props=V,this.context=K,this.refs=W,this.updater=st||H}var Tt=dt.prototype=new yt;Tt.constructor=dt,X(Tt,Z.prototype),Tt.isPureReactComponent=!0;var Qt=Array.isArray,_t={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function N(V,K,st,tt,et,At){return st=At.ref,{$$typeof:s,type:V,key:K,ref:st!==void 0?st:null,props:At}}function R(V,K){return N(V.type,K,void 0,void 0,void 0,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function D(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return K[st]})}var M=/\/+/g;function L(V,K){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):K.toString(36)}function w(){}function ye(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function oe(V,K,st,tt,et){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case s:case e:vt=!0;break;case S:return vt=V._init,oe(vt(V._payload),K,st,tt,et)}}if(vt)return et=et(V),vt=tt===""?"."+L(V,0):tt,Qt(et)?(st="",vt!=null&&(st=vt.replace(M,"$&/")+"/"),oe(et,K,st,"",function(te){return te})):et!=null&&(A(et)&&(et=R(et,st+(et.key==null||V&&V.key===et.key?"":(""+et.key).replace(M,"$&/")+"/")+vt)),K.push(et)),1;vt=0;var ce=tt===""?".":tt+":";if(Qt(V))for(var xt=0;xt<V.length;xt++)tt=V[xt],At=ce+L(tt,xt),vt+=oe(tt,K,st,At,et);else if(xt=z(V),typeof xt=="function")for(V=xt.call(V),xt=0;!(tt=V.next()).done;)tt=tt.value,At=ce+L(tt,xt++),vt+=oe(tt,K,st,At,et);else if(At==="object"){if(typeof V.then=="function")return oe(ye(V),K,st,tt,et);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return vt}function J(V,K,st){if(V==null)return V;var tt=[],et=0;return oe(V,tt,"","",function(At){return K.call(st,At,et++)}),tt}function ht(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Pt(){}return Et.Children={map:J,forEach:function(V,K,st){J(V,function(){K.apply(this,arguments)},st)},count:function(V){var K=0;return J(V,function(){K++}),K},toArray:function(V){return J(V,function(K){return K})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Et.Component=Z,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(V){return function(){return V.apply(null,arguments)}},Et.cloneElement=function(V,K,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var tt=X({},V.props),et=V.key,At=void 0;if(K!=null)for(vt in K.ref!==void 0&&(At=void 0),K.key!==void 0&&(et=""+K.key),K)!Ut.call(K,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&K.ref===void 0||(tt[vt]=K[vt]);var vt=arguments.length-2;if(vt===1)tt.children=st;else if(1<vt){for(var ce=Array(vt),xt=0;xt<vt;xt++)ce[xt]=arguments[xt+2];tt.children=ce}return N(V.type,et,void 0,void 0,At,tt)},Et.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Et.createElement=function(V,K,st){var tt,et={},At=null;if(K!=null)for(tt in K.key!==void 0&&(At=""+K.key),K)Ut.call(K,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=K[tt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var ce=Array(vt),xt=0;xt<vt;xt++)ce[xt]=arguments[xt+2];et.children=ce}if(V&&V.defaultProps)for(tt in vt=V.defaultProps,vt)et[tt]===void 0&&(et[tt]=vt[tt]);return N(V,At,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(V){return{$$typeof:g,render:V}},Et.isValidElement=A,Et.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ht}},Et.memo=function(V,K){return{$$typeof:v,type:V,compare:K===void 0?null:K}},Et.startTransition=function(V){var K=_t.T,st={};_t.T=st;try{var tt=V(),et=_t.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Pt,ut)}catch(At){ut(At)}finally{_t.T=K}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(V){return _t.H.use(V)},Et.useActionState=function(V,K,st){return _t.H.useActionState(V,K,st)},Et.useCallback=function(V,K){return _t.H.useCallback(V,K)},Et.useContext=function(V){return _t.H.useContext(V)},Et.useDebugValue=function(){},Et.useDeferredValue=function(V,K){return _t.H.useDeferredValue(V,K)},Et.useEffect=function(V,K){return _t.H.useEffect(V,K)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(V,K,st){return _t.H.useImperativeHandle(V,K,st)},Et.useInsertionEffect=function(V,K){return _t.H.useInsertionEffect(V,K)},Et.useLayoutEffect=function(V,K){return _t.H.useLayoutEffect(V,K)},Et.useMemo=function(V,K){return _t.H.useMemo(V,K)},Et.useOptimistic=function(V,K){return _t.H.useOptimistic(V,K)},Et.useReducer=function(V,K,st){return _t.H.useReducer(V,K,st)},Et.useRef=function(V){return _t.H.useRef(V)},Et.useState=function(V){return _t.H.useState(V)},Et.useSyncExternalStore=function(V,K,st){return _t.H.useSyncExternalStore(V,K,st)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.0.0",Et}var Gp;function id(){return Gp||(Gp=1,pf.exports=E0()),pf.exports}var ca=id(),yf={exports:{}},Ul={},_f={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function T0(){return Qp||(Qp=1,function(s){function e(J,ht){var ut=J.length;J.push(ht);t:for(;0<ut;){var Pt=ut-1>>>1,V=J[Pt];if(0<u(V,ht))J[Pt]=ht,J[ut]=V,ut=Pt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ht=J[0],ut=J.pop();if(ut!==ht){J[0]=ut;t:for(var Pt=0,V=J.length,K=V>>>1;Pt<K;){var st=2*(Pt+1)-1,tt=J[st],et=st+1,At=J[et];if(0>u(tt,ut))et<V&&0>u(At,tt)?(J[Pt]=At,J[et]=ut,Pt=et):(J[Pt]=tt,J[st]=ut,Pt=st);else if(et<V&&0>u(At,ut))J[Pt]=At,J[et]=ut,Pt=et;else break t}}return ht}function u(J,ht){var ut=J.sortIndex-ht.sortIndex;return ut!==0?ut:J.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,C=null,z=3,H=!1,X=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Tt(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=J)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Qt(J){if(W=!1,Tt(J),!X)if(i(_)!==null)X=!0,ye();else{var ht=i(v);ht!==null&&oe(Qt,ht.startTime-J)}}var _t=!1,Ut=-1,N=5,R=-1;function A(){return!(s.unstable_now()-R<N)}function D(){if(_t){var J=s.unstable_now();R=J;var ht=!0;try{t:{X=!1,W&&(W=!1,yt(Ut),Ut=-1),H=!0;var ut=z;try{e:{for(Tt(J),C=i(_);C!==null&&!(C.expirationTime>J&&A());){var Pt=C.callback;if(typeof Pt=="function"){C.callback=null,z=C.priorityLevel;var V=Pt(C.expirationTime<=J);if(J=s.unstable_now(),typeof V=="function"){C.callback=V,Tt(J),ht=!0;break e}C===i(_)&&a(_),Tt(J)}else a(_);C=i(_)}if(C!==null)ht=!0;else{var K=i(v);K!==null&&oe(Qt,K.startTime-J),ht=!1}}break t}finally{C=null,z=ut,H=!1}ht=void 0}}finally{ht?M():_t=!1}}}var M;if(typeof dt=="function")M=function(){dt(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,M=function(){w.postMessage(null)}}else M=function(){Z(D,0)};function ye(){_t||(_t=!0,M())}function oe(J,ht){Ut=Z(function(){J(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){X||H||(X=!0,ye())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(z){case 1:case 2:case 3:var ht=3;break;default:ht=z}var ut=z;z=ht;try{return J()}finally{z=ut}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ut=z;z=J;try{return ht()}finally{z=ut}},s.unstable_scheduleCallback=function(J,ht,ut){var Pt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ut+V,J={id:S++,callback:ht,priorityLevel:J,startTime:ut,expirationTime:V,sortIndex:-1},ut>Pt?(J.sortIndex=ut,e(v,J),i(_)===null&&J===i(v)&&(W?(yt(Ut),Ut=-1):W=!0,oe(Qt,ut-Pt))):(J.sortIndex=V,e(_,J),X||H||(X=!0,ye())),J},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(J){var ht=z;return function(){var ut=z;z=ht;try{return J.apply(this,arguments)}finally{z=ut}}}}(vf)),vf}var Fp;function A0(){return Fp||(Fp=1,_f.exports=T0()),_f.exports}var Ef={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function S0(){if(Yp)return He;Yp=1;var s=id();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},He.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,C=g(S,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:z,fetchPriority:H}):S==="script"&&a.d.X(_,{crossOrigin:C,integrity:z,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,C=g(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Kp;function b0(){if(Kp)return Ef.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=S0(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function R0(){if(Xp)return Ul;Xp=1;var s=A0(),e=id(),i=b0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Qt=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=_t&&t[_t]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,L;function w(t){if(M===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+L}var ye=!1;function oe(t,n){if(!t||ye)return"";ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var P=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){P=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){P=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),O=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===O.length)for(l=b.length-1,c=O.length-1;1<=l&&0<=c&&b[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==O[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{ye=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ut(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(ut(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=ut(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return V(c),t;if(f===l)return V(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},vt=[],ce=-1;function xt(t){return{current:t}}function te(t){0>ce||(t.current=vt[ce],vt[ce]=null,ce--)}function Ht(t,n){ce++,vt[ce]=t.current,t.current=n}var Fe=xt(null),ai=xt(null),dn=xt(null),xi=xt(null);function Li(t,n){switch(Ht(dn,n),Ht(ai,t),Ht(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?pp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=pp(t),n=yp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Fe),Ht(Fe,n)}function si(){te(Fe),te(ai),te(dn)}function Cs(t){t.memoizedState!==null&&Ht(xi,t);var n=Fe.current,r=yp(n,t.type);n!==r&&(Ht(ai,t),Ht(Fe,r))}function va(t){ai.current===t&&(te(Fe),te(ai)),xi.current===t&&(te(xi),Cl._currentValue=At)}var Ea=Object.prototype.hasOwnProperty,Or=s.unstable_scheduleCallback,Ta=s.unstable_cancelCallback,pc=s.unstable_shouldYield,Vs=s.unstable_requestPaint,Je=s.unstable_now,au=s.unstable_getCurrentPriorityLevel,_e=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,su=s.unstable_LowPriority,Is=s.unstable_IdlePriority,yc=s.log,Mr=s.unstable_setDisableYieldValue,zi=null,qe=null;function Os(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof yc=="function"&&Mr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(zi,t)}catch{}}var Ye=Math.clz32?Math.clz32:uu,Ms=Math.log,lu=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(Ms(t)/lu|0)|0}var Bn=128,Bi=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=In(r):(f&=E,f!==0?l=In(f):t||(y=E&~y,y!==0&&(l=In(y))))):(E=r&~c,E!==0?l=In(E):f!==0?l=In(f):t||(y=r&~y,y!==0&&(l=In(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Pi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Aa(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Bn;return Bn<<=1,!(Bn&4194176)&&(Bn=128),t}function qi(){var t=Bi;return Bi<<=1,!(Bi&62914560)&&(Bi=4194304),t}function Sa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ou(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,O=t.hiddenUpdates;for(r=y&~r;0<r;){var j=31-Ye(r),Y=1<<j;E[j]=0,b[j]=-1;var P=O[j];if(P!==null)for(O[j]=null,j=0;j<P.length;j++){var k=P[j];k!==null&&(k.lane&=-536870913)}r&=~Y}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function cu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function hu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:xp(t.type))}function ji(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Pn=Math.random().toString(36).slice(2),we="__reactFiber$"+Pn,ve="__reactProps$"+Pn,ui="__reactContainer$"+Pn,Nr="__reactEvents$"+Pn,ba="__reactListeners$"+Pn,qn="__reactHandles$"+Pn,Us="__reactResources$"+Pn,Gi="__reactMarker$"+Pn;function Ur(t){delete t[we],delete t[ve],delete t[Nr],delete t[ba],delete t[qn]}function On(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ui]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ep(t);t!==null;){if(r=t[we])return r;t=Ep(t)}return n}t=r,r=t.parentNode}return null}function oi(t){if(t=t[we]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fi(t){var n=t[Us];return n||(n=t[Us]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[Gi]=!0}var xs=new Set,Ra={};function an(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Ra[t]=n,t=0;t<n.length;t++)xs.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ls={},zs={};function fu(t){return Ea.call(zs,t)?!0:Ea.call(Ls,t)?!1:_c.test(t)?zs[t]=!0:(Ls[t]=!0,!1)}function Yi(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function du(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vc(t){var n=du(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xr(t){t._valueTracker||(t._valueTracker=vc(t))}function Bs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=du(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function ee(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Da(t,y,Ke(n)):r!=null?Da(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Da(t,n,r){n==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Lt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function zr(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ps(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Ec.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function mu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ps(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ps(t,f,n[f])}function qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ac=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(t){return Ac.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=oi(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(a(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Bs(l)}break t;case"textarea":zr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Lt(t,!!r.multiple,n,!1)}}}var ks=!1;function gu(t,n,r){if(ks)return t(n,r);ks=!0;try{var l=t(n);return l}finally{if(ks=!1,(hi!==null||fi!==null)&&(so(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var _n=!1;if(sn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{_n=!1}var Hn=null,$i=null,mi=null;function Hs(){if(mi)return mi;var t,n=$i,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function js(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:js,this.isPropagationStopped=js,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=De(qt),qr=D({},qt,{view:0,detail:0}),pu=De(qr),Ia,Oa,Qn,kr=D({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ia=t.screenX-Qn.screenX,Oa=t.screenY-Qn.screenY):Oa=Ia=0,Qn=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),vn=De(kr),yu=D({},kr,{dataTransfer:0}),Sc=De(yu),Hr=D({},qr,{relatedTarget:0}),Ma=De(Hr),Gs=D({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=De(Gs),_u=D({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=De(_u),bc=D({},qt,{data:0}),Qs=De(bc),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function Gr(){return Fs}var Tu=D({},qr,{key:function(t){if(t.key){var n=jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=De(Tu),Au=D({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=De(Au),gi=D({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),Su=De(gi),bu=D({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=De(bu),wu=D({},kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),La=De(wu),Xe=D({},qt,{newState:0,oldState:0}),Du=De(Xe),Cu=[9,13,27,32],Fn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,p=sn&&(!Fn||o&&8<o&&11>=o),T=" ",x=!1;function q(t,n){switch(t){case"keyup":return Cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Ee(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Fn&&q(t,n)?(t=Hs(),mi=$i=Hn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=ho(n,"onChange"),0<n.length&&(r=new Va("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ne=null,Yn=null;function Ks(t){hp(t,0)}function Vu(t){var n=Qi(t);if(Bs(n))return t}function qd(t,n){if(t==="change")return n}var kd=!1;if(sn){var Rc;if(sn){var wc="oninput"in document;if(!wc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),wc=typeof Hd.oninput=="function"}Rc=wc}else Rc=!1;kd=Rc&&(!document.documentMode||9<document.documentMode)}function jd(){Ne&&(Ne.detachEvent("onpropertychange",Gd),Yn=Ne=null)}function Gd(t){if(t.propertyName==="value"&&Vu(Yn)){var n=[];pi(n,Yn,t,Ca(t)),gu(Ks,n)}}function Kv(t,n,r){t==="focusin"?(jd(),Ne=n,Yn=r,Ne.attachEvent("onpropertychange",Gd)):t==="focusout"&&jd()}function Xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Yn)}function Zv(t,n){if(t==="click")return Vu(n)}function $v(t,n){if(t==="input"||t==="change")return Vu(n)}function Jv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:Jv;function Xs(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ea.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var r=Qd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Qd(r)}}function Yd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Yd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wa(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=wa(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Wv(t,n){var r=Kd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Yd(n.ownerDocument.documentElement,n)){if(l!==null&&Dc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Fd(n,f);var y=Fd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tE=sn&&"documentMode"in document&&11>=document.documentMode,za=null,Cc=null,Zs=null,Vc=!1;function Xd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vc||za==null||za!==wa(l)||(l=za,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zs&&Xs(Zs,l)||(Zs=l,l=ho(Cc,"onSelect"),0<l.length&&(n=new Va("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ba={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Ic={},Zd={};sn&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Fr(t){if(Ic[t])return Ic[t];if(!Ba[t])return t;var n=Ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Zd)return Ic[t]=n[r];return t}var $d=Fr("animationend"),Jd=Fr("animationiteration"),Wd=Fr("animationstart"),eE=Fr("transitionrun"),nE=Fr("transitionstart"),iE=Fr("transitioncancel"),tm=Fr("transitionend"),em=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(t,n){em.set(t,n),an(n,[t])}var En=[],Pa=0,Oc=0;function Iu(){for(var t=Pa,n=Oc=Pa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&im(r,c,f)}}function Ou(t,n,r,l){En[Pa++]=t,En[Pa++]=n,En[Pa++]=r,En[Pa++]=l,Oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mc(t,n,r,l){return Ou(t,n,r,l),Mu(t)}function Ji(t,n){return Ou(t,null,null,n),Mu(t)}function im(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Mu(t){if(50<Tl)throw Tl=0,Bh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qa={},rm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=rm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},rm.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var ka=[],Ha=0,Nu=null,Uu=0,An=[],Sn=0,Yr=null,yi=1,_i="";function Kr(t,n){ka[Ha++]=Uu,ka[Ha++]=Nu,Nu=t,Uu=n}function am(t,n,r){An[Sn++]=yi,An[Sn++]=_i,An[Sn++]=Yr,Yr=t;var l=yi;t=_i;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ye(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Nc(t){t.return!==null&&(Kr(t,1),am(t,1,0))}function Uc(t){for(;t===Nu;)Nu=ka[--Ha],ka[Ha]=null,Uu=ka[--Ha],ka[Ha]=null;for(;t===Yr;)Yr=An[--Sn],An[Sn]=null,_i=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null}var Ze=null,Ue=null,zt=!1,Nn=null,Kn=!1,xc=Error(a(519));function Xr(t){var n=Error(a(418,""));throw Ws(Tn(n,t)),xc}function sm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ve]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Sl.length;r++)Ct(Sl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Zi(n,l.value,l.defaultValue,l.children),xr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||gp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=fo),n=!0):n=!1,n||Xr(t)}function lm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function $s(t){if(t!==Ze)return!1;if(!zt)return lm(t),zt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ef(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Xr(t),lm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?xn(t.stateNode.nextSibling):null;return!0}function Js(){Ue=Ze=null,zt=!1}function Ws(t){Nn===null?Nn=[t]:Nn.push(t)}var tl=Error(a(460)),um=Error(a(474)),Lc={then:function(){}};function om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function cm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===tl?Error(a(483)):t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===tl?Error(a(483)):t}throw el=n,tl}}var el=null;function hm(){if(el===null)throw Error(a(459));var t=el;return el=null,t}var ja=null,nl=0;function Lu(t){var n=nl;return nl+=1,ja===null&&(ja=[]),cm(ja,t,n)}function il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fm(t){var n=t._init;return n(t._payload)}function dm(t){function n(U,I){if(t){var B=U.deletions;B===null?(U.deletions=[I],U.flags|=16):B.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=cr(U,I),U.index=0,U.sibling=null,U}function f(U,I,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<I?(U.flags|=33554434,I):B):(U.flags|=33554434,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,I,B,G){return I===null||I.tag!==6?(I=Ih(B,U.mode,G),I.return=U,I):(I=c(I,B),I.return=U,I)}function b(U,I,B,G){var rt=B.type;return rt===_?j(U,I,B.props.children,G,B.key):I!==null&&(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===dt&&fm(rt)===I.type)?(I=c(I,B.props),il(I,B),I.return=U,I):(I=eo(B.type,B.key,B.props,null,U.mode,G),il(I,B),I.return=U,I)}function O(U,I,B,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=Oh(B,U.mode,G),I.return=U,I):(I=c(I,B.children||[]),I.return=U,I)}function j(U,I,B,G,rt){return I===null||I.tag!==7?(I=aa(B,U.mode,G,rt),I.return=U,I):(I=c(I,B),I.return=U,I)}function Y(U,I,B){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Ih(""+I,U.mode,B),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return B=eo(I.type,I.key,I.props,null,U.mode,B),il(B,I),B.return=U,B;case g:return I=Oh(I,U.mode,B),I.return=U,I;case dt:var G=I._init;return I=G(I._payload),Y(U,I,B)}if(tt(I)||Ut(I))return I=aa(I,U.mode,B,null),I.return=U,I;if(typeof I.then=="function")return Y(U,Lu(I),B);if(I.$$typeof===H)return Y(U,Ju(U,I),B);zu(U,I)}return null}function P(U,I,B,G){var rt=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return rt!==null?null:E(U,I,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===rt?b(U,I,B,G):null;case g:return B.key===rt?O(U,I,B,G):null;case dt:return rt=B._init,B=rt(B._payload),P(U,I,B,G)}if(tt(B)||Ut(B))return rt!==null?null:j(U,I,B,G,null);if(typeof B.then=="function")return P(U,I,Lu(B),G);if(B.$$typeof===H)return P(U,I,Ju(U,B),G);zu(U,B)}return null}function k(U,I,B,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(B)||null,E(I,U,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?B:G.key)||null,b(I,U,G,rt);case g:return U=U.get(G.key===null?B:G.key)||null,O(I,U,G,rt);case dt:var bt=G._init;return G=bt(G._payload),k(U,I,B,G,rt)}if(tt(G)||Ut(G))return U=U.get(B)||null,j(I,U,G,rt,null);if(typeof G.then=="function")return k(U,I,B,Lu(G),rt);if(G.$$typeof===H)return k(U,I,B,Ju(I,G),rt);zu(I,G)}return null}function at(U,I,B,G){for(var rt=null,bt=null,lt=I,ct=I=0,Oe=null;lt!==null&&ct<B.length;ct++){lt.index>ct?(Oe=lt,lt=null):Oe=lt.sibling;var Bt=P(U,lt,B[ct],G);if(Bt===null){lt===null&&(lt=Oe);break}t&&lt&&Bt.alternate===null&&n(U,lt),I=f(Bt,I,ct),bt===null?rt=Bt:bt.sibling=Bt,bt=Bt,lt=Oe}if(ct===B.length)return r(U,lt),zt&&Kr(U,ct),rt;if(lt===null){for(;ct<B.length;ct++)lt=Y(U,B[ct],G),lt!==null&&(I=f(lt,I,ct),bt===null?rt=lt:bt.sibling=lt,bt=lt);return zt&&Kr(U,ct),rt}for(lt=l(lt);ct<B.length;ct++)Oe=k(lt,U,ct,B[ct],G),Oe!==null&&(t&&Oe.alternate!==null&&lt.delete(Oe.key===null?ct:Oe.key),I=f(Oe,I,ct),bt===null?rt=Oe:bt.sibling=Oe,bt=Oe);return t&&lt.forEach(function(yr){return n(U,yr)}),zt&&Kr(U,ct),rt}function gt(U,I,B,G){if(B==null)throw Error(a(151));for(var rt=null,bt=null,lt=I,ct=I=0,Oe=null,Bt=B.next();lt!==null&&!Bt.done;ct++,Bt=B.next()){lt.index>ct?(Oe=lt,lt=null):Oe=lt.sibling;var yr=P(U,lt,Bt.value,G);if(yr===null){lt===null&&(lt=Oe);break}t&&lt&&yr.alternate===null&&n(U,lt),I=f(yr,I,ct),bt===null?rt=yr:bt.sibling=yr,bt=yr,lt=Oe}if(Bt.done)return r(U,lt),zt&&Kr(U,ct),rt;if(lt===null){for(;!Bt.done;ct++,Bt=B.next())Bt=Y(U,Bt.value,G),Bt!==null&&(I=f(Bt,I,ct),bt===null?rt=Bt:bt.sibling=Bt,bt=Bt);return zt&&Kr(U,ct),rt}for(lt=l(lt);!Bt.done;ct++,Bt=B.next())Bt=k(lt,U,ct,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?ct:Bt.key),I=f(Bt,I,ct),bt===null?rt=Bt:bt.sibling=Bt,bt=Bt);return t&&lt.forEach(function(y0){return n(U,y0)}),zt&&Kr(U,ct),rt}function re(U,I,B,G){if(typeof B=="object"&&B!==null&&B.type===_&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var rt=B.key;I!==null;){if(I.key===rt){if(rt=B.type,rt===_){if(I.tag===7){r(U,I.sibling),G=c(I,B.props.children),G.return=U,U=G;break t}}else if(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===dt&&fm(rt)===I.type){r(U,I.sibling),G=c(I,B.props),il(G,B),G.return=U,U=G;break t}r(U,I);break}else n(U,I);I=I.sibling}B.type===_?(G=aa(B.props.children,U.mode,G,B.key),G.return=U,U=G):(G=eo(B.type,B.key,B.props,null,U.mode,G),il(G,B),G.return=U,U=G)}return y(U);case g:t:{for(rt=B.key;I!==null;){if(I.key===rt)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){r(U,I.sibling),G=c(I,B.children||[]),G.return=U,U=G;break t}else{r(U,I);break}else n(U,I);I=I.sibling}G=Oh(B,U.mode,G),G.return=U,U=G}return y(U);case dt:return rt=B._init,B=rt(B._payload),re(U,I,B,G)}if(tt(B))return at(U,I,B,G);if(Ut(B)){if(rt=Ut(B),typeof rt!="function")throw Error(a(150));return B=rt.call(B),gt(U,I,B,G)}if(typeof B.then=="function")return re(U,I,Lu(B),G);if(B.$$typeof===H)return re(U,I,Ju(U,B),G);zu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,I!==null&&I.tag===6?(r(U,I.sibling),G=c(I,B),G.return=U,U=G):(r(U,I),G=Ih(B,U.mode,G),G.return=U,U=G),y(U)):r(U,I)}return function(U,I,B,G){try{nl=0;var rt=re(U,I,B,G);return ja=null,rt}catch(lt){if(lt===tl)throw lt;var bt=Dn(29,lt,null,U.mode);return bt.lanes=G,bt.return=U,bt}finally{}}}var Zr=dm(!0),mm=dm(!1),Ga=xt(null),Bu=xt(0);function gm(t,n){t=Vi,Ht(Bu,t),Ht(Ga,n),Vi=t|n.baseLanes}function zc(){Ht(Bu,Vi),Ht(Ga,Ga.current)}function Bc(){Vi=Bu.current,te(Ga),te(Bu)}var bn=xt(null),Xn=null;function Wi(t){var n=t.alternate;Ht(Ae,Ae.current&1),Ht(bn,t),Xn===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Xn=t)}function pm(t){if(t.tag===22){if(Ht(Ae,Ae.current),Ht(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else tr()}function tr(){Ht(Ae,Ae.current),Ht(bn,bn.current)}function vi(t){te(bn),Xn===t&&(Xn=null),te(Ae)}var Ae=xt(0);function Pu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},aE=s.unstable_scheduleCallback,sE=s.unstable_NormalPriority,Se={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new rE,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&aE(sE,function(){t.controller.abort()})}var al=null,qc=0,Qa=0,Fa=null;function lE(t,n){if(al===null){var r=al=[];qc=0,Qa=Fh(),Fa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return qc++,n.then(ym,ym),n}function ym(){if(--qc===0&&al!==null){Fa!==null&&(Fa.status="fulfilled");var t=al;al=null,Qa=0,Fa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var _m=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&lE(t,n),_m!==null&&_m(t,n)};var $r=xt(null);function kc(){var t=$r.current;return t!==null?t:Yt.pooledCache}function qu(t,n){n===null?Ht($r,$r.current):Ht($r,n.pool)}function vm(){var t=kc();return t===null?null:{parent:Se._currentValue,pool:t}}var er=0,St=null,jt=null,he=null,ku=!1,Ya=!1,Jr=!1,Hu=0,sl=0,Ka=null,oE=0;function le(){throw Error(a(321))}function Hc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function jc(t,n,r,l,c,f){return er=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Wr:nr,Jr=!1,f=r(l,c),Jr=!1,Ya&&(f=Tm(n,r,l,c)),Em(t),f}function Em(t){A.H=Zn;var n=jt!==null&&jt.next!==null;if(er=0,he=jt=St=null,ku=!1,sl=0,Ka=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&$u(t)&&(Ve=!0))}function Tm(t,n,r,l){St=t;var c=0;do{if(Ya&&(Ka=null),sl=0,Ya=!1,25<=c)throw Error(a(301));if(c+=1,he=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=ta,f=n(r,l)}while(Ya);return f}function cE(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(St.flags|=1024),n}function Gc(){var t=Hu!==0;return Hu=0,t}function Qc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Fc(t){if(ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ku=!1}er=0,he=jt=St=null,Ya=!1,sl=Hu=0,Ka=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?St.memoizedState=he=t:he=he.next=t,he}function fe(){if(jt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=he===null?St.memoizedState:he.next;if(n!==null)he=n,jt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},he===null?St.memoizedState=he=t:he=he.next=t}return he}var ju;ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ll(t){var n=sl;return sl+=1,Ka===null&&(Ka=[]),t=cm(Ka,t,n),n=St,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Wr:nr),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===H)return ke(t)}throw Error(a(438,String(t)))}function Yc(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Qt;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=fe();return Kc(n,jt,t)}function Kc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,O=n,j=!1;do{var Y=O.lane&-536870913;if(Y!==O.lane?(Ot&Y)===Y:(er&Y)===Y){var P=O.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Y===Qa&&(j=!0);else if((er&P)===P){O=O.next,P===Qa&&(j=!0);continue}else Y={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,St.lanes|=P,hr|=P;Y=O.action,Jr&&r(f,Y),f=O.hasEagerState?O.eagerState:r(f,Y)}else P={lane:Y,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,St.lanes|=Y,hr|=Y;O=O.next}while(O!==null&&O!==n);if(b===null?y=f:b.next=E,!ln(f,t.memoizedState)&&(Ve=!0,j&&(r=Fa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xc(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Am(t,n,r){var l=St,c=fe(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((jt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,Jc(Rm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Xa(9,bm.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));f||er&60||Sm(l,n,r)}return r}function Sm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=ju(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function bm(t,n,r,l){n.value=r,n.getSnapshot=l,wm(n)&&Dm(t)}function Rm(t,n,r){return r(function(){wm(n)&&Dm(t)})}function wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Dm(t){var n=Ji(t,2);n!==null&&$e(n,t,2)}function Zc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Jr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Cm(t,n,r,l){return t.baseState=r,Kc(t,jt,typeof l=="function"?l:Ei)}function hE(t,n,r,l,c){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Vm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Vm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),b=A.S;b!==null&&b(y,E),Im(t,n,E)}catch(O){$c(t,n,O)}finally{A.T=f}}else try{f=r(c,l),Im(t,n,f)}catch(O){$c(t,n,O)}}function Im(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Om(t,n,l)},function(l){return $c(t,n,l)}):Om(t,n,r)}function Om(t,n,r){n.status="fulfilled",n.value=r,Mm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Vm(t,r)))}function $c(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Mm(n),n=n.next;while(n!==l)}t.action=null}function Mm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Nm(t,n){return n}function Um(t,n){if(zt){var r=Yt.formState;if(r!==null){t:{var l=St;if(zt){if(Ue){e:{for(var c=Ue,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=xn(c.nextSibling),l=c.data==="F!";break t}}Xr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:n},r.queue=l,r=Jm.bind(null,St,l),l.dispatch=r,l=Zc(!1),f=ih.bind(null,St,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=hE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function xm(t){var n=fe();return Lm(n,jt,t)}function Lm(t,n,r){n=Kc(t,n,Nm)[0],t=Qu(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ll(n):n;var l=fe(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(St.flags|=2048,Xa(9,fE.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function fE(t,n){t.action=n}function zm(t){var n=fe(),r=jt;if(r!==null)return Lm(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Xa(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=St.updateQueue,n===null&&(n=ju(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Bm(){return fe().memoizedState}function Fu(t,n,r,l){var c=tn();St.flags|=t,c.memoizedState=Xa(1|n,r,{destroy:void 0},l===void 0?null:l)}function Yu(t,n,r,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&Hc(l,jt.memoizedState.deps)?c.memoizedState=Xa(n,r,f,l):(St.flags|=t,c.memoizedState=Xa(1|n,r,f,l))}function Pm(t,n){Fu(8390656,8,t,n)}function Jc(t,n){Yu(2048,8,t,n)}function qm(t,n){return Yu(4,2,t,n)}function km(t,n){return Yu(4,4,t,n)}function Hm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jm(t,n,r){r=r!=null?r.concat([t]):null,Yu(4,4,Hm.bind(null,n,t),r)}function Wc(){}function Gm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Hc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Qm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Hc(n,l[1]))return l[0];if(l=t(),Jr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function th(t,n,r){return r===void 0||er&1073741824?t.memoizedState=n:(t.memoizedState=r,t=Yg(),St.lanes|=t,hr|=t,r)}function Fm(t,n,r,l){return ln(r,n)?r:Ga.current!==null?(t=th(t,r,l),ln(t,n)||(Ve=!0),t):er&42?(t=Yg(),St.lanes|=t,hr|=t,n):(Ve=!0,t.memoizedState=r)}function Ym(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,ih(t,!1,n,r);try{var b=c(),O=A.S;if(O!==null&&O(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=uE(b,l);ul(t,n,j,hn(t))}else ul(t,n,l,hn(t))}catch(Y){ul(t,n,{then:function(){},status:"rejected",reason:Y},hn())}finally{et.p=f,A.T=y}}function dE(){}function eh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Km(t).queue;Ym(t,c,n,At,r===null?dE:function(){return Xm(t),r(l)})}function Km(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xm(t){var n=Km(t).next.queue;ul(t,n,{},hn())}function nh(){return ke(Cl)}function Zm(){return fe().memoizedState}function $m(){return fe().memoizedState}function mE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=ar(r);var l=sr(n,t,r);l!==null&&($e(l,n,r),hl(l,n,r)),n={cache:Pc()},t.payload=n;return}n=n.return}}function gE(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Wm(n,r):(r=Mc(t,n,r,l),r!==null&&($e(r,t,l),tg(r,n,l)))}function Jm(t,n,r){var l=hn();ul(t,n,r,l)}function ul(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Wm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return Ou(t,n,c,0),Yt===null&&Iu(),!1}catch{}finally{}if(r=Mc(t,n,c,l),r!==null)return $e(r,t,l),tg(r,n,l),!0}return!1}function ih(t,n,r,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Mc(t,r,l,2),n!==null&&$e(n,t,2)}function Ku(t){var n=t.alternate;return t===St||n!==null&&n===St}function Wm(t,n){Ya=ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function tg(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var Zn={readContext:ke,use:Gu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};Zn.useCacheRefresh=le,Zn.useMemoCache=le,Zn.useHostTransitionStatus=le,Zn.useFormState=le,Zn.useActionState=le,Zn.useOptimistic=le;var Wr={readContext:ke,use:Gu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Pm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,Hm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Jr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(Jr){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=gE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Zc(t);var n=t.queue,r=Jm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Wc,useDeferredValue:function(t,n){var r=tn();return th(r,t,n)},useTransition:function(){var t=Zc(!1);return t=Ym.bind(null,St,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=tn();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));Ot&60||Sm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Pm(Rm.bind(null,l,f,t),[t]),l.flags|=2048,Xa(9,bm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(zt){var r=_i,l=yi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=oE++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=mE.bind(null,St)}};Wr.useMemoCache=Yc,Wr.useHostTransitionStatus=nh,Wr.useFormState=Um,Wr.useActionState=Um,Wr.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ih.bind(null,St,!0,r),r.dispatch=n,[t,n]};var nr={readContext:ke,use:Gu,useCallback:Gm,useContext:ke,useEffect:Jc,useImperativeHandle:jm,useInsertionEffect:qm,useLayoutEffect:km,useMemo:Qm,useReducer:Qu,useRef:Bm,useState:function(){return Qu(Ei)},useDebugValue:Wc,useDeferredValue:function(t,n){var r=fe();return Fm(r,jt.memoizedState,t,n)},useTransition:function(){var t=Qu(Ei)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:Am,useId:Zm};nr.useCacheRefresh=$m,nr.useMemoCache=Yc,nr.useHostTransitionStatus=nh,nr.useFormState=xm,nr.useActionState=xm,nr.useOptimistic=function(t,n){var r=fe();return Cm(r,jt,t,n)};var ta={readContext:ke,use:Gu,useCallback:Gm,useContext:ke,useEffect:Jc,useImperativeHandle:jm,useInsertionEffect:qm,useLayoutEffect:km,useMemo:Qm,useReducer:Xc,useRef:Bm,useState:function(){return Xc(Ei)},useDebugValue:Wc,useDeferredValue:function(t,n){var r=fe();return jt===null?th(r,t,n):Fm(r,jt.memoizedState,t,n)},useTransition:function(){var t=Xc(Ei)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:Am,useId:Zm};ta.useCacheRefresh=$m,ta.useMemoCache=Yc,ta.useHostTransitionStatus=nh,ta.useFormState=zm,ta.useActionState=zm,ta.useOptimistic=function(t,n){var r=fe();return jt!==null?Cm(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function rh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ah={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=ar(l);c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=ar(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=ar(r);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,r),n!==null&&($e(n,t,r),hl(n,t,r))}};function eg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Xs(r,l)||!Xs(c,f):!0}function ng(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ah.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ig(t){Xu(t)}function rg(t){console.error(t)}function ag(t){Xu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sh(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function lg(t){return t=ar(t),t.tag=3,t}function ug(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){sg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){sg(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function pE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&cl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Xn===null?kh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Lc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),jh(t,l,c)),!1;case 22:return r.flags|=65536,l===Lc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),jh(t,l,c)),!1}throw Error(a(435,r.tag))}return jh(t,l,c),kh(),!1}if(zt)return n=bn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(a(422),{cause:l}),Ws(Tn(t,r)))):(l!==xc&&(n=Error(a(423),{cause:l}),Ws(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=sh(t.stateNode,l,c),Th(t,c),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,r),vl===null?vl=[f]:vl.push(f),ie!==4&&(ie=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=sh(r.stateNode,l,t),Th(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=lg(c),ug(c,t,r,l),Th(r,c),!1}r=r.return}while(r!==null);return!1}var og=Error(a(461)),Ve=!1;function xe(t,n,r,l){n.child=t===null?mm(n,null,r,l):Zr(n,t.child,r,l)}function cg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ia(n),l=jc(t,n,r,y,f,c),E=Gc(),t!==null&&!Ve?(Qc(t,n,c),Ti(t,n,c)):(zt&&E&&Nc(n),n.flags|=1,xe(t,n,l,c),n.child)}function hg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,fg(t,n,f,l,c)):(t=eo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!gh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xs,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=cr(f,l),t.ref=n.ref,t.return=n,n.child=t}function fg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Xs(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,gh(t,c))t.flags&131072&&(Ve=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return lh(t,n,r,l,c)}function dg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ol(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return mg(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,y!==null?y.cachePool:null),y!==null?gm(n,y):zc(),pm(n);else return n.lanes=n.childLanes=536870912,mg(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(qu(n,y.cachePool),gm(n,y),tr(),n.memoizedState=null):(t!==null&&qu(n,null),zc(),tr());return xe(t,n,c,r),n.child}function mg(t,n,r,l){var c=kc();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&qu(n,null),zc(),pm(n),t!==null&&cl(t,n,l,!0),null}function ol(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function lh(t,n,r,l,c){return ia(n),r=jc(t,n,r,l,void 0,c),l=Gc(),t!==null&&!Ve?(Qc(t,n,c),Ti(t,n,c)):(zt&&l&&Nc(n),n.flags|=1,xe(t,n,r,c),n.child)}function gg(t,n,r,l,c,f){return ia(n),n.updateQueue=null,r=Tm(n,l,r,c),Em(t),l=Gc(),t!==null&&!Ve?(Qc(t,n,f),Ti(t,n,f)):(zt&&l&&Nc(n),n.flags|=1,xe(t,n,r,f),n.child)}function pg(t,n,r,l,c){if(ia(n),n.stateNode===null){var f=qa,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ah,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},vh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):qa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(rh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&ah.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ea(r,E);f.props=b;var O=f.context,j=r.contextType;y=qa,typeof j=="object"&&j!==null&&(y=ke(j));var Y=r.getDerivedStateFromProps;j=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==y)&&ng(n,f,l,y),rr=!1;var P=n.memoizedState;f.state=P,dl(n,l,f,c),fl(),O=n.memoizedState,E||P!==O||rr?(typeof Y=="function"&&(rh(n,r,Y,l),O=n.memoizedState),(b=rr||eg(n,r,b,l,P,O,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Eh(t,n),y=n.memoizedProps,j=ea(r,y),f.props=j,Y=n.pendingProps,P=f.context,O=r.contextType,b=qa,typeof O=="object"&&O!==null&&(b=ke(O)),E=r.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==b)&&ng(n,f,l,b),rr=!1,P=n.memoizedState,f.state=P,dl(n,l,f,c),fl();var k=n.memoizedState;y!==Y||P!==k||rr||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof E=="function"&&(rh(n,r,E,l),k=n.memoizedState),(j=rr||eg(n,r,j,l,P,k,b)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ol(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Zr(n,t.child,null,c),n.child=Zr(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function yg(t,n,r,l){return Js(),n.flags|=256,xe(t,n,r,l),n.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function oh(t){return{baseLanes:t,cachePool:vm()}}function ch(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function _g(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Wi(n):tr(),zt){var E=Ue,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Yr!==null?{id:yi,overflow:_i}:null,retryLane:536870912},b=Dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,Ue=null,b=!0):b=!1}b||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=fh({mode:"hidden",children:E},c),l=aa(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=oh(r),c.childLanes=ch(t,y,r),n.memoizedState=uh,l):(Wi(n),hh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=dh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=fh({mode:"visible",children:l.children},E),c=aa(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Zr(n,t.child,null,r),l=n.child,l.memoizedState=oh(r),l.childLanes=ch(t,y,r),n.memoizedState=uh,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var O=y.dgst;y=O,l=Error(a(419)),l.stack="",l.digest=y,Ws({value:l,source:null,stack:null}),n=dh(t,n,r)}else if(Ve||cl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Yt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ji(t,l),$e(y,t,l),og}E.data==="$?"||kh(),n=dh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=OE.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Ue=xn(E.nextSibling),Ze=n,zt=!0,Nn=null,Kn=!1,t!==null&&(An[Sn++]=yi,An[Sn++]=_i,An[Sn++]=Yr,yi=t.id,_i=t.overflow,Yr=n),n=hh(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,b=t.child,O=b.sibling,l=cr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,O!==null?c=cr(O,c):(c=aa(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=oh(r):(b=E.cachePool,b!==null?(O=Se._currentValue,b=b.parent!==O?{parent:O,pool:O}:b):b=vm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=ch(t,y,r),n.memoizedState=uh,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function hh(t,n){return n=fh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fh(t,n){return Gg(t,n,0,null)}function dh(t,n,r){return Zr(n,t.child,null,r),t=hh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),yh(t.return,n,r)}function mh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Eg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,r,n);else if(t.tag===19)vg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Pu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),mh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Pu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}mh(n,!0,r,null,f);break;case"together":mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,!(r&n.childLanes))if(t!==null){if(cl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function gh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function yE(t,n,r){switch(n.tag){case 3:Li(n,n.stateNode.containerInfo),ir(n,Se,t.memoizedState.cache),Js();break;case 27:case 5:Cs(n);break;case 4:Li(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):r&n.child.childLanes?_g(t,n,r):(Wi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(cl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Eg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,dg(t,n,r);case 24:ir(n,Se,t.memoizedState.cache)}return Ti(t,n,r)}function Tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!gh(t,r)&&!(n.flags&128))return Ve=!1,yE(t,n,r);Ve=!!(t.flags&131072)}else Ve=!1,zt&&n.flags&1048576&&am(n,Uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Vh(l)?(t=ea(l,t),n.tag=1,n=pg(null,n,l,t,r)):(n.tag=0,n=lh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=cg(null,n,l,t,r);break t}else if(c===yt){n.tag=14,n=hg(null,n,l,t,r);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return lh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ea(l,n.pendingProps),pg(t,n,l,c,r);case 3:t:{if(Li(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Eh(t,n),dl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ir(n,Se,f),f!==c.cache&&_h(n,[Se],r,!0),fl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=yg(t,n,f,r);break t}else if(f!==l){l=Tn(Error(a(424)),n),Ws(l),n=yg(t,n,f,r);break t}else for(Ue=xn(n.stateNode.containerInfo.firstChild),Ze=n,zt=!0,Nn=null,Kn=!0,r=mm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Js(),f===l){n=Ti(t,n,r);break t}xe(t,n,f,r)}n=n.child}return n;case 26:return ol(t,n),t===null?(r=bp(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=mo(dn.current).createElement(r),l[we]=n,l[ve]=t,Le(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Cs(n),t===null&&zt&&(l=n.stateNode=Tp(n.type,n.pendingProps,dn.current),Ze=n,Kn=!0,Ue=xn(l.firstChild)),l=n.pendingProps.children,t!==null||zt?xe(t,n,l,r):n.child=Zr(n,null,l,r),ol(t,n),n.child;case 5:return t===null&&zt&&((c=l=Ue)&&(l=YE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,Ue=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||Xr(n)),Cs(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,ef(c,f)?l=null:y!==null&&ef(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=jc(t,n,cE,null,null,r),Cl._currentValue=c),ol(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=Ue)&&(r=KE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Xr(n)),null;case 13:return _g(t,n,r);case 4:return Li(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zr(n,null,l,r):xe(t,n,l,r),n.child;case 11:return cg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ia(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return hg(t,n,n.type,n.pendingProps,r);case 15:return fg(t,n,n.type,n.pendingProps,r);case 19:return Eg(t,n,r);case 22:return dg(t,n,r);case 24:return ia(n),l=ke(Se),t===null?(c=kc(),c===null&&(c=Yt,f=Pc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},vh(n),ir(n,Se,c)):(t.lanes&r&&(Eh(t,n),dl(n,null,null,r),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Se,l)):(l=f.cache,ir(n,Se,l),l!==c.cache&&_h(n,[Se],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var ph=xt(null),na=null,Ai=null;function ir(t,n,r){Ht(ph,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=ph.current,te(ph)}function yh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function _h(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),yh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),yh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===xi.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}c=c.return}t!==null&&_h(n,t,r,l),n.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Ag(na,t)}function Ju(t,n){return na===null&&ia(t),Ag(t,n)}function Ag(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var rr=!1;function vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Jt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mu(t),im(t,null,r),n}return Ou(t,l,n,r),Mu(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function Th(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ah=!1;function fl(){if(Ah){var t=Fa;if(t!==null)throw t}}function dl(t,n,r,l){Ah=!1;var c=t.updateQueue;rr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,O=b.next;b.next=null,y===null?f=O:y.next=O,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=O:E.next=O,j.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,j=O=b=null,E=f;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(Ot&P)===P:(l&P)===P){P!==0&&P===Qa&&(Ah=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;P=n;var re=r;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Y=at.call(re,Y,P);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,P=typeof at=="function"?at.call(re,Y,P):at,P==null)break t;Y=D({},Y,P);break t;case 2:rr=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(O=j=k,b=Y):j=j.next=k,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);j===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=O,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),hr|=y,t.lanes=y,t.memoizedState=Y}}function Sg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function bg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Sg(r[t],n)}function ml(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(O){Ft(c,b,O)}}}l=l.next}while(l!==f)}}catch(O){Ft(n,n.return,O)}}function Rg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{bg(n,r)}catch(l){Ft(t,t.return,l)}}}function wg(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function ra(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Ft(t,n,f)}}function un(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function Dg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function Cg(t,n,r){try{var l=t.stateNode;HE(l,t.type,r,n),l[ve]=n}catch(c){Ft(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Sh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(bh(t,n,r),t=t.sibling;t!==null;)bh(t,n,r),t=t.sibling}function Wu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wu(t,n,r),t=t.sibling;t!==null;)Wu(t,n,r),t=t.sibling}var bi=!1,ne=!1,Rh=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,Ie=null,Og=!1;function _E(t,n){if(t=t.containerInfo,Wh=Eo,t=Kd(t),Dc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,O=0,j=0,Y=t,P=null;e:for(;;){for(var k;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)P=Y,Y=k;for(;;){if(Y===t)break e;if(P===r&&++O===c&&(E=y),P===f&&++j===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(tf={focusedElem:t,selectionRange:r},Eo=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var at=ea(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(r,r.return,gt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return at=Og,Og=!1,at}function Mg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&ml(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&Rg(r),l&512&&ra(r,r.return);break;case 3:if(wi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{bg(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:wi(t,r),l&512&&ra(r,r.return);break;case 27:case 5:wi(t,r),n===null&&l&4&&Dg(r),l&512&&ra(r,r.return);break;case 12:wi(t,r);break;case 13:wi(t,r),l&4&&xg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ne;var f=bi,y=ne;bi=c,(ne=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=f,ne=y}l&512&&(r.memoizedProps.mode==="manual"?ra(r,r.return):un(r,r.return));break;default:wi(t,r)}}function Ng(t){var n=t.alternate;n!==null&&(t.alternate=null,Ng(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,on=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Ug(t,n,r),r=r.sibling}function Ug(t,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ne||un(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||un(r,n);var l=de,c=on;for(de=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Ur(r),de=l,on=c;break;case 5:ne||un(r,n);case 6:c=de;var f=on;if(de=null,Ri(t,n,r),de=c,on=f,de!==null)if(on)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Ft(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Ft(r,n,y)}break;case 18:de!==null&&(on?(n=de,r=r.stateNode,n.nodeType===8?rf(n.parentNode,r):n.nodeType===1&&rf(n,r),Ml(n)):rf(de,r.stateNode));break;case 4:l=de,c=on,de=r.stateNode.containerInfo,on=!0,Ri(t,n,r),de=l,on=c;break;case 0:case 11:case 14:case 15:ne||lr(2,r,n),ne||lr(4,r,n),Ri(t,n,r);break;case 1:ne||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&wg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ne||un(r,n),ne=(l=ne)||r.memoizedState!==null,Ri(t,n,r),ne=l;break;default:Ri(t,n,r)}}function xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(r){Ft(n,n.return,r)}}function vE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ig),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ig),n;default:throw Error(a(435,t.tag))}}function wh(t,n){var r=vE(t);n.forEach(function(l){var c=ME.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,on=!1;break t;case 3:de=E.stateNode.containerInfo,on=!0;break t;case 4:de=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(de===null)throw Error(a(160));Ug(f,y,c),de=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,t),n=n.sibling}var Un=null;function Lg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),wn(t),l&4&&(lr(3,t,t.return),ml(3,t),lr(5,t,t.return));break;case 1:Rn(n,t),wn(t),l&512&&(ne||r===null||un(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(Rn(n,t),wn(t),l&512&&(ne||r===null||un(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[we]=t,Zt(f),l=f;break t;case"link":var y=Dp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Dp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,Zt(f),l=f}t.stateNode=l}else Cp(c,t.type,t.stateNode);else t.stateNode=wp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Cp(c,t.type,t.stateNode):wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var O=b.nextSibling,j=b.nodeName;b[Gi]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=O}for(var Y=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);Le(c,Y,f),c[we]=t,c[ve]=f}catch(at){Ft(t,t.return,at)}}case 5:if(Rn(n,t),wn(t),l&512&&(ne||r===null||un(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(at){Ft(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Cg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Rh=!0);break;case 6:if(Rn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(at){Ft(t,t.return,at)}}break;case 3:if(yo=null,c=Un,Un=go(n.containerInfo),Rn(n,t),Un=c,wn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(at){Ft(t,t.return,at)}Rh&&(Rh=!1,zg(t));break;case 4:l=Un,Un=go(t.stateNode.containerInfo),Rn(n,t),wn(t),Un=l;break;case 12:Rn(n,t),wn(t);break;case 13:Rn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wh(t,l)));break;case 22:if(l&512&&(ne||r===null||un(r,r.return)),b=t.memoizedState!==null,O=r!==null&&r.memoizedState!==null,j=bi,Y=ne,bi=j||b,ne=Y||O,Rn(n,t),ne=Y,bi=j,wn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=bi||ne,r===null||O||n||Za(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){O=r=n;try{if(c=O.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=O.stateNode,E=O.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(at){Ft(O,O.return,at)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=b?"":O.memoizedProps}catch(at){Ft(O,O.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,wh(t,r))));break;case 19:Rn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wh(t,l)));break;case 21:break;default:Rn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Vg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Sh(t);Wu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(pn(y,""),l.flags&=-33);var E=Sh(t);Wu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,O=Sh(t);bh(t,O,b);break;default:throw Error(a(161))}}}catch(j){Ft(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mg(t,n.alternate,n),n=n.sibling}function Za(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Za(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&wg(n,n.return,r),Za(n);break;case 26:case 27:case 5:un(n,n.return),Za(n);break;case 22:un(n,n.return),n.memoizedState===null&&Za(n);break;default:Za(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),ml(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ft(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Sg(b[c],E)}catch(O){Ft(l,l.return,O)}}r&&y&64&&Rg(f),ra(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&y&4&&Dg(f),ra(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&xg(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),ra(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function Dh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function Ch(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(t,n,r,l),n=n.sibling}function Bg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&ml(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ft(n,n.return,b)}}else or(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?or(t,n,r,l):gl(t,n):f._visibility&4?or(t,n,r,l):(f._visibility|=4,$a(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Dh(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&Ch(n.alternate,n);break;default:or(t,n,r,l)}}function $a(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,O=y.flags;switch(y.tag){case 0:case 11:case 15:$a(f,y,E,b,c),ml(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&4?$a(f,y,E,b,c):gl(f,y):(j._visibility|=4,$a(f,y,E,b,c)),c&&O&2048&&Dh(y.alternate,y);break;case 24:$a(f,y,E,b,c),c&&O&2048&&Ch(y.alternate,y);break;default:$a(f,y,E,b,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:gl(r,l),c&2048&&Dh(l.alternate,l);break;case 24:gl(r,l),c&2048&&Ch(l.alternate,l);break;default:gl(r,l)}n=n.sibling}}var pl=8192;function Ja(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Pg(t),t=t.sibling}function Pg(t){switch(t.tag){case 26:Ja(t),t.flags&pl&&t.memoizedState!==null&&l0(Un,t.memoizedState,t.memoizedProps);break;case 5:Ja(t);break;case 3:case 4:var n=Un;Un=go(t.stateNode.containerInfo),Ja(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=pl,pl=16777216,Ja(t),pl=n):Ja(t));break;default:Ja(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Hg(l,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,to(t)):yl(t);break;default:yl(t)}}function to(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Hg(l,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),to(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,to(n));break;default:to(n)}t=t.sibling}}function Hg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Ng(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function EE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new EE(t,n,r,l)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function jg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Vh(t)&&(y=1);else if(typeof t=="string")y=a0(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return aa(r.children,c,f,n);case v:y=8,c|=24;break;case S:return t=Dn(12,r,n,c|2),t.elementType=S,t.lanes=f,t;case W:return t=Dn(13,r,n,c),t.elementType=W,t.lanes=f,t;case Z:return t=Dn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case Tt:return Gg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case H:y=10;break t;case z:y=9;break t;case X:y=11;break t;case yt:y=14;break t;case dt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Dn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function aa(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function Gg(t,n,r,l){t=Dn(22,t,l,n),t.elementType=Tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var y=Ji(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if(c._pendingVisibility&2){var y=Ji(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Ih(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function Oh(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Vp(n)){if(n=bn.current,n!==null&&((Ot&4194176)===Ot?Xn!==null:(Ot&62914560)!==Ot&&!(Ot&536870912)||n!==Xn))throw el=Lc,um;t.flags|=8192}}function no(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qi():536870912,t.lanes|=n,ts|=n)}function _l(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function TE(t,n,r){var l=n.pendingProps;switch(Uc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Se),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($s(n)?Di(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nn!==null&&(Ph(Nn),Nn=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?($t(n),Qg(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),$t(n),Qg(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),$t(n),n.flags&=-16777217),null;case 27:va(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Fe.current,$s(n)?sm(n):(t=Tp(c,l,r),n.stateNode=t,Di(n))}return $t(n),null;case 5:if(va(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Fe.current,$s(n))sm(n);else{switch(c=mo(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=dn.current,$s(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||gp(t.nodeValue,r)),t||Xr(n)}else t=mo(t).createTextNode(l),t[we]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$s(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Js(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$t(n),c=!1}else Nn!==null&&(Ph(Nn),Nn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),no(n,n.updateQueue),$t(n),null;case 4:return si(),t===null&&Zh(n.stateNode.containerInfo),$t(n),null;case 10:return Si(n.type),$t(n),null;case 19:if(te(Ae),c=n.memoizedState,c===null)return $t(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Pu(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,no(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)jg(r,t),r=r.sibling;return Ht(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>io&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=Pu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,no(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return $t(n),null}else 2*Je()-c.renderingStartTime>io&&r!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ae.current,Ht(Ae,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return vi(n),Bc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&no(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Se),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function AE(t,n){switch(Uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Se),si(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return va(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(Ae),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),Bc(),t!==null&&te($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Se),null;case 25:return null;default:return null}}function Fg(t,n){switch(Uc(n),n.tag){case 3:Si(Se),si();break;case 26:case 27:case 5:va(n);break;case 4:si();break;case 13:vi(n);break;case 19:te(Ae);break;case 10:Si(n.type);break;case 22:case 23:vi(n),Bc(),t!==null&&te($r);break;case 24:Si(Se)}}var SE={getCacheForType:function(t){var n=ke(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},bE=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Yt=null,Rt=null,Ot=0,Kt=0,cn=null,Ci=!1,Wa=!1,Mh=!1,Vi=0,ie=0,hr=0,sa=0,Nh=0,Cn=0,ts=0,vl=null,$n=null,Uh=!1,xh=0,io=1/0,ro=null,fr=null,ao=!1,la=null,El=0,Lh=0,zh=null,Tl=0,Bh=null;function hn(){if(Jt&2&&Ot!==0)return Ot&-Ot;if(A.T!==null){var t=Qa;return t!==0?t:Fh()}return hu()}function Yg(){Cn===0&&(Cn=!(Ot&536870912)||zt?Ns():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function $e(t,n,r){(t===Yt&&Kt===2||t.cancelPendingCommit!==null)&&(es(t,0),Ii(t,Ot,Cn,!1)),se(t,r),(!(Jt&2)||t!==Yt)&&(t===Yt&&(!(Jt&2)&&(sa|=r),ie===4&&Ii(t,Ot,Cn,!1)),Jn(t))}function Kg(t,n,r){if(Jt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Pi(t,n),c=l?DE(t,n):Hh(t,n,!0),f=l;do{if(c===0){Wa&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!RE(r)){c=Hh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=vl;var b=E.current.memoizedState.isDehydrated;if(b&&(es(E,y).flags|=256),y=Hh(E,y,!1),y!==2){if(Mh&&!b){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=$n,$n=c,f!==null&&Ph(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){es(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ii(l,n,Cn,!Ci);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=xh+300-Je(),10<f)){if(Ii(l,n,Cn,!Ci),mn(l,0)!==0)break t;l.timeoutHandle=_p(Xg.bind(null,l,r,$n,ro,Uh,n,Cn,sa,ts,Ci,2,-0,0),f);break t}Xg(l,r,$n,ro,Uh,n,Cn,sa,ts,Ci,0,-0,0)}}break}while(!0);Jn(t)}function Ph(t){$n===null?$n=t:$n.push.apply($n,t)}function Xg(t,n,r,l,c,f,y,E,b,O,j,Y,P){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:s0},Pg(n),n=u0(),n!==null)){t.cancelPendingCommit=n(np.bind(null,t,r,l,c,y,E,b,1,Y,P)),Ii(t,f,y,!O);return}np(t,r,l,c,y,E,b,j,Y,P)}function RE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,r,l){n&=~Nh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ki(t,r,n)}function so(){return Jt&6?!0:(Al(0),!1)}function qh(){if(Rt!==null){if(Kt===0)var t=Rt.return;else t=Rt,Ai=na=null,Fc(t),ja=null,nl=0,t=Rt;for(;t!==null;)Fg(t.alternate,t),t=t.return;Rt=null}}function es(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,GE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),qh(),Yt=t,Rt=r=cr(t.current,null),Ot=n,Kt=0,cn=null,Ci=!1,Wa=Pi(t,n),Mh=!1,ts=Cn=Nh=sa=hr=ie=0,$n=vl=null,Uh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Iu(),r}function Zg(t,n){St=null,A.H=Zn,n===tl?(n=hm(),Kt=3):n===um?(n=hm(),Kt=4):Kt=n===og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Rt===null&&(ie=1,Zu(t,Tn(n,t.current)))}function $g(){var t=A.H;return A.H=Zn,t===null?Zn:t}function Jg(){var t=A.A;return A.A=SE,t}function kh(){ie=4,Ci||(Ot&4194176)!==Ot&&bn.current!==null||(Wa=!0),!(hr&134217727)&&!(sa&134217727)||Yt===null||Ii(Yt,Ot,Cn,!1)}function Hh(t,n,r){var l=Jt;Jt|=2;var c=$g(),f=Jg();(Yt!==t||Ot!==n)&&(ro=null,es(t,n)),n=!1;var y=ie;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,b=cn;switch(Kt){case 8:qh(),y=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var O=Kt;if(Kt=0,cn=null,ns(t,E,b,O),r&&Wa){y=0;break t}break;default:O=Kt,Kt=0,cn=null,ns(t,E,b,O)}}wE(),y=ie;break}catch(j){Zg(t,j)}while(!0);return n&&t.shellSuspendCounter++,Ai=na=null,Jt=l,A.H=c,A.A=f,Rt===null&&(Yt=null,Ot=0,Iu()),y}function wE(){for(;Rt!==null;)Wg(Rt)}function DE(t,n){var r=Jt;Jt|=2;var l=$g(),c=Jg();Yt!==t||Ot!==n?(ro=null,io=Je()+500,es(t,n)):Wa=Pi(t,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=cn;e:switch(Kt){case 1:Kt=0,cn=null,ns(t,n,f,1);break;case 2:if(om(f)){Kt=0,cn=null,tp(n);break}n=function(){Kt===2&&Yt===t&&(Kt=7),Jn(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:om(f)?(Kt=0,cn=null,tp(n)):(Kt=0,cn=null,ns(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Vp(y)){Kt=0,cn=null;var b=E.sibling;if(b!==null)Rt=b;else{var O=E.return;O!==null?(Rt=O,lo(O)):Rt=null}break e}}Kt=0,cn=null,ns(t,n,f,5);break;case 6:Kt=0,cn=null,ns(t,n,f,6);break;case 8:qh(),ie=6;break t;default:throw Error(a(462))}}CE();break}catch(j){Zg(t,j)}while(!0);return Ai=na=null,A.H=l,A.A=c,Jt=r,Rt!==null?0:(Yt=null,Ot=0,Iu(),ie)}function CE(){for(;Rt!==null&&!pc();)Wg(Rt)}function Wg(t){var n=Tg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?lo(t):Rt=n}function tp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=gg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=gg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Fc(n);default:Fg(r,n),n=Rt=jg(n,Vi),n=Tg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?lo(t):Rt=n}function ns(t,n,r,l){Ai=na=null,Fc(n),ja=null,nl=0;var c=n.return;try{if(pE(t,c,n,r,Ot)){ie=1,Zu(t,Tn(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ie=1,Zu(t,Tn(r,t.current)),Rt=null;return}n.flags&32768?(zt||l===1?t=!0:Wa||Ot&536870912?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ep(n,t)):lo(n)}function lo(t){var n=t;do{if(n.flags&32768){ep(n,Ci);return}t=n.return;var r=TE(n.alternate,n,Vi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ie===0&&(ie=5)}function ep(t,n){do{var r=AE(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ie=6,Rt=null}function np(t,n,r,l,c,f,y,E,b,O){var j=A.T,Y=et.p;try{et.p=2,A.T=null,VE(t,n,r,l,Y,c,f,y,E,b,O)}finally{A.T=j,et.p=Y}}function VE(t,n,r,l,c,f,y,E){do is();while(la!==null);if(Jt&6)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=b.lanes|b.childLanes;if(O|=Oc,ou(t,l,O,f,y,E),t===Yt&&(Rt=Yt=null,Ot=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||ao||(ao=!0,Lh=O,zh=r,NE(li,function(){return is(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=A.T,A.T=null,f=et.p,et.p=2,y=Jt,Jt|=4,_E(t,b),Lg(b,t),Wv(tf,t.containerInfo),Eo=!!Wh,tf=Wh=null,t.current=b,Mg(t,b.alternate,b),Vs(),Jt=y,et.p=f,A.T=r):t.current=b,ao?(ao=!1,la=t,El=l):ip(t,O),O=t.pendingLanes,O===0&&(fr=null),Os(b.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)O=n[b],c(O.value,{componentStack:O.stack});return El&3&&is(),O=t.pendingLanes,l&4194218&&O&42?t===Bh?Tl++:(Tl=0,Bh=t):Tl=0,Al(0),null}function ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function is(){if(la!==null){var t=la,n=Lh;Lh=0;var r=cu(El),l=A.T,c=et.p;try{if(et.p=32>r?32:r,A.T=null,la===null)var f=!1;else{r=zh,zh=null;var y=la,E=El;if(la=null,El=0,Jt&6)throw Error(a(331));var b=Jt;if(Jt|=4,kg(y.current),Bg(y,y.current,E,r),Jt=b,Al(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(zi,y)}catch{}f=!0}return f}finally{et.p=c,A.T=l,ip(t,n)}}return!1}function rp(t,n,r){n=Tn(r,n),n=sh(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(se(t,2),Jn(t))}function Ft(t,n,r){if(t.tag===3)rp(t,t,r);else for(;n!==null;){if(n.tag===3){rp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=Tn(r,t),r=lg(2),l=sr(n,r,2),l!==null&&(ug(r,l,n,t),se(l,2),Jn(l));break}}n=n.return}}function jh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new bE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Mh=!0,c.add(r),t=IE.bind(null,t,n,r),n.then(t,t))}function IE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(Ot&r)===r&&(ie===4||ie===3&&(Ot&62914560)===Ot&&300>Je()-xh?!(Jt&2)&&es(t,0):Nh|=r,ts===Ot&&(ts=0)),Jn(t)}function ap(t,n){n===0&&(n=qi()),t=Ji(t,n),t!==null&&(se(t,n),Jn(t))}function OE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),ap(t,r)}function ME(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ap(t,r)}function NE(t,n){return Or(t,n)}var uo=null,rs=null,Gh=!1,oo=!1,Qh=!1,ua=0;function Jn(t){t!==rs&&t.next===null&&(rs===null?uo=rs=t:rs=rs.next=t),oo=!0,Gh||(Gh=!0,xE(UE))}function Al(t,n){if(!Qh&&oo){Qh=!0;do for(var r=!1,l=uo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,up(l,f))}else f=Ot,f=mn(l,l===Yt?f:0),!(f&3)||Pi(l,f)||(r=!0,up(l,f));l=l.next}while(r);Qh=!1}}function UE(){oo=Gh=!1;var t=0;ua!==0&&(jE()&&(t=ua),ua=0);for(var n=Je(),r=null,l=uo;l!==null;){var c=l.next,f=sp(l,n);f===0?(l.next=null,r===null?uo=c:r.next=c,c===null&&(rs=r)):(r=l,(t!==0||f&3)&&(oo=!0)),l=c}Al(t)}function sp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,b=c[y];b===-1?(!(E&r)||E&l)&&(c[y]=Aa(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Yt,r=Ot,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Kt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ta(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Pi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ta(l),cu(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Is;break;default:r=li}return l=lp.bind(null,t),r=Or(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ta(l),t.callbackPriority=2,t.callbackNode=null,2}function lp(t,n){var r=t.callbackNode;if(is()&&t.callbackNode!==r)return null;var l=Ot;return l=mn(t,t===Yt?l:0),l===0?null:(Kg(t,l,n),sp(t,Je()),t.callbackNode!=null&&t.callbackNode===r?lp.bind(null,t):null)}function up(t,n){if(is())return null;Kg(t,n,!0)}function xE(t){QE(function(){Jt&6?Or(_e,t):t()})}function Fh(){return ua===0&&(ua=Ns()),ua}function op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kn(""+t)}function cp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function LE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=op((c[ve]||null).action),y=l.submitter;y&&(n=(n=y[ve]||null)?op(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Va("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var b=y?cp(c,y):new FormData(c);eh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?cp(c,y):new FormData(c),eh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Yh=0;Yh<nm.length;Yh++){var Kh=nm[Yh],zE=Kh.toLowerCase(),BE=Kh[0].toUpperCase()+Kh.slice(1);Mn(zE,"on"+BE)}Mn($d,"onAnimationEnd"),Mn(Jd,"onAnimationIteration"),Mn(Wd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(eE,"onTransitionRun"),Mn(nE,"onTransitionStart"),Mn(iE,"onTransitionCancel"),Mn(tm,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function hp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,O=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(j){Xu(j)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,O=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(j){Xu(j)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Nr];r===void 0&&(r=n[Nr]=new Set);var l=t+"__bubble";r.has(l)||(fp(n,t,2,!1),r.add(l))}function Xh(t,n,r){var l=0;n&&(l|=4),fp(r,t,l,n)}var co="_reactListening"+Math.random().toString(36).slice(2);function Zh(t){if(!t[co]){t[co]=!0,xs.forEach(function(r){r!=="selectionchange"&&(PE.has(r)||Xh(r,!1,t),Xh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[co]||(n[co]=!0,Xh("selectionchange",!1,n))}}function fp(t,n,r,l){switch(xp(n)){case 2:var c=h0;break;case 8:c=f0;break;default:c=cf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function $h(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=On(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}gu(function(){var O=f,j=Ca(r),Y=[];t:{var P=em.get(t);if(P!==void 0){var k=Va,at=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":k=xa;break;case"focusin":at="focus",k=Ma;break;case"focusout":at="blur",k=Ma;break;case"beforeblur":case"afterblur":k=Ma;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Su;break;case $d:case Jd:case Wd:k=Na;break;case tm:k=Ru;break;case"scroll":case"scrollend":k=pu;break;case"wheel":k=La;break;case"copy":case"cut":case"paste":k=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ys;break;case"toggle":case"beforetoggle":k=Du}var gt=(n&4)!==0,re=!gt&&(t==="scroll"||t==="scrollend"),U=gt?P!==null?P+"Capture":null:P;gt=[];for(var I=O,B;I!==null;){var G=I;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||U===null||(G=Br(I,U),G!=null&&gt.push(bl(I,G,B))),re)break;I=I.return}0<gt.length&&(P=new k(P,at,null,r,j),Y.push({event:P,listeners:gt}))}}if(!(n&7)){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&r!==yn&&(at=r.relatedTarget||r.fromElement)&&(On(at)||at[ui]))break t;if((k||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,k?(at=r.relatedTarget||r.toElement,k=O,at=at?On(at):null,at!==null&&(re=ut(at),gt=at.tag,at!==re||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(k=null,at=O),k!==at)){if(gt=vn,G="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Ys,G="onPointerLeave",U="onPointerEnter",I="pointer"),re=k==null?P:Qi(k),B=at==null?P:Qi(at),P=new gt(G,I+"leave",k,r,j),P.target=re,P.relatedTarget=B,G=null,On(j)===O&&(gt=new gt(U,I+"enter",at,r,j),gt.target=B,gt.relatedTarget=re,G=gt),re=G,k&&at)e:{for(gt=k,U=at,I=0,B=gt;B;B=as(B))I++;for(B=0,G=U;G;G=as(G))B++;for(;0<I-B;)gt=as(gt),I--;for(;0<B-I;)U=as(U),B--;for(;I--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=as(gt),U=as(U)}gt=null}else gt=null;k!==null&&dp(Y,P,k,gt,!1),at!==null&&re!==null&&dp(Y,re,at,gt,!0)}}t:{if(P=O?Qi(O):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var rt=qd;else if(Te(P))if(kd)rt=$v;else{rt=Xv;var bt=Kv}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&qs(O.elementType)&&(rt=qd):rt=Zv;if(rt&&(rt=rt(t,O))){pi(Y,rt,r,j);break t}bt&&bt(t,P,O),t==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&Da(P,"number",P.value)}switch(bt=O?Qi(O):window,t){case"focusin":(Te(bt)||bt.contentEditable==="true")&&(za=bt,Cc=O,Zs=null);break;case"focusout":Zs=Cc=za=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Xd(Y,r,j);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":Xd(Y,r,j)}var lt;if(Fn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Vt?q(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(p&&r.locale!=="ko"&&(Vt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vt&&(lt=Hs()):(Hn=j,$i="value"in Hn?Hn.value:Hn.textContent,Vt=!0)),bt=ho(O,ct),0<bt.length&&(ct=new Qs(ct,t,null,r,j),Y.push({event:ct,listeners:bt}),lt?ct.data=lt:(lt=$(r),lt!==null&&(ct.data=lt)))),(lt=m?Ee(t,r):It(t,r))&&(ct=ho(O,"onBeforeInput"),0<ct.length&&(bt=new Qs("onBeforeInput","beforeinput",null,r,j),Y.push({event:bt,listeners:ct}),bt.data=lt)),LE(Y,t,O,r,j)}hp(Y,n)})}function bl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ho(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(bl(t,c,f)),c=Br(t,n),c!=null&&l.push(bl(t,c,f))),t=t.return}return l}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,O=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||O===null||(b=O,c?(O=Br(r,f),O!=null&&y.unshift(bl(r,O,b))):c||(O=Br(r,f),O!=null&&y.push(bl(r,O,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var qE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function mp(t){return(typeof t=="string"?t:""+t).replace(qE,`
`).replace(kE,"")}function gp(t,n){return n=mp(n),mp(t)===n}function fo(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":mu(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tc.get(r)||r,Yi(t,r,l))}}function Jh(t,n,r,l,c,f){switch(r){case"style":mu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,y,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":O=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Gt(t,n,l,j,r,null)}}Lr(t,f,E,b,O,y,c,!1),xr(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):r!=null&&Lt(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,y,E,r,null)}Zi(t,l,c,f),xr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,b,l,r,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Ct(Sl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,O,l,r,null)}return;default:if(qs(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Jh(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function HE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,O=null,j=null;for(k in r){var Y=r[k];if(r.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||Gt(t,n,k,null,l,Y)}}for(var P in l){var k=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(k!=null||Y!=null))switch(P){case"type":f=k;break;case"name":c=k;break;case"checked":O=k;break;case"defaultChecked":j=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Y&&Gt(t,n,P,k,l,Y)}}Xi(t,y,E,b,O,j,f,c);return;case"select":k=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Gt(t,n,c,f,l,b)}n=E,r=y,l=k,P!=null?Lt(t,!!r,P,!1):!!l!=!!r&&(n!=null?Lt(t,!!r,n,!0):Lt(t,!!r,r?[]:"",!1));return;case"textarea":k=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,y,c,l,f)}zr(t,P,k);return;case"option":for(var at in r)if(P=r[at],r.hasOwnProperty(at)&&P!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Gt(t,n,at,null,l,P)}for(b in l)if(P=l[b],k=r[b],l.hasOwnProperty(b)&&P!==k&&(P!=null||k!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Gt(t,n,b,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)P=r[gt],r.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,P);for(O in l)if(P=l[O],k=r[O],l.hasOwnProperty(O)&&P!==k&&(P!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Gt(t,n,O,P,l,k)}return;default:if(qs(n)){for(var re in r)P=r[re],r.hasOwnProperty(re)&&P!==void 0&&!l.hasOwnProperty(re)&&Jh(t,n,re,void 0,l,P);for(j in l)P=l[j],k=r[j],!l.hasOwnProperty(j)||P===k||P===void 0&&k===void 0||Jh(t,n,j,P,l,k);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Gt(t,n,U,null,l,P);for(Y in l)P=l[Y],k=r[Y],!l.hasOwnProperty(Y)||P===k||P==null&&k==null||Gt(t,n,Y,P,l,k)}var Wh=null,tf=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nf=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===nf?!1:(nf=t,!0):(nf=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(FE)}:_p;function FE(t){setTimeout(function(){throw t})}function rf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Ml(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Ml(n)}function af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":af(r),Ur(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function YE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function KE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Ep(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Tp(t,n,r){switch(n=mo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Vn=new Map,Ap=new Set;function go(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=et.d;et.d={f:XE,r:ZE,D:$E,C:JE,L:WE,m:t0,X:n0,S:e0,M:i0};function XE(){var t=Oi.f(),n=so();return t||n}function ZE(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?Xm(n):Oi.r(t)}var ss=typeof document>"u"?null:document;function Sp(t,n,r){var l=ss;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ap.has(c)||(Ap.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function $E(t){Oi.D(t),Sp("dns-prefetch",t,null)}function JE(t,n){Oi.C(t,n),Sp("preconnect",t,n)}function WE(t,n,r){Oi.L(t,n,r);var l=ss;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var f=c;switch(n){case"style":f=ls(t);break;case"script":f=us(t)}Vn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Rl(f))||n==="script"&&l.querySelector(wl(f))||(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function t0(t,n){Oi.m(t,n);var r=ss;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=us(t)}if(!Vn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Vn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wl(f)))return}l=r.createElement("link"),Le(l,"link",t),Zt(l),r.head.appendChild(l)}}}function e0(t,n,r){Oi.S(t,n,r);var l=ss;if(l&&t){var c=Fi(l).hoistableStyles,f=ls(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Rl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vn.get(f))&&sf(t,r);var b=y=l.createElement("link");Zt(b),Le(b,"link",t),b._p=new Promise(function(O,j){b.onload=O,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,po(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function n0(t,n){Oi.X(t,n);var r=ss;if(r&&t){var l=Fi(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=D({src:t,async:!0},n),(n=Vn.get(c))&&lf(t,n),f=r.createElement("script"),Zt(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function i0(t,n){Oi.M(t,n);var r=ss;if(r&&t){var l=Fi(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&lf(t,n),f=r.createElement("script"),Zt(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function bp(t,n,r,l){var c=(c=dn.current)?go(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ls(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ls(r.href);var f=Fi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Rl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),f||r0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=us(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ls(t){return'href="'+ee(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function Rp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function r0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),Zt(n),t.head.appendChild(n))}function us(t){return'[src="'+ee(t)+'"]'}function wl(t){return"script[async]"+t}function wp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),Le(l,"style",c),po(l,r.precedence,t),n.instance=l;case"stylesheet":c=ls(r.href);var f=t.querySelector(Rl(c));if(f)return n.state.loading|=4,n.instance=f,Zt(f),f;l=Rp(r),(c=Vn.get(c))&&sf(l,c),f=(t.ownerDocument||t).createElement("link"),Zt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,po(f,r.precedence,t),n.instance=f;case"script":return f=us(r.src),(c=t.querySelector(wl(f)))?(n.instance=c,Zt(c),c):(l=r,(c=Vn.get(f))&&(l=D({},r),lf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,po(l,r.precedence,t));return n.instance}function po(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yo=null;function Dp(t,n,r){if(yo===null){var l=new Map,c=yo=new Map;c.set(r,l)}else c=yo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Cp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function a0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Dl=null;function s0(){}function l0(t,n,r){if(Dl===null)throw Error(a(475));var l=Dl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ls(r.href),f=t.querySelector(Rl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_o.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Zt(f);return}f=t.ownerDocument||t,r=Rp(r),(c=Vn.get(c))&&sf(r,c),f=f.createElement("link"),Zt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=_o.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function u0(){if(Dl===null)throw Error(a(475));var t=Dl;return t.stylesheets&&t.count===0&&uf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&uf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function _o(){if(this.count--,this.count===0){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function uf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,n.forEach(o0,t),vo=null,_o.call(t))}function o0(t,n){if(!(n.state.loading&4)){var r=vo.get(t);if(r)var l=r.get(null);else{r=new Map,vo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=_o.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:H,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function c0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.hiddenUpdates=Sa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ip(t,n,r,l,c,f,y,E,b,O,j,Y){return t=new c0(t,n,r,y,E,b,O,Y),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=Pc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},vh(f),t}function Op(t){return t?(t=qa,t):qa}function Mp(t,n,r,l,c,f){c=Op(c),l.context===null?l.context=c:l.pendingContext=c,l=ar(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=sr(t,l,n),r!==null&&($e(r,t,n),hl(r,t,n))}function Np(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function of(t,n){Np(t,n),(t=t.alternate)&&Np(t,n)}function Up(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&$e(n,t,67108864),of(t,67108864)}}var Eo=!0;function h0(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=2,cf(t,n,r,l)}finally{et.p=f,A.T=c}}function f0(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=8,cf(t,n,r,l)}finally{et.p=f,A.T=c}}function cf(t,n,r,l){if(Eo){var c=hf(l);if(c===null)$h(t,n,l,To,r),Lp(t,l);else if(m0(c,t,n,r,l))l.stopPropagation();else if(Lp(t,l),n&4&&-1<d0.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ye(y);E.entanglements[1]|=b,y&=~b}Jn(f),!(Jt&6)&&(io=Je()+500,Al(0))}}break;case 13:E=Ji(f,2),E!==null&&$e(E,f,2),so(),of(f,2)}if(f=hf(l),f===null&&$h(t,n,l,To,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else $h(t,n,l,null,r)}}function hf(t){return t=Ca(t),ff(t)}var To=null;function ff(t){if(To=null,t=On(t),t!==null){var n=ut(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return To=t,null}function xp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(au()){case _e:return 2;case Re:return 8;case li:case su:return 32;case Is:return 268435456;default:return 32}default:return 32}}var df=!1,dr=null,mr=null,gr=null,Vl=new Map,Il=new Map,pr=[],d0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function Ol(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&Up(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function m0(t,n,r,l,c){switch(n){case"focusin":return dr=Ol(dr,t,n,r,l,c),!0;case"dragenter":return mr=Ol(mr,t,n,r,l,c),!0;case"mouseover":return gr=Ol(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Ol(Vl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Il.set(f,Ol(Il.get(f)||null,t,n,r,l,c)),!0}return!1}function zp(t){var n=On(t.target);if(n!==null){var r=ut(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,ji(t.priority,function(){if(r.tag===13){var l=hn(),c=Ji(r,l);c!==null&&$e(c,r,l),of(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=hf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=oi(r),n!==null&&Up(n),t.blockedOn=r,!1;n.shift()}return!0}function Bp(t,n,r){Ao(t)&&r.delete(n)}function g0(){df=!1,dr!==null&&Ao(dr)&&(dr=null),mr!==null&&Ao(mr)&&(mr=null),gr!==null&&Ao(gr)&&(gr=null),Vl.forEach(Bp),Il.forEach(Bp)}function So(t,n){t.blockedOn===n&&(t.blockedOn=null,df||(df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,g0)))}var bo=null;function Pp(t){bo!==t&&(bo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bo===t&&(bo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ff(l||r)===null)continue;break}var f=oi(r);f!==null&&(t.splice(n,3),n-=3,eh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ml(t){function n(b){return So(b,t)}dr!==null&&So(dr,t),mr!==null&&So(mr,t),gr!==null&&So(gr,t),Vl.forEach(n),Il.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)zp(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ve]||null;if(typeof f=="function")y||Pp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ve]||null)E=y.formAction;else if(ff(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Pp(r)}}}function mf(t){this._internalRoot=t}Ro.prototype.render=mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();Mp(r,l,t,n,null,null)},Ro.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&is(),Mp(t.current,2,null,t,null,null),so(),n[ui]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&zp(t)}};var qp=e.version;if(qp!=="19.0.0")throw Error(a(527,qp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var p0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{zi=wo.inject(p0),qe=wo}catch{}}return Ul.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=ig,f=rg,y=ag,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Ip(t,1,!1,null,null,r,l,c,f,y,E,null),t[ui]=n.current,Zh(t.nodeType===8?t.parentNode:t),new mf(n)},Ul.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=ig,y=rg,E=ag,b=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=Ip(t,1,!0,n,r??null,l,c,f,y,E,b,O),n.context=Op(null),r=n.current,l=hn(),c=ar(l),c.callback=null,sr(r,c,l),n.current.lanes=l,se(n,l),Jn(n),t[ui]=n.current,Zh(t),new Ro(n)},Ul.version="19.0.0",Ul}var Zp;function w0(){if(Zp)return yf.exports;Zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yf.exports=R0(),yf.exports}var D0=w0(),$p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},C0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,S=h>>2,C=(h&3)<<4|g>>4;let z=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(z=64)),a.push(i[S],i[C],i[z],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(l_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):C0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const C=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||C==null)throw new V0;const z=h<<2|g>>4;if(a.push(z),v!==64){const H=g<<4&240|v>>2;if(a.push(H),C!==64){const X=v<<6&192|C;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class V0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I0=function(s){const e=l_(s);return u_.encodeByteArray(e,!0)},Po=function(s){return I0(s).replace(/\./g,"")},O0=function(s){try{return u_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=()=>M0().__FIREBASE_DEFAULTS__,U0=()=>{if(typeof process>"u"||typeof $p>"u")return;const s=$p.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},x0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&O0(s[1]);return e&&JSON.parse(e)},rd=()=>{try{return N0()||U0()||x0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},L0=s=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},z0=s=>{const e=L0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},o_=()=>{var s;return(s=rd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Po(JSON.stringify(i)),Po(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k0(){var s;const e=(s=rd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H0(){return!k0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j0(){try{return typeof indexedDB=="object"}catch{return!1}}function G0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Q0,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c_.prototype.create)}}class c_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?F0(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new As(u,g,a)}}function F0(s,e){return s.replace(Y0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const Y0=/\{\$([^}]+)}/g;function Mf(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Jp(h)&&Jp(d)){if(!Mf(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Jp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(s){return s&&s._delegate?s._delegate:s}class Gl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new B0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z0(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:X0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X0(s){return s===oa?void 0:s}function Z0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new K0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const J0={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},W0=Nt.INFO,tT={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},eT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=tT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h_{constructor(e){this.name=e,this._logLevel=W0,this._logHandler=eT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const nT=(s,e)=>e.some(i=>s instanceof i);let Wp,ty;function iT(){return Wp||(Wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rT(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f_=new WeakMap,Nf=new WeakMap,d_=new WeakMap,Tf=new WeakMap,ad=new WeakMap;function aT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(vr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&f_.set(i,s)}).catch(()=>{}),ad.set(e,s),e}function sT(s){if(Nf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Nf.set(s,e)}let Uf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Nf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||d_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function lT(s){Uf=s(Uf)}function uT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Af(this),e,...i);return d_.set(a,e.sort?e.sort():[e]),vr(a)}:rT().includes(s)?function(...e){return s.apply(Af(this),e),vr(f_.get(this))}:function(...e){return vr(s.apply(Af(this),e))}}function oT(s){return typeof s=="function"?uT(s):(s instanceof IDBTransaction&&sT(s),nT(s,iT())?new Proxy(s,Uf):s)}function vr(s){if(s instanceof IDBRequest)return aT(s);if(Tf.has(s))return Tf.get(s);const e=oT(s);return e!==s&&(Tf.set(s,e),ad.set(e,s)),e}const Af=s=>ad.get(s);function cT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const hT=["get","getKey","getAll","getAllKeys","count"],fT=["put","add","delete","clear"],Sf=new Map;function ey(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=fT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||hT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Sf.set(e,h),h}lT(s=>({...s,get:(e,i,a)=>ey(e,i)||s.get(e,i,a),has:(e,i)=>!!ey(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(mT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function mT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xf="@firebase/app",ny="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new h_("@firebase/app"),gT="@firebase/app-compat",pT="@firebase/analytics-compat",yT="@firebase/analytics",_T="@firebase/app-check-compat",vT="@firebase/app-check",ET="@firebase/auth",TT="@firebase/auth-compat",AT="@firebase/database",ST="@firebase/data-connect",bT="@firebase/database-compat",RT="@firebase/functions",wT="@firebase/functions-compat",DT="@firebase/installations",CT="@firebase/installations-compat",VT="@firebase/messaging",IT="@firebase/messaging-compat",OT="@firebase/performance",MT="@firebase/performance-compat",NT="@firebase/remote-config",UT="@firebase/remote-config-compat",xT="@firebase/storage",LT="@firebase/storage-compat",zT="@firebase/firestore",BT="@firebase/vertexai",PT="@firebase/firestore-compat",qT="firebase",kT="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",HT={[xf]:"fire-core",[gT]:"fire-core-compat",[yT]:"fire-analytics",[pT]:"fire-analytics-compat",[vT]:"fire-app-check",[_T]:"fire-app-check-compat",[ET]:"fire-auth",[TT]:"fire-auth-compat",[AT]:"fire-rtdb",[ST]:"fire-data-connect",[bT]:"fire-rtdb-compat",[RT]:"fire-fn",[wT]:"fire-fn-compat",[DT]:"fire-iid",[CT]:"fire-iid-compat",[VT]:"fire-fcm",[IT]:"fire-fcm-compat",[OT]:"fire-perf",[MT]:"fire-perf-compat",[NT]:"fire-rc",[UT]:"fire-rc-compat",[xT]:"fire-gcs",[LT]:"fire-gcs-compat",[zT]:"fire-fst",[PT]:"fire-fst-compat",[BT]:"fire-vertex","fire-js":"fire-js",[qT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,jT=new Map,zf=new Map;function iy(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ko(s){const e=s.name;if(zf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,s);for(const i of qo.values())iy(i,s);for(const i of jT.values())iy(i,s);return!0}function GT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function QT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new c_("app","Firebase",FT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=kT;function m_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Lf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=o_()),!i)throw Er.create("no-options");const h=qo.get(u);if(h){if(Mf(i,h.options)&&Mf(a,h.config))return h;throw Er.create("duplicate-app",{appName:u})}const d=new $0(u);for(const _ of zf.values())d.addComponent(_);const g=new YT(i,a,d);return qo.set(u,g),g}function XT(s=Lf){const e=qo.get(s);if(!e&&s===Lf&&o_())return m_();if(!e)throw Er.create("no-app",{appName:s});return e}function ds(s,e,i){var a;let u=(a=HT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}ko(new Gl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebase-heartbeat-database",$T=1,Ql="firebase-heartbeat-store";let bf=null;function g_(){return bf||(bf=cT(ZT,$T,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),bf}async function JT(s){try{const i=(await g_()).transaction(Ql),a=await i.objectStore(Ql).get(p_(s));return await i.done,a}catch(e){if(e instanceof As)Mi.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function ry(s,e){try{const a=(await g_()).transaction(Ql,"readwrite");await a.objectStore(Ql).put(e,p_(s)),await a.done}catch(i){if(i instanceof As)Mi.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(a.message)}}}function p_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=1024,tA=30;class eA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ay();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>tA){const d=rA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ay(),{heartbeatsToSend:a,unsentEntries:u}=nA(this._heartbeatsCache.heartbeats),h=Po(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function ay(){return new Date().toISOString().substring(0,10)}function nA(s,e=WT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),sy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),sy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class iA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j0()?G0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function sy(s){return Po(JSON.stringify({version:2,heartbeats:s})).length}function rA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(s){ko(new Gl("platform-logger",e=>new dT(e),"PRIVATE")),ko(new Gl("heartbeat",e=>new eA(e),"PRIVATE")),ds(xf,ny,s),ds(xf,ny,"esm2017"),ds("fire-js","")}aA("");var sA="firebase",lA="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(sA,lA,"app");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,y_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function A(){}A.prototype=R.prototype,N.D=R.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,M,L){for(var w=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)w[ye-2]=arguments[ye];return R.prototype[M].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)D[M]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=N.g[0],A=N.g[1],M=N.g[2];var L=N.g[3],w=R+(L^A&(M^L))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=L+(M^R&(A^M))+D[1]+3905402710&4294967295,L=R+(w<<12&4294967295|w>>>20),w=M+(A^L&(R^A))+D[2]+606105819&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(R^M&(L^R))+D[3]+3250441966&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(L^A&(M^L))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(M^R&(A^M))+D[5]+1200080426&4294967295,L=R+(w<<12&4294967295|w>>>20),w=M+(A^L&(R^A))+D[6]+2821735955&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(R^M&(L^R))+D[7]+4249261313&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(L^A&(M^L))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(M^R&(A^M))+D[9]+2336552879&4294967295,L=R+(w<<12&4294967295|w>>>20),w=M+(A^L&(R^A))+D[10]+4294925233&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(R^M&(L^R))+D[11]+2304563134&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(L^A&(M^L))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(M^R&(A^M))+D[13]+4254626195&4294967295,L=R+(w<<12&4294967295|w>>>20),w=M+(A^L&(R^A))+D[14]+2792965006&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(R^M&(L^R))+D[15]+1236535329&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(M^L&(A^M))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(R^A))+D[6]+3225465664&4294967295,L=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(L^R))+D[11]+643717713&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(M^L))+D[0]+3921069994&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(M^L&(A^M))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(R^A))+D[10]+38016083&4294967295,L=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(L^R))+D[15]+3634488961&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(M^L))+D[4]+3889429448&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(M^L&(A^M))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(R^A))+D[14]+3275163606&4294967295,L=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(L^R))+D[3]+4107603335&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(M^L))+D[8]+1163531501&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(M^L&(A^M))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(R^A))+D[2]+4243563512&4294967295,L=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(L^R))+D[7]+1735328473&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(M^L))+D[12]+2368359562&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(A^M^L)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^M)+D[8]+2272392833&4294967295,L=R+(w<<11&4294967295|w>>>21),w=M+(L^R^A)+D[11]+1839030562&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^R)+D[14]+4259657740&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(A^M^L)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^M)+D[4]+1272893353&4294967295,L=R+(w<<11&4294967295|w>>>21),w=M+(L^R^A)+D[7]+4139469664&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^R)+D[10]+3200236656&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(A^M^L)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^M)+D[0]+3936430074&4294967295,L=R+(w<<11&4294967295|w>>>21),w=M+(L^R^A)+D[3]+3572445317&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^R)+D[6]+76029189&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(A^M^L)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^M)+D[12]+3873151461&4294967295,L=R+(w<<11&4294967295|w>>>21),w=M+(L^R^A)+D[15]+530742520&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^R)+D[2]+3299628645&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(M^(A|~L))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~M))+D[7]+1126891415&4294967295,L=R+(w<<10&4294967295|w>>>22),w=M+(R^(L|~A))+D[14]+2878612391&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~R))+D[5]+4237533241&4294967295,A=M+(w<<21&4294967295|w>>>11),w=R+(M^(A|~L))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~M))+D[3]+2399980690&4294967295,L=R+(w<<10&4294967295|w>>>22),w=M+(R^(L|~A))+D[10]+4293915773&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~R))+D[1]+2240044497&4294967295,A=M+(w<<21&4294967295|w>>>11),w=R+(M^(A|~L))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~M))+D[15]+4264355552&4294967295,L=R+(w<<10&4294967295|w>>>22),w=M+(R^(L|~A))+D[6]+2734768916&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~R))+D[13]+1309151649&4294967295,A=M+(w<<21&4294967295|w>>>11),w=R+(M^(A|~L))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~M))+D[11]+3174756917&4294967295,L=R+(w<<10&4294967295|w>>>22),w=M+(R^(L|~A))+D[2]+718787259&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~R))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var A=R-this.blockSize,D=this.B,M=this.h,L=0;L<R;){if(M==0)for(;L<=A;)u(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(D[M++]=N.charCodeAt(L++),M==this.blockSize){u(this,D),M=0;break}}else for(;L<R;)if(D[M++]=N[L++],M==this.blockSize){u(this,D),M=0;break}}this.h=M,this.o+=R},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var A=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.u(N),N=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)N[A++]=this.g[R]>>>D&255;return N};function h(N,R){var A=g;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=R(N)}function d(N,R){this.h=R;for(var A=[],D=!0,M=N.length-1;0<=M;M--){var L=N[M]|0;D&&L==R||(A[M]=L,D=!1)}this.g=A}var g={};function _(N){return-128<=N&&128>N?h(N,function(R){return new d([R|0],0>R?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return Z(v(-N));for(var R=[],A=1,D=0;N>=A;D++)R[D]=N/A|0,A*=4294967296;return new d(R,0)}function S(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return Z(S(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=C,M=0;M<N.length;M+=8){var L=Math.min(8,N.length-M),w=parseInt(N.substring(M,M+L),R);8>L?(L=v(Math.pow(R,L)),D=D.j(L).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var C=_(0),z=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-Z(this).m();for(var N=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(W(this))return"-"+Z(this).toString(N);for(var R=v(Math.pow(N,6)),A=this,D="";;){var M=Qt(A,R).g;A=yt(A,M.j(R));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=M,X(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=yt(this,N),W(N)?-1:X(N)?0:1};function Z(N){for(var R=N.g.length,A=[],D=0;D<R;D++)A[D]=~N.g[D];return new d(A,~N.h).add(z)}s.abs=function(){return W(this)?Z(this):this},s.add=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0,M=0;M<=R;M++){var L=D+(this.i(M)&65535)+(N.i(M)&65535),w=(L>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);D=w>>>16,L&=65535,w&=65535,A[M]=w<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function yt(N,R){return N.add(Z(R))}s.j=function(N){if(X(this)||X(N))return C;if(W(this))return W(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(W(N))return Z(this.j(Z(N)));if(0>this.l(H)&&0>N.l(H))return v(this.m()*N.m());for(var R=this.g.length+N.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<N.g.length;M++){var L=this.i(D)>>>16,w=this.i(D)&65535,ye=N.i(M)>>>16,oe=N.i(M)&65535;A[2*D+2*M]+=w*oe,dt(A,2*D+2*M),A[2*D+2*M+1]+=L*oe,dt(A,2*D+2*M+1),A[2*D+2*M+1]+=w*ye,dt(A,2*D+2*M+1),A[2*D+2*M+2]+=L*ye,dt(A,2*D+2*M+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function dt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Tt(N,R){this.g=N,this.h=R}function Qt(N,R){if(X(R))throw Error("division by zero");if(X(N))return new Tt(C,C);if(W(N))return R=Qt(Z(N),R),new Tt(Z(R.g),Z(R.h));if(W(R))return R=Qt(N,Z(R)),new Tt(Z(R.g),R.h);if(30<N.g.length){if(W(N)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var A=z,D=R;0>=D.l(N);)A=_t(A),D=_t(D);var M=Ut(A,1),L=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!X(D);){var w=L.add(D);0>=w.l(N)&&(M=M.add(A),L=w),D=Ut(D,1),A=Ut(A,1)}return R=yt(N,M.j(R)),new Tt(M,R)}for(M=C;0<=N.l(R);){for(A=Math.max(1,Math.floor(N.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(A),w=L.j(R);W(w)||0<w.l(N);)A-=D,L=v(A),w=L.j(R);X(L)&&(L=z),M=M.add(L),N=yt(N,w)}return new Tt(M,N)}s.A=function(N){return Qt(this,N).h},s.and=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&N.i(D);return new d(A,this.h&N.h)},s.or=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|N.i(D);return new d(A,this.h|N.h)},s.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^N.i(D);return new d(A,this.h^N.h)};function _t(N){for(var R=N.g.length+1,A=[],D=0;D<R;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(A,N.h)}function Ut(N,R){var A=R>>5;R%=32;for(var D=N.g.length-A,M=[],L=0;L<D;L++)M[L]=0<R?N.i(L+A)>>>R|N.i(L+A+1)<<32-R:N.i(L+A);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,y_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Tr=d}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var __,xl,v_,Mo,Bf,E_,T_,A_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Do=="object"&&Do];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in p))break t;p=p[x]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,x={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function S(o,m,p){return o.call.apply(o.bind,arguments)}function C(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function z(o,m,p){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:C,z.apply(null,arguments)}function H(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function X(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,x,q){for(var $=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)$[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,$)}}function W(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const x=o.length||0,q=T.length||0;o.length=x+q;for(let $=0;$<q;$++)o[x+$]=T[$]}else o.push(T)}}class yt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function Tt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var _t=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function Ut(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function R(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(p in T)o[p]=T[p];for(let q=0;q<A.length;q++)p=A[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function L(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new yt(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ut=!1,Pt=new ye,V=()=>{const o=g.Promise.resolve(void 0);ht=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){L(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function At(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Qt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}X(At,tt);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),xt=0;function te(o,m,p,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function Ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,x){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var $=dn(o,m,T,x);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new te(m,this.src,q,!!T,x),m.fa=p,o.push(m)),m};function ai(o,m){var p=m.type;if(p in o.g){var T=o.g[p],x=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=x)&&Array.prototype.splice.call(T,x,1),q&&(Ht(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function dn(o,m,p,T){for(var x=0;x<o.length;++x){var q=o[x];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return x}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Li={};function si(o,m,p,T,x){if(Array.isArray(m)){for(var q=0;q<m.length;q++)si(o,m[q],p,T,x);return null}return p=au(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,x):Cs(o,m,p,!1,T,x)}function Cs(o,m,p,T,x,q){if(!m)throw Error("Invalid event type");var $=v(x)?!!x.capture:!!x,Vt=Vs(o);if(Vt||(o[xi]=Vt=new Fe(o)),p=Vt.add(m,p,T,$,q),p.proxy)return p;if(T=va(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(x=$),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(Ta(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function va(){function o(p){return m.call(o.src,o.listener,p)}const m=pc;return o}function Ea(o,m,p,T,x){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ea(o,m[q],p,T,x);else T=v(T)?!!T.capture:!!T,p=au(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=dn(q,p,T,x),-1<p&&(Ht(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=Vs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dn(m,p,T,x)),(p=-1<o?m[o]:null)&&Or(p))}function Or(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ai(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ta(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Vs(m))?(ai(p,o),p.h==0&&(p.src=null,m[xi]=null)):Ht(o)}}}function Ta(o){return o in Li?Li[o]:Li[o]="on"+o}function pc(o,m){if(o.da)o=!0;else{m=new At(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Or(o),o=p.call(T,m)}return o}function Vs(o){return o=o[xi],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function _e(){st.call(this),this.i=new Fe(this),this.M=this,this.F=null}X(_e,st),_e.prototype[ce]=!0,_e.prototype.removeEventListener=function(o,m,p,T){Ea(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var x=m;m=new tt(T,o),D(m,x)}if(x=!0,p)for(var q=p.length-1;0<=q;q--){var $=m.g=p[q];x=li($,T,!0,m)&&x}if($=m.g=o,x=li($,T,!0,m)&&x,x=li($,T,!1,m)&&x,p)for(q=0;q<p.length;q++)$=m.g=p[q],x=li($,T,!1,m)&&x}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ht(p[T]);delete o.g[m],o.h--}}this.F=null},_e.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},_e.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function li(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,q=0;q<m.length;++q){var $=m[q];if($&&!$.da&&$.capture==p){var Vt=$.listener,Ee=$.ha||$.src;$.fa&&ai(o.i,$),x=Vt.call(Ee,T)!==!1&&x}}return x&&!T.defaultPrevented}function su(o,m,p){if(typeof o=="function")p&&(o=z(o,p));else if(o&&typeof o.handleEvent=="function")o=z(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Is(o){o.g=su(()=>{o.g=null,o.i&&(o.i=!1,Is(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class yc extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(o){st.call(this),this.h=o,this.g={}}X(Mr,st);var zi=[];function qe(o){Ut(o.g,function(m,p){this.g.hasOwnProperty(p)&&Or(m)},o),o.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),qe(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Os=g.JSON.stringify,zn=g.JSON.parse,Ye=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ms(){}Ms.prototype.h=null;function lu(o){return o.h||(o.h=o.i())}function uu(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){tt.call(this,"d")}X(Bi,tt);function In(){tt.call(this,"c")}X(In,tt);var mn={},Pi=null;function Aa(){return Pi=Pi||new _e}mn.La="serverreachability";function Ns(o){tt.call(this,mn.La,o)}X(Ns,tt);function qi(o){const m=Aa();Re(m,new Ns(m))}mn.STAT_EVENT="statevent";function Sa(o,m){tt.call(this,mn.STAT_EVENT,o),this.stat=m}X(Sa,tt);function se(o){const m=Aa();Re(m,new Sa(m,o))}mn.Ma="timingevent";function ou(o,m){tt.call(this,mn.Ma,o),this.size=m}X(ou,tt);function ki(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function cu(o,m,p,T,x,q){o.info(function(){if(o.g)if(q)for(var $="",Vt=q.split("&"),Ee=0;Ee<Vt.length;Ee++){var It=Vt[Ee].split("=");if(1<It.length){var Ce=It[0];It=It[1];var Te=Ce.split("_");$=2<=Te.length&&Te[1]=="type"?$+(Ce+"="+It+"&"):$+(Ce+"=redacted&")}}else $=null;else $=q;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+p+`
`+$})}function hu(o,m,p,T,x,q,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+p+`
`+q+" "+$})}function ji(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function Pn(o,m){o.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return Os(p)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function ba(){}X(ba,Ms),ba.prototype.g=function(){return new XMLHttpRequest},ba.prototype.i=function(){return{}},Nr=new ba;function qn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}var Gi={},Ur={};function On(o,m,p){o.L=1,o.v=zr(ee(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),Zt(o),o.A=ee(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Us,o.g=Ru(o.j,p?m:null,!o.m),0<o.O&&(o.M=new yc(z(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(zi[0]=x.toString()),x=zi);for(var q=0;q<x.length;q++){var $=si(p,x[q],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),qi(),cu(o.i,o.u,o.A,o.l,o.R,o.m)}qn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},qn.prototype.Y=function(o){try{if(o==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Te!=4||m==7||(m==8||0>=pi?qi(3):qi(2)),Ra(this);var p=this.g.Z();this.X=p;e:if(Qi(this)){var T=yu(this.g);o="";var x=T.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),an(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,hu(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ee=this.g;if((Vt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Vt)){var It=Vt;break e}}It=null}if(p=It)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,p);else{this.o=!1,this.s=3,se(12),We(this),an(this);break t}}if(this.P){p=!0;let Ne;for(;!this.J&&this.C<$.length;)if(Ne=Fi(this,$),Ne==Ur){Te==4&&(this.s=4,se(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Gi){this.s=4,se(15),ji(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,Ne,null),sn(this,Ne);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||$.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),an(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Gr(Ce),Ce.M=!0,se(11))}}else ji(this.i,this.l,$,null),sn(this,$);Te==4&&We(this),this.o&&!this.J&&(Te==4?Au(this.j,this):(this.o=!1,Zt(this)))}else Sc(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),an(this)}}}catch{}finally{}};function Qi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ur:(p=Number(m.substring(p,T)),isNaN(p)?Gi:(T+=1,T+p>m.length?Ur:(m=m.slice(T,T+p),o.C=T+p,m)))}qn.prototype.cancel=function(){this.J=!0,We(this)};function Zt(o){o.S=Date.now()+o.I,xs(o,o.I)}function xs(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ki(z(o.ba,o),m)}function Ra(o){o.B&&(g.clearTimeout(o.B),o.B=null)}qn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pn(this.i,this.A),this.L!=2&&(qi(),se(17)),We(this),this.s=2,an(this)):xs(this,this.S-o)};function an(o){o.j.G==0||o.J||Au(o.j,o)}function We(o){Ra(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,qe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Yi(p.h,o))){if(!o.K&&Yi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)xa(p),Na(p);else break t;Fs(p),se(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=ki(z(p.Za,p),6e3));if(1>=fu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&xa(p),!dt(m))for(x=p.Da.g.parse(m),m=0;m<x.length;m++){let It=x[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const Ce=It[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Te=It[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const pi=It[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ne=o.g;if(Ne){const Yn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var q=T.h;q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ki(q,q.h),q.h=null))}if(T.D){const Ks=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(T.ya=Ks,Lt(T.I,T.D,Ks))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=bu(T,T.J?T.ia:null,T.W),$.K){gn(T.h,$);var Vt=$,Ee=T.L;Ee&&(Vt.I=Ee),Vt.B&&(Ra(Vt),Zt(Vt)),T.g=$}else Eu(T);0<p.i.length&&Ua(p)}else It[0]!="stop"&&It[0]!="close"||gi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?gi(p,7):Gs(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}qi(4)}catch{}}var _c=class{constructor(o,m){this.g=o,this.map=m}};function Ls(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function fu(o){return o.h?1:o.g?o.g.size:0}function Yi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ki(o,m){o.g?o.g.add(m):o.h=m}function gn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ls.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return W(o.i)}function du(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function vc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=vc(o),T=du(o),x=T.length,q=0;q<x;q++)m.call(void 0,T[q],p&&p[q],o)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),x=null;if(0<=T){var q=o[p].substring(0,T);x=o[p].substring(T+1)}else q=o[p];m(q,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ci(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ci){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Lr(this,o.s),this.l=o.l;var m=o.i,p=new kn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Da(this,p),this.m=o.m}else o&&(m=String(o).match(Bs))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Lr(this,m[4]),this.l=Zi(m[5]||"",!0),Da(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}ci.prototype.toString=function(){var o=[],m=this.j;m&&o.push(pn(m,Ps,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(pn(m,Ps,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(pn(p,p.charAt(0)=="/"?qs:mu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",pn(p,Ac)),o.join("")};function ee(o){return new ci(o)}function Xi(o,m,p){o.j=p?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Lr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Da(o,m,p){m instanceof kn?(o.i=m,ks(o.i,o.h)):(p||(m=pn(m,Tc)),o.i=new kn(m,o.h))}function Lt(o,m,p){o.i.set(m,p)}function zr(o){return Lt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,Ec),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ec(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ps=/[#\/\?@]/g,mu=/[#\?:]/g,qs=/[#\?]/g,Tc=/[#\?@]/g,Ac=/#/g;function kn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&wa(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=kn.prototype,s.add=function(o,m){yn(this),this.i=null,o=di(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Ca(o,m){yn(o),m=di(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return yn(o),m=di(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const x=o[T];for(let q=0;q<x.length;q++)p.push(m[T])}return p},s.V=function(o){yn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(di(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return yn(this),this.i=null,o=di(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){Ca(o,m),0<p.length&&(o.i=null,o.g.set(di(o,m),W(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var x=q;$[T]!==""&&(x+="="+encodeURIComponent(String($[T]))),o.push(x)}}return this.i=o.join("&")};function di(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ks(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(p,T){var x=T.toLowerCase();T!=x&&(Ca(this,T),fi(this,x,p))},o)),o.j=m}function gu(o,m){const p=new Hi;if(g.Image){const T=new Image;T.onload=H(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=H(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Br(o,m){const p=new Hi,T=new AbortController,x=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(x),q.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(p)}catch{}}function Pr(){this.g=new Ye}function Hn(o,m,p){const T=p||"";try{xr(o,function(x,q){let $=x;v(x)&&($=Os(x)),m.push(T+q+"="+encodeURIComponent($))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}X($i,Ms),$i.prototype.g=function(){return new mi(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function mi(o,m){_e.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(mi,_e),s=mi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Gn(this),this.readyState==3&&Hs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function js(o){let m="";return Ut(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=js(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Lt(o,m,p))}function qt(o){_e.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(qt,_e);var Va=/^https?$/i,qr=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?lu(this.o):lu(Nr),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){pu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)p.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),x=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||T||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,$]of p)this.g.setRequestHeader(q,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){pu(this,q)}};function pu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ia(o),Qn(o)}function Ia(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},s.bb=function(){Oa(this)};function Oa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)su(o.Ea,0,o);else if(Re(o,"readystatechange"),vn(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var x=String(o.D).match(Bs)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!Va.test(x?x.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var q=2<vn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ia(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){kr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function kr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function yu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Sc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var p=M(o[T]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[x]||[];m[x]=q,q.push(p)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ma(o){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,o),this.cb=Hr("retryDelaySeedMs",1e4,o),this.Wa=Hr("forwardChannelMaxRetries",2,o),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ls(o&&o.concurrentRequestLimit),this.Da=new Pr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ma.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=bu(this,null,this.W),Ua(this)};function Gs(o){if(_u(o),o.G==3){var m=o.U++,p=ee(o.I);if(Lt(p,"SID",o.K),Lt(p,"RID",m),Lt(p,"TYPE","terminate"),jr(o,p),m=new qn(o,o.j,m),m.L=2,m.v=zr(ee(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}Su(o)}function Na(o){o.g&&(Gr(o),o.g.cancel(),o.g=null)}function _u(o){Na(o),o.u&&(g.clearTimeout(o.u),o.u=null),xa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ua(o){if(!zs(o.h)&&!o.s){o.s=!0;var m=o.Ga;ht||V(),ut||(ht(),ut=!0),Pt.add(m,o),o.B=0}}function bc(o,m){return fu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ki(z(o.Ga,o,m),Ys(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new qn(this,this.j,o);let q=this.o;if(this.S&&(q?(q=R(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(x.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=vu(this,x,m),p=ee(this.I),Lt(p,"RID",o),Lt(p,"CVER",22),this.D&&Lt(p,"X-HTTP-Session-Id",this.D),jr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(js(q)))+"&"+m:this.m&&De(p,this.m,q)),Ki(this.h,x),this.Ua&&Lt(p,"TYPE","init"),this.P?(Lt(p,"$req",m),Lt(p,"SID","null"),x.T=!0,On(x,p,null)):On(x,p,m),this.G=2}}else this.G==3&&(o?Qs(this,o):this.i.length==0||zs(this.h)||Qs(this))};function Qs(o,m){var p;m?p=m.l:p=o.U++;const T=ee(o.I);Lt(T,"SID",o.K),Lt(T,"RID",p),Lt(T,"AID",o.T),jr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new qn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=vu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ki(o.h,p),On(p,T,m)}function jr(o,m){o.H&&Ut(o.H,function(p,T){Lt(m,T,p)}),o.l&&xr({},function(p,T){Lt(m,T,p)})}function vu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?z(o.l.Na,o.l,o):null;t:{var x=o.i;let q=-1;for(;;){const $=["count="+p];q==-1?0<p?(q=x[0].g,$.push("ofs="+q)):q=0:$.push("ofs="+q);let Vt=!0;for(let Ee=0;Ee<p;Ee++){let It=x[Ee].g;const Ce=x[Ee].map;if(It-=q,0>It)q=Math.max(0,x[Ee].g-100),Vt=!1;else try{Hn(Ce,$,"req"+It+"_")}catch{T&&T(Ce)}}if(Vt){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Eu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ht||V(),ut||(ht(),ut=!0),Pt.add(m,o),o.v=0}}function Fs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ki(z(o.Fa,o),Ys(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ki(z(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Na(this),Tu(this))};function Gr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Tu(o){o.g=new qn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ee(o.qa);Lt(m,"RID","rpc"),Lt(m,"SID",o.K),Lt(m,"AID",o.T),Lt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Lt(m,"TO",o.ja),Lt(m,"TYPE","xmlhttp"),jr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=zr(ee(m)),p.m=null,p.P=!0,oi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Na(this),Fs(this),se(19))};function xa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Au(o,m){var p=null;if(o.g==m){xa(o),Gr(o),o.g=null;var T=2}else if(Yi(o.h,m))p=m.D,gn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Aa(),Re(T,new ou(T,p)),Ua(o)}else Eu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&bc(o,m)||T==2&&Fs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),x){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Ys(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=z(o.fb,o),T=o.Xa;const x=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(T,"https"),zr(T),x?gu(T.toString(),p):Br(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),Su(o),_u(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Su(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function bu(o,m,p){var T=p instanceof ci?ee(p):new ci(p);if(T.g!="")m&&(T.g=m+"."+T.g),Lr(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var q=new ci(null);T&&Xi(q,T),m&&(q.g=m),x&&Lr(q,x),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Lt(T,p,m),Lt(T,"VER",o.la),jr(o,T),T}function Ru(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new $i({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function La(){}La.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){_e.call(this),this.g=new Ma(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}X(Xe,_e),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Gs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Os(o),o=p);m.i.push(new _c(m.Ya++,o)),m.G==3&&Ua(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,Xe.aa.N.call(this)};function Du(o){Bi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}X(Du,Bi);function Cu(){In.call(this),this.status=1}X(Cu,In);function Fn(o){this.g=o}X(Fn,wu),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Du(o))},Fn.prototype.sa=function(o){Re(this.g,new Cu)},Fn.prototype.ra=function(){Re(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,A_=function(){return new La},T_=function(){return Aa()},E_=mn,Bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Mo=ve,ui.COMPLETE="complete",v_=ui,uu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,xl=uu,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,__=qt}).apply(typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore",oy="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new h_("@firebase/firestore");function os(){return ma.logLevel}function nt(s,...e){if(ma.logLevel<=Nt.DEBUG){const i=e.map(sd);ma.debug(`Firestore (${Ss}): ${s}`,...i)}}function Ni(s,...e){if(ma.logLevel<=Nt.ERROR){const i=e.map(sd);ma.error(`Firestore (${Ss}): ${s}`,...i)}}function gs(s,...e){if(ma.logLevel<=Nt.WARN){const i=e.map(sd);ma.warn(`Firestore (${Ss}): ${s}`,...i)}}function sd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s="Unexpected state"){const e=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: `+s;throw Ni(e),new Error(e)}function kt(s,e){s||ft()}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class oA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class cA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fa,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string"),new S_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Ge(e)}}class hA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new hA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,QT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string"),this.R=i.token,new cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=mA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function wt(s,e){return s<e?-1:s>e?1:0}function qf(s,e){const i=Pf().encode(s),a=Pf().encode(e);for(let u=0;u<Math.min(i.length,a.length);u++){const h=wt(i[u],a[u]);if(h!==0)return h}return wt(i.length,a.length)}function ps(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,fy=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(e){return pe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*fy);return new pe(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<hy)throw new it(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fy}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new pe(0,0))}static max(){return new mt(new pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(),a===void 0?a=e.length-i:a>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Xt extends Wn{construct(e,i,a){return new Xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new it(F.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const gA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return gA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dy}static keyField(){return new Be([dy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new it(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new it(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new it(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Xt.fromString(e))}static fromName(e){return new ot(Xt.fromString(e).popFirst(5))}static empty(){return new ot(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function pA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(a===1e9?new pe(i+1,0):new pe(i,a));return new Sr(u,ot.empty(),e)}function yA(s){return new Sr(s.readTime,s.key,Fl)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(mt.min(),ot.empty(),Fl)}static max(){return new Sr(mt.max(),ot.empty(),Fl)}}function _A(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:wt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(s){if(s.code!==F.FAILED_PRECONDITION||s.message!==vA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++g,g===h&&a(d)},S=>u(S))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function TA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Rs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function tc(s){return s==null}function Ho(s){return s===0&&1/s==-1/0}function AA(s){return typeof s=="number"&&Number.isInteger(s)&&!Ho(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="";function SA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=my(e)),e=bA(s.get(i),e);return my(e)}function bA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case R_:i+="";break;default:i+=h}}return i}function my(s){return s+R_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function w_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Co(this.root,e,this.comparator,!1)}getReverseIterator(){return new Co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Co(this.root,e,this.comparator,!0)}}class Co{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new py(this.data.getIterator())}getIteratorFrom(e){return new py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new fn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new D_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(kt(!!s),typeof s=="string"){let e=0;const i=RA.exec(s);if(kt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="server_timestamp",V_="__type__",I_="__previous_value__",O_="__local_write_time__";function ud(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||i===void 0?void 0:i.stringValue)===C_}function ec(s){const e=s.mapValue.fields[I_];return ud(e)?ec(e):e}function Yl(s){const e=br(s.mapValue.fields[O_].timestampValue);return new pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i,a,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const jo="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||jo}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===jo}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__type__",DA="__max__",Vo={mapValue:{}},N_="__vector__",Go="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ud(s)?4:VA(s)?9007199254740991:CA(s)?10:11:ft()}function ri(s,e){if(s===e)return!0;const i=wr(s);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=br(u.timestampValue),g=br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Rr(u.bytesValue).isEqual(Rr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),g=ue(h.doubleValue);return d===g?Ho(d)===Ho(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return ps(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(gy(d)!==gy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ri(d[_],g[_])))return!1;return!0}(s,e);default:return ft()}}function Xl(s,e){return(s.values||[]).find(i=>ri(i,e))!==void 0}function ys(s,e){if(s===e)return 0;const i=wr(s),a=wr(e);if(i!==a)return wt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return yy(s.timestampValue,e.timestampValue);case 4:return yy(Yl(s),Yl(e));case 5:return qf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Rr(h),_=Rr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=wt(g[v],_[v]);if(S!==0)return S}return wt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=wt(ue(h.latitude),ue(d.latitude));return g!==0?g:wt(ue(h.longitude),ue(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return _y(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,S;const C=h.fields||{},z=d.fields||{},H=(g=C[Go])===null||g===void 0?void 0:g.arrayValue,X=(_=z[Go])===null||_===void 0?void 0:_.arrayValue,W=wt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((S=X==null?void 0:X.values)===null||S===void 0?void 0:S.length)||0);return W!==0?W:_y(H,X)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Vo.mapValue&&d===Vo.mapValue)return 0;if(h===Vo.mapValue)return 1;if(d===Vo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let C=0;C<_.length&&C<S.length;++C){const z=qf(_[C],S[C]);if(z!==0)return z;const H=ys(g[_[C]],v[S[C]]);if(H!==0)return H}return wt(_.length,S.length)}(s.mapValue,e.mapValue);default:throw ft()}}function yy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return wt(s,e);const i=br(s),a=br(e),u=wt(i.seconds,a.seconds);return u!==0?u:wt(i.nanos,a.nanos)}function _y(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ys(i[u],a[u]);if(h)return h}return wt(i.length,a.length)}function _s(s){return kf(s)}function kf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Rr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=kf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${kf(i.fields[d])}`;return u+"}"}(s.mapValue):ft()}function No(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ec(s);return e?16+No(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+No(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Vr(a.fields,(h,d)=>{u+=h.length+No(d)}),u}(s.mapValue);default:throw ft()}}function vy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Hf(s){return!!s&&"integerValue"in s}function od(s){return!!s&&"arrayValue"in s}function Ey(s){return!!s&&"nullValue"in s}function Ty(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uo(s){return!!s&&"mapValue"in s}function CA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[M_])===null||i===void 0?void 0:i.stringValue)===N_}function ql(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Vr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=ql(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ql(s.arrayValue.values[i]);return e}return Object.assign({},s)}function VA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===DA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=ql(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Uo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Uo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Vr(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(ql(this.value))}}function U_(s){const e=[];return Vr(s.fields,(i,a)=>{const u=new Be([i]);if(Uo(a)){const h=U_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,mt.min(),mt.min(),mt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,mt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,mt.min(),mt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,mt.min(),mt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i){this.position=e,this.inclusive=i}}function Ay(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=ys(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Sy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,i="asc"){this.field=e,this.dir=i}}function IA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{}class ge extends x_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new MA(e,i,a):i==="array-contains"?new xA(e,a):i==="in"?new LA(e,a):i==="not-in"?new zA(e,a):i==="array-contains-any"?new BA(e,a):new ge(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new NA(e,a):new UA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ys(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(ys(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends x_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Ln(e,i)}matches(e){return L_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function L_(s){return s.op==="and"}function z_(s){return OA(s)&&L_(s)}function OA(s){for(const e of s.filters)if(e instanceof Ln)return!1;return!0}function jf(s){if(s instanceof ge)return s.field.canonicalString()+s.op.toString()+_s(s.value);if(z_(s))return s.filters.map(e=>jf(e)).join(",");{const e=s.filters.map(i=>jf(i)).join(",");return`${s.op}(${e})`}}function B_(s,e){return s instanceof ge?function(a,u){return u instanceof ge&&a.op===u.op&&a.field.isEqual(u.field)&&ri(a.value,u.value)}(s,e):s instanceof Ln?function(a,u){return u instanceof Ln&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&B_(d,u.filters[g]),!0):!1}(s,e):void ft()}function P_(s){return s instanceof ge?function(i){return`${i.field.canonicalString()} ${i.op} ${_s(i.value)}`}(s):s instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(P_).join(" ,")+"}"}(s):"Filter"}class MA extends ge{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class NA extends ge{constructor(e,i){super(e,"in",i),this.keys=q_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class UA extends ge{constructor(e,i){super(e,"not-in",i),this.keys=q_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function q_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class xA extends ge{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return od(i)&&Xl(i.arrayValue,this.value)}}class LA extends ge{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xl(this.value.arrayValue,i)}}class zA extends ge{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Xl(this.value.arrayValue,i)}}class BA extends ge{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!od(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Xl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function by(s,e=null,i=[],a=[],u=null,h=null,d=null){return new PA(s,e,i,a,u,h,d)}function cd(s){const e=pt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>jf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),tc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>_s(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>_s(a)).join(",")),e.le=i}return e.le}function hd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!IA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!B_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Sy(s.startAt,e.startAt)&&Sy(s.endAt,e.endAt)}function Gf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function qA(s,e,i,a,u,h,d,g){return new ws(s,e,i,a,u,h,d,g)}function fd(s){return new ws(s)}function Ry(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function k_(s){return s.collectionGroup!==null}function kl(s){const e=pt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Zl(h,a))}),i.has(Be.keyField().canonicalString())||e.he.push(new Zl(Be.keyField(),a))}return e.he}function ti(s){const e=pt(s);return e.Pe||(e.Pe=kA(e,kl(s))),e.Pe}function kA(s,e){if(s.limitType==="F")return by(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Zl(u.field,h)});const i=s.endAt?new Qo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Qo(s.startAt.position,s.startAt.inclusive):null;return by(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Qf(s,e){const i=s.filters.concat([e]);return new ws(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Ff(s,e,i){return new ws(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return hd(ti(s),ti(e))&&s.limitType===e.limitType}function H_(s){return`${cd(ti(s))}|lt:${s.limitType}`}function cs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>P_(u)).join(", ")}]`),tc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>_s(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>_s(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of kl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=Ay(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,kl(a),u)||a.endAt&&!function(d,g,_){const v=Ay(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,kl(a),u))}(s,e)}function HA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function j_(s){return(e,i)=>{let a=!1;for(const u of kl(s)){const h=jA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function jA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ys(_,v):ft()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Wt(ot.comparator);function Ui(){return GA}const G_=new Wt(ot.comparator);function Ll(...s){let e=G_;for(const i of s)e=e.insert(i.key,i);return e}function Q_(s){let e=G_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ha(){return Hl()}function F_(){return Hl()}function Hl(){return new pa(s=>s.toString(),(s,e)=>s.isEqual(e))}const QA=new Wt(ot.comparator),FA=new be(ot.comparator);function Dt(...s){let e=FA;for(const i of s)e=e.add(i);return e}const YA=new be(wt);function KA(){return YA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ho(e)?"-0":e}}function Y_(s){return{integerValue:""+s}}function XA(s,e){return AA(e)?Y_(e):dd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function ZA(s,e,i){return s instanceof Fo?function(u,h){const d={fields:{[V_]:{stringValue:C_},[O_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ud(h)&&(h=ec(h)),h&&(d.fields[I_]=h),{mapValue:d}}(i,e):s instanceof $l?X_(s,e):s instanceof Jl?Z_(s,e):function(u,h){const d=K_(u,h),g=wy(d)+wy(u.Ie);return Hf(d)&&Hf(u.Ie)?Y_(g):dd(u.serializer,g)}(s,e)}function $A(s,e,i){return s instanceof $l?X_(s,e):s instanceof Jl?Z_(s,e):i}function K_(s,e){return s instanceof Yo?function(a){return Hf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Fo extends rc{}class $l extends rc{constructor(e){super(),this.elements=e}}function X_(s,e){const i=$_(e);for(const a of s.elements)i.some(u=>ri(u,a))||i.push(a);return{arrayValue:{values:i}}}class Jl extends rc{constructor(e){super(),this.elements=e}}function Z_(s,e){let i=$_(e);for(const a of s.elements)i=i.filter(u=>!ri(u,a));return{arrayValue:{values:i}}}class Yo extends rc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function wy(s){return ue(s.integerValue||s.doubleValue)}function $_(s){return od(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function JA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof $l&&u instanceof $l||a instanceof Jl&&u instanceof Jl?ps(a.elements,u.elements,ri):a instanceof Yo&&u instanceof Yo?ri(a.Ie,u.Ie):a instanceof Fo&&u instanceof Fo}(s.transform,e.transform)}class WA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function J_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tv(s.key,ei.none()):new tu(s.key,s.data,ei.none());{const i=s.data,a=nn.empty();let u=new be(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Ir(s.key,a,new fn(u.toArray()),ei.none())}}function tS(s,e,i){s instanceof tu?function(u,h,d){const g=u.value.clone(),_=Cy(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Ir?function(u,h,d){if(!xo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Cy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(W_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function jl(s,e,i,a){return s instanceof tu?function(h,d,g,_){if(!xo(h.precondition,d))return g;const v=h.value.clone(),S=Vy(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Ir?function(h,d,g,_){if(!xo(h.precondition,d))return g;const v=Vy(h.fieldTransforms,_,d),S=d.data;return S.setAll(W_(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(s,e,i,a):function(h,d,g){return xo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function eS(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=K_(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function Dy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ps(a,u,(h,d)=>JA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ir extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function W_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Cy(s,e,i){const a=new Map;kt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,$A(d,g,i[u]))}return a}function Vy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,ZA(h,d,e))}return a}class tv extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nS extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&tS(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=F_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=J_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(i,a)=>Dy(i,a))&&ps(this.baseMutations,e.baseMutations,(i,a)=>Dy(i,a))}}class md{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length);let u=function(){return QA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new md(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Mt;function sS(s){switch(s){case F.OK:return ft();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ft()}}function ev(s){if(s===void 0)return Ni("GRPC error has no .code"),F.UNKNOWN;switch(s){case me.OK:return F.OK;case me.CANCELLED:return F.CANCELLED;case me.UNKNOWN:return F.UNKNOWN;case me.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case me.INTERNAL:return F.INTERNAL;case me.UNAVAILABLE:return F.UNAVAILABLE;case me.UNAUTHENTICATED:return F.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case me.NOT_FOUND:return F.NOT_FOUND;case me.ALREADY_EXISTS:return F.ALREADY_EXISTS;case me.PERMISSION_DENIED:return F.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case me.ABORTED:return F.ABORTED;case me.OUT_OF_RANGE:return F.OUT_OF_RANGE;case me.UNIMPLEMENTED:return F.UNIMPLEMENTED;case me.DATA_LOSS:return F.DATA_LOSS;default:return ft()}}(Mt=me||(me={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Tr([4294967295,4294967295],0);function Iy(s){const e=Pf().encode(s),i=new y_;return i.update(e),new Uint8Array(i.digest())}function Oy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([u,h],0)]}class gd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Tr.fromNumber(a)));return u.compare(lS)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Iy(e),[a,u]=Oy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new gd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Iy(e),[a,u]=Oy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(mt.min(),u,new Wt(wt),Ui(),Dt())}}class eu{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class nv{constructor(e,i){this.targetId=e,this.ge=i}}class iv{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class My{constructor(){this.pe=0,this.ye=Ny(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Dt(),i=Dt(),a=Dt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:ft()}}),new eu(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=Ny()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class uS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ui(),this.$e=Io(),this.Ue=Io(),this.Ke=new Wt(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Gf(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Qe.newNoDocument(d,mt.min()))}else kt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Rr(a).toUint8Array()}catch(_){if(_ instanceof D_)return gs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new gd(d,u,h)}catch(_){return gs(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Gf(g.target)){const _=new ot(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Dt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ke,this.Qe,a);return this.Qe=Ui(),this.$e=Io(),this.Ue=Io(),this.Ke=new Wt(wt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new My,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new My),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Io(){return new Wt(ot.comparator)}function Ny(){return new Wt(ot.comparator)}const oS={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hS={and:"AND",or:"OR"};class fS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yf(s,e){return s.useProto3Json||tc(e)?e:{value:e}}function Ko(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function dS(s,e){return Ko(s,e.toTimestamp())}function ni(s){return kt(!!s),mt.fromTimestamp(function(i){const a=br(i);return new pe(a.seconds,a.nanos)}(s))}function pd(s,e){return Kf(s,e).canonicalString()}function Kf(s,e){const i=function(u){return new Xt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function av(s){const e=Xt.fromString(s);return kt(cv(e)),e}function Xf(s,e){return pd(s.databaseId,e.path)}function Rf(s,e){const i=av(e);if(i.get(1)!==s.databaseId.projectId)throw new it(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(lv(i))}function sv(s,e){return pd(s.databaseId,e)}function mS(s){const e=av(s);return e.length===4?Xt.emptyPath():lv(e)}function Zf(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function lv(s){return kt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Uy(s,e,i){return{name:Xf(s,e),fields:i.value.mapValue.fields}}function gS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(kt(S===void 0||typeof S=="string"),Pe.fromBase64String(S||"")):(kt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),Pe.fromUint8Array(S||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=v.code===void 0?F.UNKNOWN:ev(v.code);return new it(S,v.message||"")}(d);i=new iv(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Rf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):mt.min(),g=new nn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Lo(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Rf(s,a.document),h=a.readTime?ni(a.readTime):mt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Lo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Rf(s,a.document),h=a.removedTargetIds||[];i=new Lo([],h,u,null)}else{if(!("filter"in e))return ft();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new aS(u,h),g=a.targetId;i=new nv(g,d)}}return i}function pS(s,e){let i;if(e instanceof tu)i={update:Uy(s,e.key,e.value)};else if(e instanceof tv)i={delete:Xf(s,e.key)};else if(e instanceof Ir)i={update:Uy(s,e.key,e.data),updateMask:RS(e.fieldMask)};else{if(!(e instanceof nS))return ft();i={verify:Xf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Fo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof $l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw ft()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:dS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(s,e.precondition)),i}function yS(s,e){return s&&s.length>0?(kt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(mt.min())&&(d=ni(h)),new WA(d,u.transformResults||[])}(i,e))):[]}function _S(s,e){return{documents:[sv(s,e.path)]}}function vS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sv(s,u);const h=function(v){if(v.length!==0)return ov(Ln.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(z){return{field:hs(z.field),direction:AS(z.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Yf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function ES(s){let e=mS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(C){const z=uv(C);return z instanceof Ln&&z_(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(z=>function(X){return new Zl(fs(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(C){let z;return z=typeof C=="object"?C.value:C,tc(z)?null:z}(i.limit));let _=null;i.startAt&&(_=function(C){const z=!!C.before,H=C.values||[];return new Qo(H,z)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const z=!C.before,H=C.values||[];return new Qo(H,z)}(i.endAt)),qA(e,u,d,h,g,"F",_,v)}function TS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function uv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=fs(i.unaryFilter.field);return ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=fs(i.unaryFilter.field);return ge.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=fs(i.unaryFilter.field);return ge.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fs(i.unaryFilter.field);return ge.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(s):s.fieldFilter!==void 0?function(i){return ge.create(fs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(a=>uv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(s):ft()}function AS(s){return oS[s]}function SS(s){return cS[s]}function bS(s){return hS[s]}function hs(s){return{fieldPath:s.canonicalString()}}function fs(s){return Be.fromServerFormat(s.fieldPath)}function ov(s){return s instanceof ge?function(i){if(i.op==="=="){if(Ty(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NAN"}};if(Ey(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ty(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NAN"}};if(Ey(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(i.field),op:SS(i.op),value:i.value}}}(s):s instanceof Ln?function(i){const a=i.getFilters().map(u=>ov(u));return a.length===1?a[0]:{compositeFilter:{op:bS(i.op),filters:a}}}(s):ft()}function RS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function cv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,u,h=mt.min(),d=mt.min(),g=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.Tt=e}}function DS(s){const e=ES({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.Tn=new VS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Sr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class VS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Xt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(hv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vs(0)}static Kn(){return new vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LruGarbageCollector",IS=1048576;function zy([s,e],[i,a]){const u=wt(s,i);return u===0?wt(e,a):u}class OS{constructor(e){this.Hn=e,this.buffer=new be(zy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();zy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class MS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Ly,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Rs(i)?nt(Ly,"Ignoring IndexedDB error during garbage collection: ",i):await bs(i)}await this.er(3e5)})}}class NS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Wo.ae);const a=new OS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(xy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(a=C,g=Date.now(),this.removeTargets(e,a,i))).next(C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(v=Date.now(),os()<=Nt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C})))}}function US(s,e){return new NS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.changes=new pa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&jl(a.mutation,u,fn.empty(),pe.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=ha();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ll();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ha();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ui();const d=Hl(),g=function(){return Hl()}();return i.forEach((_,v)=>{const S=a.get(v.key);u.has(v.key)&&(S===void 0||S.mutation instanceof Ir)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),jl(S.mutation,v,S.mutation.getFieldMask(),pe.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var C;return g.set(v,new LS(S,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Hl();let u=new Wt((d,g)=>d-g),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||fn.empty();S=g.applyToLocalView(v,S),a.set(_,S);const C=(u.get(g.batchId)||Dt()).add(_);u=u.insert(g.batchId,C)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,C=F_();S.forEach(z=>{if(!h.has(z)){const H=J_(i.get(z),a.get(z));H!==null&&C.set(z,H),h=h.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):k_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(ha());let g=Fl,_=h;return d.next(v=>Q.forEach(v,(S,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(z=>{_=_.insert(S,z)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(S=>({batchId:g,changes:Q_(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=Ll();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(C,z){return new ws(z,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(S=>{S.forEach((C,z)=>{d=d.insert(C,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Qe.newInvalidDocument(S)))});let g=Ll();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&jl(S.mutation,v,fn.empty(),pe.now()),ic(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:DS(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.overlays=new Wt(ot.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ha();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=ha(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new Wt((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=h.get(v.largestBatchId);S===null&&(S=ha(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=ha(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new rS(i,a));let h=this.Rr.get(i);h===void 0&&(h=Dt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Vr=new be(Me.mr),this.gr=new be(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ot(new Xt([])),a=new Me(i,e),u=new Me(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new Xt([])),a=new Me(i,e),u=new Me(i,e+1);let h=Dt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Me.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iS(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?ld:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(wt);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ot(h),0);let g=new be(wt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Me(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.kr=e,this.docs=function(){return new Wt(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ui();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||_A(yA(S),a)<=0||(u.has(S.key)||ic(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){ft()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new jS(this)}getSize(e){return Q.resolve(this.size)}}class jS extends xS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.persistence=e,this.Qr=new pa(i=>cd(i),hd),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yd,this.targetCount=0,this.Kr=vs.Un()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new vs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Wo(0),this.zr=!1,this.zr=!0,this.jr=new qS,this.referenceDelegate=e(this),this.Hr=new GS(this),this.indexManager=new CS,this.remoteDocumentCache=function(u){return new HS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new wS(i),this.Yr=new BS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new kS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new QS(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class QS extends EA{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.ti=new yd,this.ni=null}static ri(e){return new _d(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ot.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Xo{constructor(e,i){this.persistence=e,this.oi=new pa(a=>SA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=US(this,i)}static ri(e,i){return new Xo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=No(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new vd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return H0()?8:TA(q0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new FS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(os()<=Nt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(os()<=Nt.DEBUG&&nt("QueryEngine","Query:",cs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(os()<=Nt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(Ry(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Ff(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Ff(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return Ry(i)||u.isEqual(mt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(os()<=Nt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),cs(i)),this.hs(e,d,i,pA(u,Fl)).next(g=>g))})}cs(e,i){let a=new be(j_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return os()<=Nt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",cs(i)),this.ns.getDocumentsMatchingQuery(e,i,Sr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="LocalStore",KS=3e8;class XS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new Wt(wt),this.Is=new pa(h=>cd(h),hd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function ZS(s,e,i,a){return new XS(s,e,i,a)}async function dv(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function $S(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,S){const C=v.batch,z=C.keys();let H=Q.resolve();return z.forEach(X=>{H=H.next(()=>S.getEntry(_,X)).next(W=>{const Z=v.docVersions.get(X);kt(Z!==null),W.version.compareTo(Z)<0&&(C.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),S.addEntry(W)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,C))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Dt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function mv(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function JS(s,e){const i=pt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((S,C)=>{const z=u.get(C);if(!z)return;g.push(i.Hr.removeMatchingKeys(h,S.removedDocuments,C).next(()=>i.Hr.addMatchingKeys(h,S.addedDocuments,C)));let H=z.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(Pe.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),u=u.insert(C,H),function(W,Z,yt){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=KS?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(z,H,S)&&g.push(i.Hr.updateTargetData(h,H))});let _=Ui(),v=Dt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(WS(h,d,e.documentUpdates).next(S=>{_=S.Vs,v=S.fs})),!a.isEqual(mt.min())){const S=i.Hr.getLastRemoteSnapshotVersion(h).next(C=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(S)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function WS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ui();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(Ed,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function t1(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ld),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function e1(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function $f(s,e,i){const a=pt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Rs(d))throw d;nt(Ed,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function By(s,e,i){const a=pt(s);let u=mt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const C=pt(_),z=C.Is.get(S);return z!==void 0?Q.resolve(C.Ts.get(z)):C.Hr.getTargetData(v,S)}(a,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?h:Dt())).next(g=>(n1(a,HA(e),g),{documents:g,gs:h})))}function n1(s,e,i){let a=s.Es.get(e)||mt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Py{constructor(){this.activeTargetIds=KA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i1{constructor(){this.ho=new Py,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Py,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="ConnectivityMonitor";class ky{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(qy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=null;function Jf(){return Oo===null?Oo=function(){return 268435456+Math.round(2147483648*Math.random())}():Oo++,"0x"+Oo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",a1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===jo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Jf(),g=this.bo(e,i.toUriEncodedString());nt(wf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,a).then(v=>(nt(wf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw gs(wf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=a1[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class u1 extends s1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Jf();return new Promise((d,g)=>{const _=new __;_.setWithCredentials(!0),_.listenOnce(v_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Mo.NO_ERROR:const S=_.getResponseJson();nt(je,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case Mo.TIMEOUT:nt(je,`RPC '${e}' ${h} timed out`),g(new it(F.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const C=_.getStatus();if(nt(je,`RPC '${e}' ${h} failed with status:`,C,"response text:",_.getResponseText()),C>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const H=z==null?void 0:z.error;if(H&&H.status&&H.message){const X=function(Z){const yt=Z.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(yt)>=0?yt:F.UNKNOWN}(H.status);g(new it(X,H.message))}else g(new it(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new it(F.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{nt(je,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(je,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Jf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=A_(),g=T_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=h.join("");nt(je,`Creating RPC '${e}' stream ${u}: ${S}`,_);const C=d.createWebChannel(S,_);let z=!1,H=!1;const X=new l1({Fo:Z=>{H?nt(je,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(z||(nt(je,`Opening RPC '${e}' stream ${u} transport.`),C.open(),z=!0),nt(je,`RPC '${e}' stream ${u} sending:`,Z),C.send(Z))},Mo:()=>C.close()}),W=(Z,yt,dt)=>{Z.listen(yt,Tt=>{try{dt(Tt)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return W(C,xl.EventType.OPEN,()=>{H||(nt(je,`RPC '${e}' stream ${u} transport opened.`),X.Qo())}),W(C,xl.EventType.CLOSE,()=>{H||(H=!0,nt(je,`RPC '${e}' stream ${u} transport closed`),X.Uo())}),W(C,xl.EventType.ERROR,Z=>{H||(H=!0,gs(je,`RPC '${e}' stream ${u} transport errored:`,Z),X.Uo(new it(F.UNAVAILABLE,"The operation could not be completed")))}),W(C,xl.EventType.MESSAGE,Z=>{var yt;if(!H){const dt=Z.data[0];kt(!!dt);const Tt=dt,Qt=(Tt==null?void 0:Tt.error)||((yt=Tt[0])===null||yt===void 0?void 0:yt.error);if(Qt){nt(je,`RPC '${e}' stream ${u} received error:`,Qt);const _t=Qt.status;let Ut=function(A){const D=me[A];if(D!==void 0)return ev(D)}(_t),N=Qt.message;Ut===void 0&&(Ut=F.INTERNAL,N="Unknown error status: "+_t+" with message "+Qt.message),H=!0,X.Uo(new it(Ut,N)),C.close()}else nt(je,`RPC '${e}' stream ${u} received:`,dt),X.Ko(dt)}}),W(g,E_.STAT_EVENT,Z=>{Z.stat===Bf.PROXY?nt(je,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Bf.NOPROXY&&nt(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new fS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="PersistentStream";class pv{constructor(e,i,a,u,h,d,g,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Ni(i.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new it(F.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Hy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Hy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o1 extends pv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=gS(this.serializer,e),a=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?ni(d.readTime):mt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Gf(_)?{documents:_S(h,_)}:{query:vS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=rv(h,d.resumeToken);const v=Yf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){g.readTime=Ko(h,d.snapshotVersion.toTimestamp());const v=Yf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=TS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.I_(i)}}class c1 extends pv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=yS(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Zf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>pS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{}class f1 extends h1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new it(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Kf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(F.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Kf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(F.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class d1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ni(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class m1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ya(this)&&(nt(ga,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await nu(v),v.j_.set("Unknown"),v.W_.delete(4),await uc(v)}(this))})}),this.j_=new d1(a,u)}}async function uc(s){if(ya(s))for(const e of s.G_)await e(!0)}async function nu(s){for(const e of s.G_)await e(!1)}function yv(s,e){const i=pt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),bd(i)?Sd(i):Ds(i).c_()&&Ad(i,e))}function Td(s,e){const i=pt(s),a=Ds(i);i.K_.delete(e),a.c_()&&_v(i,e),i.K_.size===0&&(a.c_()?a.P_():ya(i)&&i.j_.set("Unknown"))}function Ad(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(s).y_(e)}function _v(s,e){s.H_.Ne(e),Ds(s).w_(e)}function Sd(s){s.H_=new uS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ds(s).start(),s.j_.B_()}function bd(s){return ya(s)&&!Ds(s).u_()&&s.K_.size>0}function ya(s){return pt(s).W_.size===0}function vv(s){s.H_=void 0}async function g1(s){s.j_.set("Online")}async function p1(s){s.K_.forEach((e,i)=>{Ad(s,e)})}async function y1(s,e){vv(s),bd(s)?(s.j_.q_(e),Sd(s)):s.j_.set("Unknown")}async function _1(s,e,i){if(s.j_.set("Online"),e instanceof iv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(a){nt(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Zo(s,a)}else if(e instanceof Lo?s.H_.We(e):e instanceof nv?s.H_.Ze(e):s.H_.je(e),!i.isEqual(mt.min()))try{const a=await mv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.K_.get(v);S&&h.K_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=h.K_.get(_);if(!S)return;h.K_.set(_,S.withResumeToken(Pe.EMPTY_BYTE_STRING,S.snapshotVersion)),_v(h,_);const C=new _r(S.target,_,v,S.sequenceNumber);Ad(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){nt(ga,"Failed to raise snapshot:",a),await Zo(s,a)}}async function Zo(s,e,i){if(!Rs(e))throw e;s.W_.add(1),await nu(s),s.j_.set("Offline"),i||(i=()=>mv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(ga,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await uc(s)})}function Ev(s,e){return e().catch(i=>Zo(s,i,e))}async function oc(s){const e=pt(s),i=Dr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:ld;for(;v1(e);)try{const u=await t1(e.localStore,a);if(u===null){e.U_.length===0&&i.P_();break}a=u.batchId,E1(e,u)}catch(u){await Zo(e,u)}Tv(e)&&Av(e)}function v1(s){return ya(s)&&s.U_.length<10}function E1(s,e){s.U_.push(e);const i=Dr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function Tv(s){return ya(s)&&!Dr(s).u_()&&s.U_.length>0}function Av(s){Dr(s).start()}async function T1(s){Dr(s).C_()}async function A1(s){const e=Dr(s);for(const i of s.U_)e.b_(i.mutations)}async function S1(s,e,i){const a=s.U_.shift(),u=md.from(a,e,i);await Ev(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function b1(s,e){e&&Dr(s).S_&&await async function(a,u){if(function(d){return sS(d)&&d!==F.ABORTED}(u.code)){const h=a.U_.shift();Dr(a).h_(),await Ev(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),Tv(s)&&Av(s)}async function jy(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),nt(ga,"RemoteStore received new credentials");const a=ya(i);i.W_.add(3),await nu(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await uc(i)}async function R1(s,e){const i=pt(s);e?(i.W_.delete(2),await uc(i)):e||(i.W_.add(2),await nu(i),i.j_.set("Unknown"))}function Ds(s){return s.J_||(s.J_=function(i,a,u){const h=pt(i);return h.M_(),new o1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:g1.bind(null,s),No:p1.bind(null,s),Lo:y1.bind(null,s),p_:_1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),bd(s)?Sd(s):s.j_.set("Unknown")):(await s.J_.stop(),vv(s))})),s.J_}function Dr(s){return s.Y_||(s.Y_=function(i,a,u){const h=pt(i);return h.M_(),new c1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:T1.bind(null,s),Lo:b1.bind(null,s),D_:A1.bind(null,s),v_:S1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await oc(s)):(await s.Y_.stop(),s.U_.length>0&&(nt(ga,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Rd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(s,e){if(Ni("AsyncQueue",`${e}: ${s}`),Rs(s))return new it(F.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(e){return new ms(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ll(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ms;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Z_=new Wt(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class Es{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Es(e,i,ms.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class D1{constructor(){this.queries=Qy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=pt(i),h=u.queries;u.queries=Qy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new it(F.ABORTED,"Firestore shutting down"))}}function Qy(){return new pa(s=>H_(s),nc)}async function C1(s,e){const i=pt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new w1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=wd(d,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Dd(i)}async function V1(s,e){const i=pt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function I1(s,e){const i=pt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(a=!0);d.ea=u}}a&&Dd(i)}function O1(s,e,i){const a=pt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function Dd(s){s.ia.forEach(e=>{e.next()})}var Wf,Fy;(Fy=Wf||(Wf={}))._a="default",Fy.Cache="cache";class M1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Es(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.key=e}}class bv{constructor(e){this.key=e}}class N1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=j_(e),this.wa=new ms(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Gy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((S,C)=>{const z=u.get(S),H=ic(this.query,C)?C:null,X=!!z&&this.mutatedKeys.has(z.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;z&&H?z.data.isEqual(H.data)?X!==W&&(a.track({type:3,doc:H}),Z=!0):this.va(z,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.ya(H,_)>0||v&&this.ya(H,v)<0)&&(g=!0)):!z&&H?(a.track({type:0,doc:H}),Z=!0):z&&!H&&(a.track({type:1,doc:z}),Z=!0,(_||v)&&(g=!0)),Z&&(H?(d=d.add(H),h=W?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((S,C)=>function(H,X){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return W(H)-W(X)}(S.type,C.type)||this.ya(S.doc,C.doc)),this.Ca(a),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Es(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Dt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new bv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new Sv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Dt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Es.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cd="SyncEngine";class U1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class x1{constructor(e){this.key=e,this.Ba=!1}}class L1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pa(g=>H_(g),nc),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(ot.comparator),this.Ua=new Map,this.Ka=new yd,this.Wa={},this.Ga=new Map,this.za=vs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function z1(s,e,i=!0){const a=Iv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await Rv(a,e,i,!0),u}async function B1(s,e){const i=Iv(s);await Rv(i,e,!0,!1)}async function Rv(s,e,i,a){const u=await e1(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await P1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&yv(s.remoteStore,u),g}async function P1(s,e,i,a,u){s.Ha=(C,z,H)=>async function(W,Z,yt,dt){let Tt=Z.view.ba(yt);Tt.ls&&(Tt=await By(W.localStore,Z.query,!1).then(({documents:N})=>Z.view.ba(N,Tt)));const Qt=dt&&dt.targetChanges.get(Z.targetId),_t=dt&&dt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(Tt,W.isPrimaryClient,Qt,_t);return Ky(W,Z.targetId,Ut.Ma),Ut.snapshot}(s,C,z,H);const h=await By(s.localStore,e,!0),d=new N1(e,h.gs),g=d.ba(h.documents),_=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);Ky(s,i,v.Ma);const S=new U1(e,i,d);return s.ka.set(e,S),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function q1(s,e,i){const a=pt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!nc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await $f(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Td(a.remoteStore,u.targetId),td(a,u.targetId)}).catch(bs)):(td(a,u.targetId),await $f(a.localStore,u.targetId,!0))}async function k1(s,e){const i=pt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Td(i.remoteStore,a.targetId))}async function H1(s,e,i){const a=X1(s);try{const u=await function(d,g){const _=pt(d),v=pe.now(),S=g.reduce((H,X)=>H.add(X.key),Dt());let C,z;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let X=Ui(),W=Dt();return _.ds.getEntries(H,S).next(Z=>{X=Z,X.forEach((yt,dt)=>{dt.isValidDocument()||(W=W.add(yt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,X)).next(Z=>{C=Z;const yt=[];for(const dt of g){const Tt=eS(dt,C.get(dt.key).overlayedDocument);Tt!=null&&yt.push(new Ir(dt.key,Tt,U_(Tt.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,yt,g)}).next(Z=>{z=Z;const yt=Z.applyToLocalDocumentSet(C,W);return _.documentOverlayCache.saveOverlays(H,Z.batchId,yt)})}).then(()=>({batchId:z.batchId,changes:Q_(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new Wt(wt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await iu(a,u.changes),await oc(a.remoteStore)}catch(u){const h=wd(u,"Failed to persist write");i.reject(h)}}async function wv(s,e){const i=pt(s);try{const a=await JS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?kt(d.Ba):u.removedDocuments.size>0&&(kt(d.Ba),d.Ba=!1))}),await iu(i,a,e)}catch(a){await bs(a)}}function Yy(s,e,i){const a=pt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=pt(d);_.onlineState=g;let v=!1;_.queries.forEach((S,C)=>{for(const z of C.ta)z.sa(g)&&(v=!0)}),v&&Dd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function j1(s,e,i){const a=pt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ua.get(e),h=u&&u.key;if(h){let d=new Wt(ot.comparator);d=d.insert(h,Qe.newNoDocument(h,mt.min()));const g=Dt().add(h),_=new sc(mt.min(),new Map,new Wt(wt),d,g);await wv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),Vd(a)}else await $f(a.localStore,e,!1).then(()=>td(a,e,i)).catch(bs)}async function G1(s,e){const i=pt(s),a=e.batch.batchId;try{const u=await $S(i.localStore,e);Cv(i,a,null),Dv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,u)}catch(u){await bs(u)}}async function Q1(s,e,i){const a=pt(s);try{const u=await function(d,g){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next(C=>(kt(C!==null),S=C.keys(),_.mutationQueue.removeMutationBatch(v,C))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(a.localStore,e);Cv(a,e,i),Dv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,u)}catch(u){await bs(u)}}function Dv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function Cv(s,e,i){const a=pt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function td(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||Vv(s,a)})}function Vv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(Td(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),Vd(s))}function Ky(s,e,i){for(const a of i)a instanceof Sv?(s.Ka.addReference(a.key,e),F1(s,a)):a instanceof bv?(nt(Cd,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||Vv(s,a.key)):ft()}function F1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(Cd,"New document in limbo: "+i),s.Qa.add(a),Vd(s))}function Vd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(Xt.fromString(e)),a=s.za.next();s.Ua.set(a,new x1(i)),s.$a=s.$a.insert(i,a),yv(s.remoteStore,new _r(ti(fd(i.path)),a,"TargetPurposeLimboResolution",Wo.ae))}}async function iu(s,e,i){const a=pt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var S;if((v||i)&&a.isPrimaryClient){const C=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=vd.Yi(_.targetId,v);h.push(C)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const S=pt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Q.forEach(v,z=>Q.forEach(z.Hi,H=>S.persistence.referenceDelegate.addReference(C,z.targetId,H)).next(()=>Q.forEach(z.Ji,H=>S.persistence.referenceDelegate.removeReference(C,z.targetId,H)))))}catch(C){if(!Rs(C))throw C;nt(Ed,"Failed to update sequence numbers: "+C)}for(const C of v){const z=C.targetId;if(!C.fromCache){const H=S.Ts.get(z),X=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(X);S.Ts=S.Ts.insert(z,W)}}}(a.localStore,h))}async function Y1(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){nt(Cd,"User change. New user:",e.toKey());const a=await dv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new it(F.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Rs)}}function K1(s,e){const i=pt(s),a=i.Ua.get(e);if(a&&a.Ba)return Dt().add(a.key);{let u=Dt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function Iv(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j1.bind(null,e),e.La.p_=I1.bind(null,e.eventManager),e.La.Ja=O1.bind(null,e.eventManager),e}function X1(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q1.bind(null,e),e}class $o{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return ZS(this.persistence,new YS,e.initialUser,this.serializer)}Xa(e){return new fv(_d.ri,this.serializer)}Za(e){return new i1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$o.provider={build:()=>new $o};class Z1 extends $o{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){kt(this.persistence.referenceDelegate instanceof Xo);const a=this.persistence.referenceDelegate.garbageCollector;return new MS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new fv(a=>Xo.ri(a,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y1.bind(null,this.syncEngine),await R1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D1}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new u1(h)}(e.databaseInfo);return function(h,d,g,_){return new f1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new m1(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Yy(this.syncEngine,i,0),function(){return ky.D()?new ky:new r1}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,S){const C=new L1(u,h,d,g,_,v);return S&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=pt(u);nt(ga,"RemoteStore shutting down."),h.W_.add(5),await nu(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class J1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{nt(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=wd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Cf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await dv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Xy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await W1(s);nt(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>jy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>jy(e.remoteStore,u)),s._onlineComponents=e}async function W1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Cr,"Using user provided OfflineComponentProvider");try{await Cf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===F.FAILED_PRECONDITION||u.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;gs("Error using user provided cache. Falling back to memory cache: "+i),await Cf(s,new $o)}}else nt(Cr,"Using default OfflineComponentProvider"),await Cf(s,new Z1(void 0));return s._offlineComponents}async function Ov(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Cr,"Using user provided OnlineComponentProvider"),await Xy(s,s._uninitializedComponentsProvider._online)):(nt(Cr,"Using default OnlineComponentProvider"),await Xy(s,new ed))),s._onlineComponents}function tb(s){return Ov(s).then(e=>e.syncEngine)}async function Zy(s){const e=await Ov(s),i=e.eventManager;return i.onListen=z1.bind(null,e.syncEngine),i.onUnlisten=q1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=B1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=k1.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(s,e,i){if(!i)throw new it(F.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function eb(s,e,i,a){if(e===!0&&a===!0)throw new it(F.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Jy(s){if(!ot.isDocumentKey(s))throw new it(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wy(s){if(ot.isDocumentKey(s))throw new it(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft()}function da(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new it(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cc(s);throw new it(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="firestore.googleapis.com",t_=!0;class e_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new it(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uv,this.ssl=t_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:t_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IS)throw new it(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new it(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new it(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new it(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new uA;switch(a.type){case"firstParty":return new fA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=$y.get(i);a&&(nt("ComponentProvider","Removing Datastore"),$y.delete(i),a.terminate())}(this),Promise.resolve()}}function nb(s,e,i,a={}){var u;const h=(s=da(s,hc))._getSettings(),d=`${e}:${i}`;if(h.host!==Uv&&h.host!==d&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),a.mockUserToken){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Ge.MOCK_USER;else{g=P0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new it(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}s._authCredentials=new oA(new S_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class rn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Ar extends _a{constructor(e,i,a){super(e,i,fd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ot(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function zo(s,e,...i){if(s=ii(s),Nv("collection","path",e),s instanceof hc){const a=Xt.fromString(e,...i);return Wy(a),new Ar(s,null,a)}{if(!(s instanceof rn||s instanceof Ar))throw new it(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Wy(a),new Ar(s.firestore,null,a)}}function xv(s,e,...i){if(s=ii(s),arguments.length===1&&(e=b_.newId()),Nv("doc","path",e),s instanceof hc){const a=Xt.fromString(e,...i);return Jy(a),new rn(s,null,new ot(a))}{if(!(s instanceof rn||s instanceof Ar))throw new it(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Jy(a),new rn(s.firestore,s instanceof Ar?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="AsyncQueue";class i_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gv(this,"async_queue_retry"),this.Su=()=>{const a=Df();a&&nt(n_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Df();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Df();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new fa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Rs(e))throw e;nt(n_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Ni("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=Rd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function r_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Wl extends hc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new i_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i_(e),this._firestoreClient=void 0,await e}}}function ib(s,e){const i=typeof s=="object"?s:XT(),a=typeof s=="string"?s:jo,u=GT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=z0("firestore");h&&nb(u,...h)}return u}function Lv(s){if(s._terminated)throw new it(F.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rb(s),s._firestoreClient}function rb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,S){return new wA(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Mv(S.experimentalLongPollingOptions),S.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new J1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(Pe.fromBase64String(e))}catch(i){throw new it(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ts(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=/^__.*__$/;class sb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class zv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Bv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Nd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Nd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Bv(this.Lu)&&ab.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}ju(e,i,a,u=!1){return new Nd({Lu:e,methodName:i,zu:a,path:Be.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ud(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new lb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ub(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);xd("Data must be an object, but it was:",d,a);const g=Pv(a,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const C of h.mergeFields){const z=nd(e,C,i);if(!d.contains(z))throw new it(F.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);kv(S,z)||S.push(z)}_=new fn(S),v=d.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,v=d.fieldTransforms;return new sb(new nn(g),_,v)}class dc extends Id{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dc}}function ob(s,e,i,a){const u=s.ju(1,e,i);xd("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Vr(a,(_,v)=>{const S=Ld(e,_,i);v=ii(v);const C=u.Uu(S);if(v instanceof dc)h.push(S);else{const z=ru(v,C);z!=null&&(h.push(S),d.set(S,z))}});const g=new fn(h);return new zv(d,g,u.fieldTransforms)}function cb(s,e,i,a,u,h){const d=s.ju(1,e,i),g=[nd(e,a,i)],_=[u];if(h.length%2!=0)throw new it(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<h.length;z+=2)g.push(nd(e,h[z])),_.push(h[z+1]);const v=[],S=nn.empty();for(let z=g.length-1;z>=0;--z)if(!kv(v,g[z])){const H=g[z];let X=_[z];X=ii(X);const W=d.Uu(H);if(X instanceof dc)v.push(H);else{const Z=ru(X,W);Z!=null&&(v.push(H),S.set(H,Z))}}const C=new fn(v);return new zv(S,C,d.fieldTransforms)}function hb(s,e,i,a=!1){return ru(i,s.ju(a?4:3,e))}function ru(s,e){if(qv(s=ii(s)))return xd("Unsupported field value:",e,s),Pv(s,e);if(s instanceof Id)return function(a,u){if(!Bv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=ru(g,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=ii(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return XA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=pe.fromDate(a);return{timestampValue:Ko(u.serializer,h)}}if(a instanceof pe){const h=new pe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ko(u.serializer,h)}}if(a instanceof Od)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ts)return{bytesValue:rv(u.serializer,a._byteString)};if(a instanceof rn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:pd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Md)return function(d,g){return{mapValue:{fields:{[M_]:{stringValue:N_},[Go]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return dd(g.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${cc(a)}`)}(s,e)}function Pv(s,e){const i={};return w_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(s,(a,u)=>{const h=ru(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function qv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pe||s instanceof Od||s instanceof Ts||s instanceof rn||s instanceof Id||s instanceof Md)}function xd(s,e,i){if(!qv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=cc(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function nd(s,e,i){if((e=ii(e))instanceof fc)return e._internalPath;if(typeof e=="string")return Ld(s,e);throw Jo("Field path arguments must be of type string or ",s,!1,void 0,i)}const fb=new RegExp("[~\\*/\\[\\]]");function Ld(s,e,i){if(e.search(fb)>=0)throw Jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new fc(...e.split("."))._internalPath}catch{throw Jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Jo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new it(F.INVALID_ARGUMENT,g+s+_)}function kv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(mc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class db extends Hv{data(){return super.data()}}function mc(s,e){return typeof e=="string"?Ld(s,e):e instanceof fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zd{}class jv extends zd{}function Vf(s,e,...i){let a=[];e instanceof zd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Bd).length,g=h.filter(_=>_ instanceof gc).length;if(d>1||d>0&&g>0)throw new it(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class gc extends jv{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new gc(e,i,a)}_apply(e){const i=this._parse(e);return Gv(e._query,i),new _a(e.firestore,e.converter,Qf(e._query,i))}_parse(e){const i=Ud(e.firestore);return function(h,d,g,_,v,S,C){let z;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new it(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){s_(C,S);const X=[];for(const W of C)X.push(a_(_,h,W));z={arrayValue:{values:X}}}else z=a_(_,h,C)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||s_(C,S),z=hb(g,d,C,S==="in"||S==="not-in");return ge.create(v,S,z)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function If(s,e,i){const a=e,u=mc("where",s);return gc._create(u,a,i)}class Bd extends zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Bd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const g=h.getFlattenedFilters();for(const _ of g)Gv(d,_),d=Qf(d,_)}(e._query,i),new _a(e.firestore,e.converter,Qf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pd extends jv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Pd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new it(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new it(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(h,d)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new ws(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function Of(s,e="asc"){const i=e,a=mc("orderBy",s);return Pd._create(a,i)}function a_(s,e,i){if(typeof(i=ii(i))=="string"){if(i==="")throw new it(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k_(e)&&i.indexOf("/")!==-1)throw new it(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Xt.fromString(i));if(!ot.isDocumentKey(a))throw new it(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return vy(s,new ot(a))}if(i instanceof rn)return vy(s,i._key);throw new it(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(i)}.`)}function s_(s,e){if(!Array.isArray(s)||s.length===0)throw new it(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gv(s,e){const i=function(u,h){for(const d of u)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new it(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class gb{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Vr(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Go].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new Md(h)}convertGeoPoint(e){return new Od(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ec(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=br(e);return new pe(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Xt.fromString(e);kt(cv(a));const u=new Kl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Ni(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qv extends Hv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(mc("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Bo extends Qv{data(e={}){return super.data(e)}}class yb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Bl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Bo(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Bo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Bo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:_b(g.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function _b(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class Fv extends gb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function vb(s,e,i,...a){s=da(s,rn);const u=da(s.firestore,Wl),h=Ud(u);let d;return d=typeof(e=ii(e))=="string"||e instanceof fc?cb(h,"updateDoc",s._key,e,i,a):ob(h,"updateDoc",s._key,e),Yv(u,[d.toMutation(s._key,ei.exists(!0))])}function Eb(s,e){const i=da(s.firestore,Wl),a=xv(s),u=pb(s.converter,e);return Yv(i,[ub(Ud(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then(()=>a)}function Tb(s,...e){var i,a,u;s=ii(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||r_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(r_(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),e[d+2]=(u=C.complete)===null||u===void 0?void 0:u.bind(C)}let _,v,S;if(s instanceof rn)v=da(s.firestore,Wl),S=fd(s._key.path),_={next:C=>{e[d]&&e[d](Ab(v,s,C))},error:e[d+1],complete:e[d+2]};else{const C=da(s,_a);v=da(C.firestore,Wl),S=C._query;const z=new Fv(v);_={next:H=>{e[d]&&e[d](new yb(v,z,C,H))},error:e[d+1],complete:e[d+2]},mb(s._query)}return function(z,H,X,W){const Z=new $1(W),yt=new M1(H,Z,X);return z.asyncQueue.enqueueAndForget(async()=>C1(await Zy(z),yt)),()=>{Z.su(),z.asyncQueue.enqueueAndForget(async()=>V1(await Zy(z),yt))}}(Lv(v),S,g,_)}function Yv(s,e){return function(a,u){const h=new fa;return a.asyncQueue.enqueueAndForget(async()=>H1(await tb(a),u,h)),h.promise}(Lv(s),e)}function Ab(s,e,i){const a=i.docs.get(e._key),u=new Fv(s);return new Qv(s,u,e._key,a,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Ss=u})(KT),ko(new Gl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Wl(new cA(a.getProvider("auth-internal")),new dA(d,a.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new it(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(v.options.projectId,S)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ds(uy,oy,e),ds(uy,oy,"esm2017")})();const Sb={apiKey:"AIzaSyCnMU-CzSmD4d2AiS20bcIMrr1_eneft68",authDomain:"habit-tracker-580d5.firebaseapp.com",projectId:"habit-tracker-580d5",storageBucket:"habit-tracker-580d5.firebasestorage.app",messagingSenderId:"1088854789740",appId:"1:1088854789740:web:80261dbf30bb078c89d249"},bb=m_(Sb),Pl=ib(bb);function Rb(){const[s,e]=ca.useState(""),[i,a]=ca.useState("checkbox"),u=async h=>{if(h.preventDefault(),!!s)try{await Eb(zo(Pl,"habits"),{name:s,type:i,createdAt:pe.now(),date:new Date().toISOString().split("T")[0]}),e(""),alert("Habit added successfully!")}catch(d){console.error("Error adding habit:",d),alert("Failed to add habit.")}};return ae.jsxs("form",{onSubmit:u,children:[ae.jsx("input",{type:"text",placeholder:"Enter habit...",value:s,onChange:h=>e(h.target.value),required:!0}),ae.jsxs("select",{value:i,onChange:h=>a(h.target.value),children:[ae.jsx("option",{value:"checkbox",children:"Checkbox"}),ae.jsx("option",{value:"measurable",children:"Measurable"})]}),ae.jsx("button",{type:"submit",children:"Add Habit"})]})}function wb(){const[s,e]=ca.useState([]),[i,a]=ca.useState("daily"),[u,h]=ca.useState(new Date().toISOString().split("T")[0]);ca.useEffect(()=>{const _=(()=>{let v;if(i==="daily")v=Vf(zo(Pl,"habits"),If("date","==",u),Of("createdAt","desc"));else if(i==="weekly"){const C=new Date;C.setDate(C.getDate()-C.getDay());const z=C.toISOString().split("T")[0];v=Vf(zo(Pl,"habits"),If("date",">=",z),Of("date"))}else if(i==="monthly"){const C=new Date;C.setDate(1);const z=C.toISOString().split("T")[0];v=Vf(zo(Pl,"habits"),If("date",">=",z),Of("date"))}return Tb(v,C=>{const z=C.docs.map(H=>({id:H.id,...H.data()}));e(z)})})();return()=>_()},[i,u]);const d=async(g,_)=>{const v=xv(Pl,"habits",g);await vb(v,{completed:!_})};return ae.jsxs("div",{children:[ae.jsx("h2",{children:"Your Habits"}),ae.jsxs("div",{children:[ae.jsx("button",{onClick:()=>a("daily"),children:"Daily"}),ae.jsx("button",{onClick:()=>a("weekly"),children:"Weekly"}),ae.jsx("button",{onClick:()=>a("monthly"),children:"Monthly"})]}),i==="daily"&&ae.jsx("input",{type:"date",value:u,onChange:g=>h(g.target.value)}),ae.jsx("ul",{children:s.map(g=>ae.jsxs("li",{children:[ae.jsx("input",{type:"checkbox",checked:g.completed,onChange:()=>d(g.id,g.completed)}),g.name," - ",g.type," - ",g.date]},g.id))})]})}function Db(){return ae.jsxs("div",{children:[ae.jsx("h1",{children:"Habit Tracker"}),ae.jsx(Rb,{}),ae.jsx(wb,{})]})}D0.createRoot(document.getElementById("root")).render(ae.jsx(ca.StrictMode,{children:ae.jsx(Db,{})}));
