(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var uf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function o0(){if(Ip)return Ol;Ip=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Op;function c0(){return Op||(Op=1,uf.exports=o0()),uf.exports}var Ge=c0(),of={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function h0(){if(Mp)return Et;Mp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function Z(C,K,st){this.props=C,this.context=K,this.refs=W,this.updater=st||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function yt(){}yt.prototype=Z.prototype;function dt(C,K,st){this.props=C,this.context=K,this.refs=W,this.updater=st||j}var Tt=dt.prototype=new yt;Tt.constructor=dt,$(Tt,Z.prototype),Tt.isPureReactComponent=!0;var Qt=Array.isArray,_t={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function N(C,K,st,tt,et,At){return st=At.ref,{$$typeof:s,type:C,key:K,ref:st!==void 0?st:null,props:At}}function R(C,K){return N(C.type,K,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(st){return K[st]})}var M=/\/+/g;function z(C,K){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):K.toString(36)}function w(){}function pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ue(C,K,st,tt,et){var At=typeof C;(At==="undefined"||At==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case b:return vt=C._init,ue(vt(C._payload),K,st,tt,et)}}if(vt)return et=et(C),vt=tt===""?"."+z(C,0):tt,Qt(et)?(st="",vt!=null&&(st=vt.replace(M,"$&/")+"/"),ue(et,K,st,"",function(te){return te})):et!=null&&(A(et)&&(et=R(et,st+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(M,"$&/")+"/")+vt)),K.push(et)),1;vt=0;var oe=tt===""?".":tt+":";if(Qt(C))for(var xt=0;xt<C.length;xt++)tt=C[xt],At=oe+z(tt,xt),vt+=ue(tt,K,st,At,et);else if(xt=P(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(tt=C.next()).done;)tt=tt.value,At=oe+z(tt,xt++),vt+=ue(tt,K,st,At,et);else if(At==="object"){if(typeof C.then=="function")return ue(pe(C),K,st,tt,et);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return vt}function J(C,K,st){if(C==null)return C;var tt=[],et=0;return ue(C,tt,"","",function(At){return K.call(st,At,et++)}),tt}function ht(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(st){(C._status===0||C._status===-1)&&(C._status=1,C._result=st)},function(st){(C._status===0||C._status===-1)&&(C._status=2,C._result=st)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return Et.Children={map:J,forEach:function(C,K,st){J(C,function(){K.apply(this,arguments)},st)},count:function(C){var K=0;return J(C,function(){K++}),K},toArray:function(C){return J(C,function(K){return K})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=Z,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,K,st){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=$({},C.props),et=C.key,At=void 0;if(K!=null)for(vt in K.ref!==void 0&&(At=void 0),K.key!==void 0&&(et=""+K.key),K)!Ut.call(K,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&K.ref===void 0||(tt[vt]=K[vt]);var vt=arguments.length-2;if(vt===1)tt.children=st;else if(1<vt){for(var oe=Array(vt),xt=0;xt<vt;xt++)oe[xt]=arguments[xt+2];tt.children=oe}return N(C.type,et,void 0,void 0,At,tt)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,K,st){var tt,et={},At=null;if(K!=null)for(tt in K.key!==void 0&&(At=""+K.key),K)Ut.call(K,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=K[tt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var oe=Array(vt),xt=0;xt<vt;xt++)oe[xt]=arguments[xt+2];et.children=oe}if(C&&C.defaultProps)for(tt in vt=C.defaultProps,vt)et[tt]===void 0&&(et[tt]=vt[tt]);return N(C,At,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:p,render:C}},Et.isValidElement=A,Et.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ht}},Et.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},Et.startTransition=function(C){var K=_t.T,st={};_t.T=st;try{var tt=C(),et=_t.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Pt,ut)}catch(At){ut(At)}finally{_t.T=K}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(C){return _t.H.use(C)},Et.useActionState=function(C,K,st){return _t.H.useActionState(C,K,st)},Et.useCallback=function(C,K){return _t.H.useCallback(C,K)},Et.useContext=function(C){return _t.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,K){return _t.H.useDeferredValue(C,K)},Et.useEffect=function(C,K){return _t.H.useEffect(C,K)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(C,K,st){return _t.H.useImperativeHandle(C,K,st)},Et.useInsertionEffect=function(C,K){return _t.H.useInsertionEffect(C,K)},Et.useLayoutEffect=function(C,K){return _t.H.useLayoutEffect(C,K)},Et.useMemo=function(C,K){return _t.H.useMemo(C,K)},Et.useOptimistic=function(C,K){return _t.H.useOptimistic(C,K)},Et.useReducer=function(C,K,st){return _t.H.useReducer(C,K,st)},Et.useRef=function(C){return _t.H.useRef(C)},Et.useState=function(C){return _t.H.useState(C)},Et.useSyncExternalStore=function(C,K,st){return _t.H.useSyncExternalStore(C,K,st)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.0.0",Et}var Np;function Ff(){return Np||(Np=1,of.exports=h0()),of.exports}var Hl=Ff(),cf={exports:{}},Ml={},hf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function f0(){return Up||(Up=1,function(s){function e(J,ht){var ut=J.length;J.push(ht);t:for(;0<ut;){var Pt=ut-1>>>1,C=J[Pt];if(0<u(C,ht))J[Pt]=ht,J[ut]=C,ut=Pt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ht=J[0],ut=J.pop();if(ut!==ht){J[0]=ut;t:for(var Pt=0,C=J.length,K=C>>>1;Pt<K;){var st=2*(Pt+1)-1,tt=J[st],et=st+1,At=J[et];if(0>u(tt,ut))et<C&&0>u(At,tt)?(J[Pt]=At,J[et]=ut,Pt=et):(J[Pt]=tt,J[st]=ut,Pt=st);else if(et<C&&0>u(At,ut))J[Pt]=At,J[et]=ut,Pt=et;else break t}}return ht}function u(J,ht){var ut=J.sortIndex-ht.sortIndex;return ut!==0?ut:J.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],b=1,I=null,P=3,j=!1,$=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Tt(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=J)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Qt(J){if(W=!1,Tt(J),!$)if(i(_)!==null)$=!0,pe();else{var ht=i(v);ht!==null&&ue(Qt,ht.startTime-J)}}var _t=!1,Ut=-1,N=5,R=-1;function A(){return!(s.unstable_now()-R<N)}function D(){if(_t){var J=s.unstable_now();R=J;var ht=!0;try{t:{$=!1,W&&(W=!1,yt(Ut),Ut=-1),j=!0;var ut=P;try{e:{for(Tt(J),I=i(_);I!==null&&!(I.expirationTime>J&&A());){var Pt=I.callback;if(typeof Pt=="function"){I.callback=null,P=I.priorityLevel;var C=Pt(I.expirationTime<=J);if(J=s.unstable_now(),typeof C=="function"){I.callback=C,Tt(J),ht=!0;break e}I===i(_)&&a(_),Tt(J)}else a(_);I=i(_)}if(I!==null)ht=!0;else{var K=i(v);K!==null&&ue(Qt,K.startTime-J),ht=!1}}break t}finally{I=null,P=ut,j=!1}ht=void 0}}finally{ht?M():_t=!1}}}var M;if(typeof dt=="function")M=function(){dt(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=D,M=function(){w.postMessage(null)}}else M=function(){Z(D,0)};function pe(){_t||(_t=!0,M())}function ue(J,ht){Ut=Z(function(){J(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){$||j||($=!0,pe())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(P){case 1:case 2:case 3:var ht=3;break;default:ht=P}var ut=P;P=ht;try{return J()}finally{P=ut}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ut=P;P=J;try{return ht()}finally{P=ut}},s.unstable_scheduleCallback=function(J,ht,ut){var Pt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,J={id:b++,callback:ht,priorityLevel:J,startTime:ut,expirationTime:C,sortIndex:-1},ut>Pt?(J.sortIndex=ut,e(v,J),i(_)===null&&J===i(v)&&(W?(yt(Ut),Ut=-1):W=!0,ue(Qt,ut-Pt))):(J.sortIndex=C,e(_,J),$||j||($=!0,pe())),J},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(J){var ht=P;return function(){var ut=P;P=ht;try{return J.apply(this,arguments)}finally{P=ut}}}}(ff)),ff}var xp;function d0(){return xp||(xp=1,hf.exports=f0()),hf.exports}var df={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function m0(){if(zp)return ke;zp=1;var s=Ff();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:_,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ke.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,b)},ke.flushSync=function(_){var v=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=b,a.d.f()}},ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,I=p(b,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:P,fetchPriority:j}):b==="script"&&a.d.X(_,{crossOrigin:I,integrity:P,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,I=p(b,v.crossOrigin);a.d.L(_,b,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},ke.requestFormReset=function(_){a.d.r(_)},ke.unstable_batchedUpdates=function(_,v){return _(v)},ke.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},ke.version="19.0.0",ke}var Lp;function g0(){if(Lp)return df.exports;Lp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),df.exports=m0(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function p0(){if(Bp)return Ml;Bp=1;var s=d0(),e=Ff(),i=g0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Qt=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=_t&&t[_t]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case p:return"Portal";case b:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,z;function w(t){if(M===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",z=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+z}var pe=!1;function ue(t,n){if(!t||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var S=y.split(`
`),O=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===O.length)for(l=S.length-1,c=O.length-1;1<=l&&0<=c&&S[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==O[c]){var H=`
`+S[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ut(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ut(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=ut(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},vt=[],oe=-1;function xt(t){return{current:t}}function te(t){0>oe||(t.current=vt[oe],vt[oe]=null,oe--)}function Ht(t,n){oe++,vt[oe]=t.current,t.current=n}var Fe=xt(null),ii=xt(null),hn=xt(null),Ui=xt(null);function xi(t,n){switch(Ht(hn,n),Ht(ii,t),Ht(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ap(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ap(t),n=sp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Fe),Ht(Fe,n)}function ri(){te(Fe),te(ii),te(hn)}function ws(t){t.memoizedState!==null&&Ht(Ui,t);var n=Fe.current,r=sp(n,t.type);n!==r&&(Ht(ii,t),Ht(Fe,r))}function ya(t){ii.current===t&&(te(Fe),te(ii)),Ui.current===t&&(te(Ui),wl._currentValue=At)}var _a=Object.prototype.hasOwnProperty,Cr=s.unstable_scheduleCallback,va=s.unstable_cancelCallback,oc=s.unstable_shouldYield,Ds=s.unstable_requestPaint,Je=s.unstable_now,nu=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,ai=s.unstable_NormalPriority,iu=s.unstable_LowPriority,Cs=s.unstable_IdlePriority,cc=s.log,Vr=s.unstable_setDisableYieldValue,zi=null,Pe=null;function Vs(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof cc=="function"&&Vr(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zi,t)}catch{}}var Ye=Math.clz32?Math.clz32:au,Is=Math.log,ru=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(Is(t)/ru|0)|0}var Bn=128,Li=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Vn(r):(f&=E,f!==0?l=Vn(f):t||(y=E&~y,y!==0&&(l=Vn(y))))):(E=r&~c,E!==0?l=Vn(E):f!==0?l=Vn(f):t||(y=r&~y,y!==0&&(l=Vn(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ea(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Bn;return Bn<<=1,!(Bn&4194176)&&(Bn=128),t}function Pi(){var t=Li;return Li<<=1,!(Li&62914560)&&(Li=4194304),t}function Ta(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function su(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,O=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ye(r),Y=1<<H;E[H]=0,S[H]=-1;var B=O[H];if(B!==null)for(O[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}r&=~Y}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function ki(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function lu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function uu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:bp(t.type))}function Hi(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Pn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Pn,_e="__reactProps$"+Pn,si="__reactContainer$"+Pn,Ir="__reactEvents$"+Pn,Aa="__reactListeners$"+Pn,qn="__reactHandles$"+Pn,Ms="__reactResources$"+Pn,ji="__reactMarker$"+Pn;function Or(t){delete t[Re],delete t[_e],delete t[Ir],delete t[Aa],delete t[qn]}function In(t){var n=t[Re];if(n)return n;for(var r=t.parentNode;r;){if(n=r[si]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=op(t);t!==null;){if(r=t[Re])return r;t=op(t)}return n}t=r,r=t.parentNode}return null}function li(t){if(t=t[Re]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qi(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[ji]=!0}var Ns=new Set,Sa={};function nn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Sa[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Us={},xs={};function ou(t){return _a.call(xs,t)?!0:_a.call(Us,t)?!1:hc.test(t)?xs[t]=!0:(Us[t]=!0,!1)}function Fi(t,n,r){if(ou(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function dn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fc(t){var n=cu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Mr(t){t._valueTracker||(t._valueTracker=fc(t))}function zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=cu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ui=/[\n"\\]/g;function ee(t){return t.replace(ui,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ki(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ra(t,y,Ke(n)):r!=null?Ra(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Nr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ra(t,n,r){n==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ur(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Xi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ls(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||dc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function hu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ls(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ls(t,f,n[f])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(t){return gc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gn=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function hi(t){var n=li(t);if(n&&(t=n.stateNode)){var r=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ki(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(a(90));Ki(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&zs(l)}break t;case"textarea":Ur(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var Ps=!1;function fu(t,n,r){if(Ps)return t(n,r);Ps=!0;try{var l=t(n);return l}finally{if(Ps=!1,(oi!==null||ci!==null)&&(io(),oi&&(n=oi,t=ci,ci=oi=null,hi(n),t)))for(n=0;n<t.length;n++)hi(t[n])}}function xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[_e]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var pn=!1;if(rn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{pn=!1}var Hn=null,Zi=null,fi=null;function qs(){if(fi)return fi;var t,n=Zi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function ks(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:ks,this.isPropagationStopped=ks,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=we(qt),Lr=D({},qt,{view:0,detail:0}),du=we(Lr),Ca,Va,Qn,Br=D({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ca=t.screenX-Qn.screenX,Va=t.screenY-Qn.screenY):Va=Ca=0,Qn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),yn=we(Br),mu=D({},Br,{dataTransfer:0}),pc=we(mu),Pr=D({},Lr,{relatedTarget:0}),Ia=we(Pr),Hs=D({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=we(Hs),gu=D({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=we(gu),yc=D({},qt,{data:0}),js=we(yc),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function kr(){return Gs}var _u=D({},Lr,{key:function(t){if(t.key){var n=qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Na=we(_u),vu=D({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=we(vu),di=D({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),Eu=we(di),Tu=D({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=we(Tu),Su=D({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=we(Su),Xe=D({},qt,{newState:0,oldState:0}),bu=we(Xe),Ru=[9,13,27,32],Fn=rn&&"CompositionEvent"in window,o=null;rn&&"documentMode"in document&&(o=document.documentMode);var m=rn&&"TextEvent"in window&&!o,g=rn&&(!Fn||o&&8<o&&11>=o),T=" ",x=!1;function q(t,n){switch(t){case"keyup":return Ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Fn&&q(t,n)?(t=qs(),fi=Zi=Hn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function mi(t,n,r,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=uo(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Yn=null;function Fs(t){tp(t,0)}function wu(t){var n=Gi(t);if(zs(n))return t}function Vd(t,n){if(t==="change")return n}var Id=!1;if(rn){var _c;if(rn){var vc="oninput"in document;if(!vc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),vc=typeof Od.oninput=="function"}_c=vc}else _c=!1;Id=_c&&(!document.documentMode||9<document.documentMode)}function Md(){Me&&(Me.detachEvent("onpropertychange",Nd),Yn=Me=null)}function Nd(t){if(t.propertyName==="value"&&wu(Yn)){var n=[];mi(n,Yn,t,wa(t)),fu(Fs,n)}}function Pv(t,n,r){t==="focusin"?(Md(),Me=n,Yn=r,Me.attachEvent("onpropertychange",Nd)):t==="focusout"&&Md()}function qv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Yn)}function kv(t,n){if(t==="click")return wu(n)}function Hv(t,n){if(t==="input"||t==="change")return wu(n)}function jv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:jv;function Ys(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_a.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xd(t,n){var r=Ud(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ud(r)}}function zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ld(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ba(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ba(t.document)}return n}function Ec(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Gv(t,n){var r=Ld(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&zd(n.ownerDocument.documentElement,n)){if(l!==null&&Ec(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=xd(n,f);var y=xd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Qv=rn&&"documentMode"in document&&11>=document.documentMode,xa=null,Tc=null,Ks=null,Ac=!1;function Bd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ac||xa==null||xa!==ba(l)||(l=xa,"selectionStart"in l&&Ec(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ks&&Ys(Ks,l)||(Ks=l,l=uo(Tc,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=xa)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var za={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Sc={},Pd={};rn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function jr(t){if(Sc[t])return Sc[t];if(!za[t])return t;var n=za[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pd)return Sc[t]=n[r];return t}var qd=jr("animationend"),kd=jr("animationiteration"),Hd=jr("animationstart"),Fv=jr("transitionrun"),Yv=jr("transitionstart"),Kv=jr("transitioncancel"),jd=jr("transitionend"),Gd=new Map,Qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Gd.set(t,n),nn(n,[t])}var _n=[],La=0,bc=0;function Du(){for(var t=La,n=bc=La=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Fd(r,c,f)}}function Cu(t,n,r,l){_n[La++]=t,_n[La++]=n,_n[La++]=r,_n[La++]=l,bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rc(t,n,r,l){return Cu(t,n,r,l),Vu(t)}function $i(t,n){return Cu(t,null,null,n),Vu(t)}function Fd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Vu(t){if(50<vl)throw vl=0,Oh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={},Yd=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Yd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},Yd.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var Pa=[],qa=0,Iu=null,Ou=0,En=[],Tn=0,Gr=null,gi=1,pi="";function Qr(t,n){Pa[qa++]=Ou,Pa[qa++]=Iu,Iu=t,Ou=n}function Kd(t,n,r){En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=Gr,Gr=t;var l=gi;t=pi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,gi=1<<32-Ye(n)+c|r<<c|l,pi=f+t}else gi=1<<f|r<<c|l,pi=t}function wc(t){t.return!==null&&(Qr(t,1),Kd(t,1,0))}function Dc(t){for(;t===Iu;)Iu=Pa[--qa],Pa[qa]=null,Ou=Pa[--qa],Pa[qa]=null;for(;t===Gr;)Gr=En[--Tn],En[Tn]=null,pi=En[--Tn],En[Tn]=null,gi=En[--Tn],En[Tn]=null}var Ze=null,Ne=null,Lt=!1,Mn=null,Kn=!1,Cc=Error(a(519));function Fr(t){var n=Error(a(418,""));throw $s(vn(n,t)),Cc}function Xd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Re]=t,n[_e]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Ct(Tl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Nr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Mr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Xi(n,l.value,l.defaultValue,l.children),Mr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||rp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Fr(t)}function Zd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function Xs(t){if(t!==Ze)return!1;if(!Lt)return Zd(t),Lt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Kh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ne&&Fr(t),Zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ne=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ne=null}}else Ne=Ze?Un(t.stateNode.nextSibling):null;return!0}function Zs(){Ne=Ze=null,Lt=!1}function $s(t){Mn===null?Mn=[t]:Mn.push(t)}var Js=Error(a(460)),$d=Error(a(474)),Vc={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mu(){}function Wd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Mu,Mu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Mu,Mu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t}throw Ws=n,Js}}var Ws=null;function tm(){if(Ws===null)throw Error(a(459));var t=Ws;return Ws=null,t}var ka=null,tl=0;function Nu(t){var n=tl;return tl+=1,ka===null&&(ka=[]),Wd(ka,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function em(t){var n=t._init;return n(t._payload)}function nm(t){function n(U,V){if(t){var L=U.deletions;L===null?(U.deletions=[V],U.flags|=16):L.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=or(U,V),U.index=0,U.sibling=null,U}function f(U,V,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<V?(U.flags|=33554434,V):L):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,L,G){return V===null||V.tag!==6?(V=Sh(L,U.mode,G),V.return=U,V):(V=c(V,L),V.return=U,V)}function S(U,V,L,G){var it=L.type;return it===_?H(U,V,L.props.children,G,L.key):V!==null&&(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&em(it)===V.type)?(V=c(V,L.props),el(V,L),V.return=U,V):(V=Ju(L.type,L.key,L.props,null,U.mode,G),el(V,L),V.return=U,V)}function O(U,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=bh(L,U.mode,G),V.return=U,V):(V=c(V,L.children||[]),V.return=U,V)}function H(U,V,L,G,it){return V===null||V.tag!==7?(V=na(L,U.mode,G,it),V.return=U,V):(V=c(V,L),V.return=U,V)}function Y(U,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sh(""+V,U.mode,L),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return L=Ju(V.type,V.key,V.props,null,U.mode,L),el(L,V),L.return=U,L;case p:return V=bh(V,U.mode,L),V.return=U,V;case dt:var G=V._init;return V=G(V._payload),Y(U,V,L)}if(tt(V)||Ut(V))return V=na(V,U.mode,L,null),V.return=U,V;if(typeof V.then=="function")return Y(U,Nu(V),L);if(V.$$typeof===j)return Y(U,Xu(U,V),L);Uu(U,V)}return null}function B(U,V,L,G){var it=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(U,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?S(U,V,L,G):null;case p:return L.key===it?O(U,V,L,G):null;case dt:return it=L._init,L=it(L._payload),B(U,V,L,G)}if(tt(L)||Ut(L))return it!==null?null:H(U,V,L,G,null);if(typeof L.then=="function")return B(U,V,Nu(L),G);if(L.$$typeof===j)return B(U,V,Xu(U,L),G);Uu(U,L)}return null}function k(U,V,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(V,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?L:G.key)||null,S(V,U,G,it);case p:return U=U.get(G.key===null?L:G.key)||null,O(V,U,G,it);case dt:var bt=G._init;return G=bt(G._payload),k(U,V,L,G,it)}if(tt(G)||Ut(G))return U=U.get(L)||null,H(V,U,G,it,null);if(typeof G.then=="function")return k(U,V,L,Nu(G),it);if(G.$$typeof===j)return k(U,V,L,Xu(V,G),it);Uu(V,G)}return null}function at(U,V,L,G){for(var it=null,bt=null,lt=V,ct=V=0,Ie=null;lt!==null&&ct<L.length;ct++){lt.index>ct?(Ie=lt,lt=null):Ie=lt.sibling;var Bt=B(U,lt,L[ct],G);if(Bt===null){lt===null&&(lt=Ie);break}t&&lt&&Bt.alternate===null&&n(U,lt),V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt,lt=Ie}if(ct===L.length)return r(U,lt),Lt&&Qr(U,ct),it;if(lt===null){for(;ct<L.length;ct++)lt=Y(U,L[ct],G),lt!==null&&(V=f(lt,V,ct),bt===null?it=lt:bt.sibling=lt,bt=lt);return Lt&&Qr(U,ct),it}for(lt=l(lt);ct<L.length;ct++)Ie=k(lt,U,ct,L[ct],G),Ie!==null&&(t&&Ie.alternate!==null&&lt.delete(Ie.key===null?ct:Ie.key),V=f(Ie,V,ct),bt===null?it=Ie:bt.sibling=Ie,bt=Ie);return t&&lt.forEach(function(pr){return n(U,pr)}),Lt&&Qr(U,ct),it}function gt(U,V,L,G){if(L==null)throw Error(a(151));for(var it=null,bt=null,lt=V,ct=V=0,Ie=null,Bt=L.next();lt!==null&&!Bt.done;ct++,Bt=L.next()){lt.index>ct?(Ie=lt,lt=null):Ie=lt.sibling;var pr=B(U,lt,Bt.value,G);if(pr===null){lt===null&&(lt=Ie);break}t&&lt&&pr.alternate===null&&n(U,lt),V=f(pr,V,ct),bt===null?it=pr:bt.sibling=pr,bt=pr,lt=Ie}if(Bt.done)return r(U,lt),Lt&&Qr(U,ct),it;if(lt===null){for(;!Bt.done;ct++,Bt=L.next())Bt=Y(U,Bt.value,G),Bt!==null&&(V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return Lt&&Qr(U,ct),it}for(lt=l(lt);!Bt.done;ct++,Bt=L.next())Bt=k(lt,U,ct,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?ct:Bt.key),V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return t&&lt.forEach(function(u0){return n(U,u0)}),Lt&&Qr(U,ct),it}function re(U,V,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;V!==null;){if(V.key===it){if(it=L.type,it===_){if(V.tag===7){r(U,V.sibling),G=c(V,L.props.children),G.return=U,U=G;break t}}else if(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&em(it)===V.type){r(U,V.sibling),G=c(V,L.props),el(G,L),G.return=U,U=G;break t}r(U,V);break}else n(U,V);V=V.sibling}L.type===_?(G=na(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Ju(L.type,L.key,L.props,null,U.mode,G),el(G,L),G.return=U,U=G)}return y(U);case p:t:{for(it=L.key;V!==null;){if(V.key===it)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(U,V.sibling),G=c(V,L.children||[]),G.return=U,U=G;break t}else{r(U,V);break}else n(U,V);V=V.sibling}G=bh(L,U.mode,G),G.return=U,U=G}return y(U);case dt:return it=L._init,L=it(L._payload),re(U,V,L,G)}if(tt(L))return at(U,V,L,G);if(Ut(L)){if(it=Ut(L),typeof it!="function")throw Error(a(150));return L=it.call(L),gt(U,V,L,G)}if(typeof L.then=="function")return re(U,V,Nu(L),G);if(L.$$typeof===j)return re(U,V,Xu(U,L),G);Uu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(U,V.sibling),G=c(V,L),G.return=U,U=G):(r(U,V),G=Sh(L,U.mode,G),G.return=U,U=G),y(U)):r(U,V)}return function(U,V,L,G){try{tl=0;var it=re(U,V,L,G);return ka=null,it}catch(lt){if(lt===Js)throw lt;var bt=Rn(29,lt,null,U.mode);return bt.lanes=G,bt.return=U,bt}finally{}}}var Yr=nm(!0),im=nm(!1),Ha=xt(null),xu=xt(0);function rm(t,n){t=Di,Ht(xu,t),Ht(Ha,n),Di=t|n.baseLanes}function Ic(){Ht(xu,Di),Ht(Ha,Ha.current)}function Oc(){Di=xu.current,te(Ha),te(xu)}var An=xt(null),Xn=null;function Ji(t){var n=t.alternate;Ht(Te,Te.current&1),Ht(An,t),Xn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Xn=t)}function am(t){if(t.tag===22){if(Ht(Te,Te.current),Ht(An,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Wi()}function Wi(){Ht(Te,Te.current),Ht(An,An.current)}function yi(t){te(An),Xn===t&&(Xn=null),te(Te)}var Te=xt(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Zv=s.unstable_scheduleCallback,$v=s.unstable_NormalPriority,Ae={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new Xv,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Zv($v,function(){t.controller.abort()})}var il=null,Nc=0,ja=0,Ga=null;function Jv(t,n){if(il===null){var r=il=[];Nc=0,ja=Ph(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Nc++,n.then(sm,sm),n}function sm(){if(--Nc===0&&il!==null){Ga!==null&&(Ga.status="fulfilled");var t=il;il=null,ja=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Wv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var lm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jv(t,n),lm!==null&&lm(t,n)};var Kr=xt(null);function Uc(){var t=Kr.current;return t!==null?t:Yt.pooledCache}function Lu(t,n){n===null?Ht(Kr,Kr.current):Ht(Kr,n.pool)}function um(){var t=Uc();return t===null?null:{parent:Ae._currentValue,pool:t}}var tr=0,St=null,jt=null,ce=null,Bu=!1,Qa=!1,Xr=!1,Pu=0,rl=0,Fa=null,tE=0;function se(){throw Error(a(321))}function xc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function zc(t,n,r,l,c,f){return tr=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Zr:er,Xr=!1,f=r(l,c),Xr=!1,Qa&&(f=cm(n,r,l,c)),om(t),f}function om(t){A.H=Zn;var n=jt!==null&&jt.next!==null;if(tr=0,ce=jt=St=null,Bu=!1,rl=0,Fa=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&Ku(t)&&(Ce=!0))}function cm(t,n,r,l){St=t;var c=0;do{if(Qa&&(Fa=null),rl=0,Qa=!1,25<=c)throw Error(a(301));if(c+=1,ce=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=$r,f=n(r,l)}while(Qa);return f}function eE(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(St.flags|=1024),n}function Lc(){var t=Pu!==0;return Pu=0,t}function Bc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Pc(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}tr=0,ce=jt=St=null,Qa=!1,rl=Pu=0,Fa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?St.memoizedState=ce=t:ce=ce.next=t,ce}function he(){if(jt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=ce===null?St.memoizedState:ce.next;if(n!==null)ce=n,jt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ce===null?St.memoizedState=ce=t:ce=ce.next=t}return ce}var qu;qu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=rl;return rl+=1,Fa===null&&(Fa=[]),t=Wd(Fa,t,n),n=St,(ce===null?n.memoizedState:ce.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Zr:er),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===j)return qe(t)}throw Error(a(438,String(t)))}function qc(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Qt;return n.index++,r}function _i(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=he();return kc(n,jt,t)}function kc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,S=null,O=n,H=!1;do{var Y=O.lane&-536870913;if(Y!==O.lane?(Ot&Y)===Y:(tr&Y)===Y){var B=O.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Y===ja&&(H=!0);else if((tr&B)===B){O=O.next,B===ja&&(H=!0);continue}else Y={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=Y,y=f):S=S.next=Y,St.lanes|=B,cr|=B;Y=O.action,Xr&&r(f,Y),f=O.hasEagerState?O.eagerState:r(f,Y)}else B={lane:Y,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=B,y=f):S=S.next=B,St.lanes|=Y,cr|=Y;O=O.next}while(O!==null&&O!==n);if(S===null?y=f:S.next=E,!an(f,t.memoizedState)&&(Ce=!0,H&&(r=Ga,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hc(t){var n=he(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function hm(t,n,r){var l=St,c=he(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((jt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ce=!0),c=c.queue,Qc(mm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||ce!==null&&ce.memoizedState.tag&1){if(l.flags|=2048,Ya(9,dm.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));f||tr&60||fm(l,n,r)}return r}function fm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=qu(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dm(t,n,r,l){n.value=r,n.getSnapshot=l,gm(n)&&pm(t)}function mm(t,n,r){return r(function(){gm(n)&&pm(t)})}function gm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function pm(t){var n=$i(t,2);n!==null&&$e(n,t,2)}function jc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Xr){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function ym(t,n,r,l){return t.baseState=r,kc(t,jt,typeof l=="function"?l:_i)}function nE(t,n,r,l,c){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,_m(n,f)):(f.next=r.next,n.pending=r.next=f)}}function _m(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),S=A.S;S!==null&&S(y,E),vm(t,n,E)}catch(O){Gc(t,n,O)}finally{A.T=f}}else try{f=r(c,l),vm(t,n,f)}catch(O){Gc(t,n,O)}}function vm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Em(t,n,l)},function(l){return Gc(t,n,l)}):Em(t,n,r)}function Em(t,n,r){n.status="fulfilled",n.value=r,Tm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_m(t,r)))}function Gc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Tm(n),n=n.next;while(n!==l)}t.action=null}function Tm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Am(t,n){return n}function Sm(t,n){if(Lt){var r=Yt.formState;if(r!==null){t:{var l=St;if(Lt){if(Ne){e:{for(var c=Ne,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ne=Un(c.nextSibling),l=c.data==="F!";break t}}Fr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:n},r.queue=l,r=km.bind(null,St,l),l.dispatch=r,l=jc(!1),f=Zc.bind(null,St,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=nE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function bm(t){var n=he();return Rm(n,jt,t)}function Rm(t,n,r){n=kc(t,n,Am)[0],t=Hu(_i)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=he(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(St.flags|=2048,Ya(9,iE.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function iE(t,n){t.action=n}function wm(t){var n=he(),r=jt;if(r!==null)return Rm(n,r,t);he(),n=n.memoizedState,r=he();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=St.updateQueue,n===null&&(n=qu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Dm(){return he().memoizedState}function ju(t,n,r,l){var c=tn();St.flags|=t,c.memoizedState=Ya(1|n,r,{destroy:void 0},l===void 0?null:l)}function Gu(t,n,r,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&xc(l,jt.memoizedState.deps)?c.memoizedState=Ya(n,r,f,l):(St.flags|=t,c.memoizedState=Ya(1|n,r,f,l))}function Cm(t,n){ju(8390656,8,t,n)}function Qc(t,n){Gu(2048,8,t,n)}function Vm(t,n){return Gu(4,2,t,n)}function Im(t,n){return Gu(4,4,t,n)}function Om(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mm(t,n,r){r=r!=null?r.concat([t]):null,Gu(4,4,Om.bind(null,n,t),r)}function Fc(){}function Nm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&xc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Um(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&xc(n,l[1]))return l[0];if(l=t(),Xr){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function Yc(t,n,r){return r===void 0||tr&1073741824?t.memoizedState=n:(t.memoizedState=r,t=zg(),St.lanes|=t,cr|=t,r)}function xm(t,n,r,l){return an(r,n)?r:Ha.current!==null?(t=Yc(t,r,l),an(t,n)||(Ce=!0),t):tr&42?(t=zg(),St.lanes|=t,cr|=t,n):(Ce=!0,t.memoizedState=r)}function zm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,Zc(t,!1,n,r);try{var S=c(),O=A.S;if(O!==null&&O(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=Wv(S,l);sl(t,n,H,on(t))}else sl(t,n,l,on(t))}catch(Y){sl(t,n,{then:function(){},status:"rejected",reason:Y},on())}finally{et.p=f,A.T=y}}function rE(){}function Kc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Lm(t).queue;zm(t,c,n,At,r===null?rE:function(){return Bm(t),r(l)})}function Lm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bm(t){var n=Lm(t).next.queue;sl(t,n,{},on())}function Xc(){return qe(wl)}function Pm(){return he().memoizedState}function qm(){return he().memoizedState}function aE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=rr(r);var l=ar(n,t,r);l!==null&&($e(l,n,r),ol(l,n,r)),n={cache:Mc()},t.payload=n;return}n=n.return}}function sE(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Hm(n,r):(r=Rc(t,n,r,l),r!==null&&($e(r,t,l),jm(r,n,l)))}function km(t,n,r){var l=on();sl(t,n,r,l)}function sl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Hm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Cu(t,n,c,0),Yt===null&&Du(),!1}catch{}finally{}if(r=Rc(t,n,c,l),r!==null)return $e(r,t,l),jm(r,n,l),!0}return!1}function Zc(t,n,r,l){if(l={lane:2,revertLane:Ph(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=Rc(t,r,l,2),n!==null&&$e(n,t,2)}function Qu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Hm(t,n){Qa=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function jm(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}var Zn={readContext:qe,use:ku,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};Zn.useCacheRefresh=se,Zn.useMemoCache=se,Zn.useHostTransitionStatus=se,Zn.useFormState=se,Zn.useActionState=se,Zn.useOptimistic=se;var Zr={readContext:qe,use:ku,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Cm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ju(4194308,4,Om.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Xr){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(Xr){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=sE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=jc(t);var n=t.queue,r=km.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Fc,useDeferredValue:function(t,n){var r=tn();return Yc(r,t,n)},useTransition:function(){var t=jc(!1);return t=zm.bind(null,St,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=tn();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));Ot&60||fm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Cm(mm.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,dm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(Lt){var r=pi,l=gi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=tE++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=aE.bind(null,St)}};Zr.useMemoCache=qc,Zr.useHostTransitionStatus=Xc,Zr.useFormState=Sm,Zr.useActionState=Sm,Zr.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Zc.bind(null,St,!0,r),r.dispatch=n,[t,n]};var er={readContext:qe,use:ku,useCallback:Nm,useContext:qe,useEffect:Qc,useImperativeHandle:Mm,useInsertionEffect:Vm,useLayoutEffect:Im,useMemo:Um,useReducer:Hu,useRef:Dm,useState:function(){return Hu(_i)},useDebugValue:Fc,useDeferredValue:function(t,n){var r=he();return xm(r,jt.memoizedState,t,n)},useTransition:function(){var t=Hu(_i)[0],n=he().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:hm,useId:Pm};er.useCacheRefresh=qm,er.useMemoCache=qc,er.useHostTransitionStatus=Xc,er.useFormState=bm,er.useActionState=bm,er.useOptimistic=function(t,n){var r=he();return ym(r,jt,t,n)};var $r={readContext:qe,use:ku,useCallback:Nm,useContext:qe,useEffect:Qc,useImperativeHandle:Mm,useInsertionEffect:Vm,useLayoutEffect:Im,useMemo:Um,useReducer:Hc,useRef:Dm,useState:function(){return Hc(_i)},useDebugValue:Fc,useDeferredValue:function(t,n){var r=he();return jt===null?Yc(r,t,n):xm(r,jt.memoizedState,t,n)},useTransition:function(){var t=Hc(_i)[0],n=he().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:hm,useId:Pm};$r.useCacheRefresh=qm,$r.useMemoCache=qc,$r.useHostTransitionStatus=Xc,$r.useFormState=wm,$r.useActionState=wm,$r.useOptimistic=function(t,n){var r=he();return jt!==null?ym(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function $c(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jc={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=rr(l);c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=rr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=rr(r);l.tag=2,n!=null&&(l.callback=n),n=ar(t,l,r),n!==null&&($e(n,t,r),ol(n,t,r))}};function Gm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ys(r,l)||!Ys(c,f):!0}function Qm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Jc.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fm(t){Fu(t)}function Ym(t){console.error(t)}function Km(t){Fu(t)}function Yu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wc(t,n,r){return r=rr(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(t,n)},r}function Zm(t){return t=rr(t),t.tag=3,t}function $m(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Xm(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Xm(n,r,l),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function lE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ul(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Xn===null?Uh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Vc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),zh(t,l,c)),!1;case 22:return r.flags|=65536,l===Vc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),zh(t,l,c)),!1}throw Error(a(435,r.tag))}return zh(t,l,c),Uh(),!1}if(Lt)return n=An.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Cc&&(t=Error(a(422),{cause:l}),$s(vn(t,r)))):(l!==Cc&&(n=Error(a(423),{cause:l}),$s(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Wc(t.stateNode,l,c),mh(t,c),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=vn(f,r),yl===null?yl=[f]:yl.push(f),ie!==4&&(ie=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Wc(r.stateNode,l,t),mh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Zm(c),$m(c,t,r,l),mh(r,c),!1}r=r.return}while(r!==null);return!1}var Jm=Error(a(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?im(n,null,r,l):Yr(n,t.child,r,l)}function Wm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ta(n),l=zc(t,n,r,y,f,c),E=Lc(),t!==null&&!Ce?(Bc(t,n,c),vi(t,n,c)):(Lt&&E&&wc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function tg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,eg(t,n,f,l,c)):(t=Ju(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!uh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(y,l)&&t.ref===n.ref)return vi(t,n,c)}return n.flags|=1,t=or(f,l),t.ref=n.ref,t.return=n,n.child=t}function eg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ys(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,uh(t,c))t.flags&131072&&(Ce=!0);else return n.lanes=t.lanes,vi(t,n,c)}return th(t,n,r,l,c)}function ng(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ll(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ig(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,y!==null?y.cachePool:null),y!==null?rm(n,y):Ic(),am(n);else return n.lanes=n.childLanes=536870912,ig(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Lu(n,y.cachePool),rm(n,y),Wi(),n.memoizedState=null):(t!==null&&Lu(n,null),Ic(),Wi());return Ue(t,n,c,r),n.child}function ig(t,n,r,l){var c=Uc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Lu(n,null),Ic(),am(n),t!==null&&ul(t,n,l,!0),null}function ll(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function th(t,n,r,l,c){return ta(n),r=zc(t,n,r,l,void 0,c),l=Lc(),t!==null&&!Ce?(Bc(t,n,c),vi(t,n,c)):(Lt&&l&&wc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function rg(t,n,r,l,c,f){return ta(n),n.updateQueue=null,r=cm(n,l,r,c),om(t),l=Lc(),t!==null&&!Ce?(Bc(t,n,f),vi(t,n,f)):(Lt&&l&&wc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function ag(t,n,r,l,c){if(ta(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},fh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&($c(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Jc.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=Jr(r,E);f.props=S;var O=f.context,H=r.contextType;y=Ba,typeof H=="object"&&H!==null&&(y=qe(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==y)&&Qm(n,f,l,y),ir=!1;var B=n.memoizedState;f.state=B,hl(n,l,f,c),cl(),O=n.memoizedState,E||B!==O||ir?(typeof Y=="function"&&($c(n,r,Y,l),O=n.memoizedState),(S=ir||Gm(n,r,S,l,B,O,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,dh(t,n),y=n.memoizedProps,H=Jr(r,y),f.props=H,Y=n.pendingProps,B=f.context,O=r.contextType,S=Ba,typeof O=="object"&&O!==null&&(S=qe(O)),E=r.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==S)&&Qm(n,f,l,S),ir=!1,B=n.memoizedState,f.state=B,hl(n,l,f,c),cl();var k=n.memoizedState;y!==Y||B!==k||ir||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&($c(n,r,E,l),k=n.memoizedState),(H=ir||Gm(n,r,H,l,B,k,S)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=S,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ll(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,c),n.child=Yr(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=vi(t,n,c),t}function sg(t,n,r,l){return Zs(),n.flags|=256,Ue(t,n,r,l),n.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function nh(t){return{baseLanes:t,cachePool:um()}}function ih(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function lg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?Ji(n):Wi(),Lt){var E=Ne,S;if(S=E){t:{for(S=E,E=Kn;S.nodeType!==8;){if(!E){E=null;break t}if(S=Un(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Gr!==null?{id:gi,overflow:pi}:null,retryLane:536870912},S=Rn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Ze=n,Ne=null,S=!0):S=!1}S||Fr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;yi(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=ah({mode:"hidden",children:E},c),l=na(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=nh(r),c.childLanes=ih(t,y,r),n.memoizedState=eh,l):(Ji(n),rh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=sh(t,n,r)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=ah({mode:"visible",children:l.children},E),c=na(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Yr(n,t.child,null,r),l=n.child,l.memoizedState=nh(r),l.childLanes=ih(t,y,r),n.memoizedState=eh,n=c);else if(Ji(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var O=y.dgst;y=O,l=Error(a(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),n=sh(t,n,r)}else if(Ce||ul(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=Yt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,$i(t,l),$e(y,t,l),Jm}E.data==="$?"||Uh(),n=sh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=AE.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Ne=Un(E.nextSibling),Ze=n,Lt=!0,Mn=null,Kn=!1,t!==null&&(En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=Gr,gi=t.id,pi=t.overflow,Gr=n),n=rh(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,S=t.child,O=S.sibling,l=or(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,O!==null?c=or(O,c):(c=na(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=nh(r):(S=E.cachePool,S!==null?(O=Ae._currentValue,S=S.parent!==O?{parent:O,pool:O}:S):S=um(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=ih(t,y,r),n.memoizedState=eh,l):(Ji(n),r=t.child,t=r.sibling,r=or(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function rh(t,n){return n=ah({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ah(t,n){return Ng(t,n,0,null)}function sh(t,n,r){return Yr(n,t.child,null,r),t=rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,r)}function lh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function og(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Te.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,r,n);else if(t.tag===19)ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),lh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}lh(n,!0,r,null,f);break;case"together":lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,!(r&n.childLanes))if(t!==null){if(ul(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=or(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=or(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function uh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function uE(t,n,r){switch(n.tag){case 3:xi(n,n.stateNode.containerInfo),nr(n,Ae,t.memoizedState.cache),Zs();break;case 27:case 5:ws(n);break;case 4:xi(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):r&n.child.childLanes?lg(t,n,r):(Ji(n),t=vi(t,n,r),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ul(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return og(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,ng(t,n,r);case 24:nr(n,Ae,t.memoizedState.cache)}return vi(t,n,r)}function cg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!uh(t,r)&&!(n.flags&128))return Ce=!1,uE(t,n,r);Ce=!!(t.flags&131072)}else Ce=!1,Lt&&n.flags&1048576&&Kd(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ah(l)?(t=Jr(l,t),n.tag=1,n=ag(null,n,l,t,r)):(n.tag=0,n=th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=Wm(null,n,l,t,r);break t}else if(c===yt){n.tag=14,n=tg(null,n,l,t,r);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Jr(l,n.pendingProps),ag(t,n,l,c,r);case 3:t:{if(xi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,dh(t,n),hl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,nr(n,Ae,f),f!==c.cache&&hh(n,[Ae],r,!0),cl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=sg(t,n,f,r);break t}else if(f!==l){l=vn(Error(a(424)),n),$s(l),n=sg(t,n,f,r);break t}else for(Ne=Un(n.stateNode.containerInfo.firstChild),Ze=n,Lt=!0,Mn=null,Kn=!0,r=im(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zs(),f===l){n=vi(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return ll(t,n),t===null?(r=dp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=co(hn.current).createElement(r),l[Re]=n,l[_e]=t,xe(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=dp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ws(n),t===null&&Lt&&(l=n.stateNode=cp(n.type,n.pendingProps,hn.current),Ze=n,Kn=!0,Ne=Un(l.firstChild)),l=n.pendingProps.children,t!==null||Lt?Ue(t,n,l,r):n.child=Yr(n,null,l,r),ll(t,n),n.child;case 5:return t===null&&Lt&&((c=l=Ne)&&(l=BE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,Ne=Un(l.firstChild),Kn=!1,c=!0):c=!1),c||Fr(n)),ws(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Kh(c,f)?l=null:y!==null&&Kh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=zc(t,n,eE,null,null,r),wl._currentValue=c),ll(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=Ne)&&(r=PE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,Ne=null,t=!0):t=!1),t||Fr(n)),null;case 13:return lg(t,n,r);case 4:return xi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return Wm(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return tg(t,n,n.type,n.pendingProps,r);case 15:return eg(t,n,n.type,n.pendingProps,r);case 19:return og(t,n,r);case 22:return ng(t,n,r);case 24:return ta(n),l=qe(Ae),t===null?(c=Uc(),c===null&&(c=Yt,f=Mc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},fh(n),nr(n,Ae,c)):(t.lanes&r&&(dh(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),nr(n,Ae,l)):(l=f.cache,nr(n,Ae,l),l!==c.cache&&hh(n,[Ae],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var oh=xt(null),Wr=null,Ei=null;function nr(t,n,r){Ht(oh,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=oh.current,te(oh)}function ch(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ch(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ch(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ul(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}c=c.return}t!==null&&hh(n,t,r,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return hg(Wr,t)}function Xu(t,n){return Wr===null&&ta(t),hg(t,n)}function hg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var ir=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Jt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Vu(t),Fd(t,null,r),n}return Cu(t,l,n,r),Vu(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}function mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function cl(){if(gh){var t=Ga;if(t!==null)throw t}}function hl(t,n,r,l){gh=!1;var c=t.updateQueue;ir=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,O=S.next;S.next=null,y===null?f=O:y.next=O,y=S;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=S))}if(f!==null){var Y=c.baseState;y=0,H=O=S=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===ja&&(gh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;B=n;var re=r;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Y=at.call(re,Y,B);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,B=typeof at=="function"?at.call(re,Y,B):at,B==null)break t;Y=D({},Y,B);break t;case 2:ir=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=k,S=Y):H=H.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(S=Y),c.baseState=S,c.firstBaseUpdate=O,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),cr|=y,t.lanes=y,t.memoizedState=Y}}function fg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fg(r[t],n)}function fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function sr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=r;try{E()}catch(O){Ft(c,S,O)}}}l=l.next}while(l!==f)}}catch(O){Ft(n,n.return,O)}}function mg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dg(n,r)}catch(l){Ft(t,t.return,l)}}}function gg(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function ea(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Ft(t,n,f)}}function sn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function pg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function yg(t,n,r){try{var l=t.stateNode;NE(l,t.type,r,n),l[_e]=n}catch(c){Ft(t,t.return,c)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(yh(t,n,r),t=t.sibling;t!==null;)yh(t,n,r),t=t.sibling}function Zu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Zu(t,n,r),t=t.sibling;t!==null;)Zu(t,n,r),t=t.sibling}var Ai=!1,ne=!1,_h=!1,vg=typeof WeakSet=="function"?WeakSet:Set,Ve=null,Eg=!1;function oE(t,n){if(t=t.containerInfo,Fh=yo,t=Ld(t),Ec(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,S=-1,O=0,H=0,Y=t,B=null;e:for(;;){for(var k;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(S=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===r&&++O===c&&(E=y),B===f&&++H===l&&(S=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yh={focusedElem:t,selectionRange:r},yo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var at=Jr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(r,r.return,gt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)$h(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$h(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return at=Eg,Eg=!1,at}function Tg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:bi(t,r),l&4&&fl(5,r);break;case 1:if(bi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&mg(r),l&512&&ea(r,r.return);break;case 3:if(bi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{dg(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:bi(t,r),l&512&&ea(r,r.return);break;case 27:case 5:bi(t,r),n===null&&l&4&&pg(r),l&512&&ea(r,r.return);break;case 12:bi(t,r);break;case 13:bi(t,r),l&4&&bg(t,r);break;case 22:if(c=r.memoizedState!==null||Ai,!c){n=n!==null&&n.memoizedState!==null||ne;var f=Ai,y=ne;Ai=c,(ne=n)&&!y?lr(t,r,(r.subtreeFlags&8772)!==0):bi(t,r),Ai=f,ne=y}l&512&&(r.memoizedProps.mode==="manual"?ea(r,r.return):sn(r,r.return));break;default:bi(t,r)}}function Ag(t){var n=t.alternate;n!==null&&(t.alternate=null,Ag(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Or(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,ln=!1;function Si(t,n,r){for(r=r.child;r!==null;)Sg(t,n,r),r=r.sibling}function Sg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ne||sn(r,n),Si(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||sn(r,n);var l=fe,c=ln;for(fe=r.stateNode,Si(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Or(r),fe=l,ln=c;break;case 5:ne||sn(r,n);case 6:c=fe;var f=ln;if(fe=null,Si(t,n,r),fe=c,ln=f,fe!==null)if(ln)try{t=fe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Ft(r,n,y)}else try{fe.removeChild(r.stateNode)}catch(y){Ft(r,n,y)}break;case 18:fe!==null&&(ln?(n=fe,r=r.stateNode,n.nodeType===8?Zh(n.parentNode,r):n.nodeType===1&&Zh(n,r),Il(n)):Zh(fe,r.stateNode));break;case 4:l=fe,c=ln,fe=r.stateNode.containerInfo,ln=!0,Si(t,n,r),fe=l,ln=c;break;case 0:case 11:case 14:case 15:ne||sr(2,r,n),ne||sr(4,r,n),Si(t,n,r);break;case 1:ne||(sn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gg(r,n,l)),Si(t,n,r);break;case 21:Si(t,n,r);break;case 22:ne||sn(r,n),ne=(l=ne)||r.memoizedState!==null,Si(t,n,r),ne=l;break;default:Si(t,n,r)}}function bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(r){Ft(n,n.return,r)}}function cE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vg),n;default:throw Error(a(435,t.tag))}}function vh(t,n){var r=cE(t);n.forEach(function(l){var c=SE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:fe=E.stateNode,ln=!1;break t;case 3:fe=E.stateNode.containerInfo,ln=!0;break t;case 4:fe=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(fe===null)throw Error(a(160));Sg(f,y,c),fe=null,ln=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,t),n=n.sibling}var Nn=null;function Rg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),bn(t),l&4&&(sr(3,t,t.return),fl(3,t),sr(5,t,t.return));break;case 1:Sn(n,t),bn(t),l&512&&(ne||r===null||sn(r,r.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(Sn(n,t),bn(t),l&512&&(ne||r===null||sn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ji]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),xe(f,l,r),f[Re]=t,Zt(f),l=f;break t;case"link":var y=pp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=pp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Re]=t,Zt(f),l=f}t.stateNode=l}else yp(c,t.type,t.stateNode);else t.stateNode=gp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?yp(c,t.type,t.stateNode):gp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var O=S.nextSibling,H=S.nodeName;S[ji]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}for(var Y=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);xe(c,Y,f),c[Re]=t,c[_e]=f}catch(at){Ft(t,t.return,at)}}case 5:if(Sn(n,t),bn(t),l&512&&(ne||r===null||sn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(at){Ft(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,yg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(_h=!0);break;case 6:if(Sn(n,t),bn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(at){Ft(t,t.return,at)}}break;case 3:if(mo=null,c=Nn,Nn=ho(n.containerInfo),Sn(n,t),Nn=c,bn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(at){Ft(t,t.return,at)}_h&&(_h=!1,wg(t));break;case 4:l=Nn,Nn=ho(t.stateNode.containerInfo),Sn(n,t),bn(t),Nn=l;break;case 12:Sn(n,t),bn(t);break;case 13:Sn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ch=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 22:if(l&512&&(ne||r===null||sn(r,r.return)),S=t.memoizedState!==null,O=r!==null&&r.memoizedState!==null,H=Ai,Y=ne,Ai=H||S,ne=Y||O,Sn(n,t),ne=Y,Ai=H,bn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Ai||ne,r===null||O||n||Ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){O=r=n;try{if(c=O.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=O.stateNode,E=O.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(at){Ft(O,O.return,at)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=S?"":O.memoizedProps}catch(at){Ft(O,O.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vh(t,r))));break;case 19:Sn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 21:break;default:Sn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(_g(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=ph(t);Zu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(mn(y,""),l.flags&=-33);var E=ph(t);Zu(t,E,y);break;case 3:case 4:var S=l.stateNode.containerInfo,O=ph(t);yh(t,O,S);break;default:throw Error(a(161))}}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tg(t,n.alternate,n),n=n.sibling}function Ka(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),Ka(n);break;case 1:sn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gg(n,n.return,r),Ka(n);break;case 26:case 27:case 5:sn(n,n.return),Ka(n);break;case 22:sn(n,n.return),n.memoizedState===null&&Ka(n);break;default:Ka(n)}t=t.sibling}}function lr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:lr(c,f,r),fl(4,f);break;case 1:if(lr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ft(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)fg(S[c],E)}catch(O){Ft(l,l.return,O)}}r&&y&64&&mg(f),ea(f,f.return);break;case 26:case 27:case 5:lr(c,f,r),r&&l===null&&y&4&&pg(f),ea(f,f.return);break;case 12:lr(c,f,r);break;case 13:lr(c,f,r),r&&y&4&&bg(c,f);break;case 22:f.memoizedState===null&&lr(c,f,r),ea(f,f.return);break;default:lr(c,f,r)}n=n.sibling}}function Eh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function Th(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function ur(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dg(t,n,r,l),n=n.sibling}function Dg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ur(t,n,r,l),c&2048&&fl(9,n);break;case 3:ur(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){ur(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ft(n,n.return,S)}}else ur(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?ur(t,n,r,l):dl(t,n):f._visibility&4?ur(t,n,r,l):(f._visibility|=4,Xa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Eh(n.alternate,n);break;case 24:ur(t,n,r,l),c&2048&&Th(n.alternate,n);break;default:ur(t,n,r,l)}}function Xa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,S=l,O=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(f,y,E,S,c),fl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Xa(f,y,E,S,c):dl(f,y):(H._visibility|=4,Xa(f,y,E,S,c)),c&&O&2048&&Eh(y.alternate,y);break;case 24:Xa(f,y,E,S,c),c&&O&2048&&Th(y.alternate,y);break;default:Xa(f,y,E,S,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Eh(l.alternate,l);break;case 24:dl(r,l),c&2048&&Th(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Za(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 26:Za(t),t.flags&ml&&t.memoizedState!==null&&JE(Nn,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=Nn;Nn=ho(t.stateNode.containerInfo),Za(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Za(t),ml=n):Za(t));break;default:Za(t)}}function Vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Og(l,t)}Vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ig(t),t=t.sibling}function Ig(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,$u(t)):gl(t);break;default:gl(t)}}function $u(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Og(l,t)}Vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),$u(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,$u(n));break;default:$u(n)}t=t.sibling}}function Og(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Ag(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}function hE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,l){return new hE(t,n,r,l)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Mg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ju(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Ah(t)&&(y=1);else if(typeof t=="string")y=ZE(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return na(r.children,c,f,n);case v:y=8,c|=24;break;case b:return t=Rn(12,r,n,c|2),t.elementType=b,t.lanes=f,t;case W:return t=Rn(13,r,n,c),t.elementType=W,t.lanes=f,t;case Z:return t=Rn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case Tt:return Ng(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:case j:y=10;break t;case P:y=9;break t;case $:y=11;break t;case yt:y=14;break t;case dt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function na(t,n,r,l){return t=Rn(7,t,l,n),t.lanes=r,t}function Ng(t,n,r,l){t=Rn(22,t,l,n),t.elementType=Tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var y=$i(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if(c._pendingVisibility&2){var y=$i(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Sh(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function bh(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ri(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!_p(n)){if(n=An.current,n!==null&&((Ot&4194176)===Ot?Xn!==null:(Ot&62914560)!==Ot&&!(Ot&536870912)||n!==Xn))throw Ws=Vc,$d;t.flags|=8192}}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,Ja|=n)}function pl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function fE(t,n,r){var l=n.pendingProps;switch(Dc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Ae),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Mh(Mn),Mn=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?($t(n),Ug(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),$t(n),Ug(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),$t(n),n.flags&=-16777217),null;case 27:ya(n),r=hn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Fe.current,Xs(n)?Xd(n):(t=cp(c,l,r),n.stateNode=t,Ri(n))}return $t(n),null;case 5:if(ya(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Fe.current,Xs(n))Xd(n);else{switch(c=co(hn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Re]=n,t[_e]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=hn.current,Xs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||rp(t.nodeValue,r)),t||Fr(n)}else t=co(t).createTextNode(l),t[Re]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Re]=n}else Zs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$t(n),c=!1}else Mn!==null&&(Mh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(yi(n),n):(yi(n),null)}if(yi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),$t(n),null;case 4:return ri(),t===null&&jh(n.stateNode.containerInfo),$t(n),null;case 10:return Ti(n.type),$t(n),null;case 19:if(te(Te),c=n.memoizedState,c===null)return $t(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Mg(r,t),r=r.sibling;return Ht(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>to&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=zu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return $t(n),null}else 2*Je()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Te.current,Ht(Te,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return yi(n),Oc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Ae),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function dE(t,n){switch(Dc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Ae),ri(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ya(n),null;case 13:if(yi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(Te),null;case 4:return ri(),null;case 10:return Ti(n.type),null;case 22:case 23:return yi(n),Oc(),t!==null&&te(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Ae),null;case 25:return null;default:return null}}function xg(t,n){switch(Dc(n),n.tag){case 3:Ti(Ae),ri();break;case 26:case 27:case 5:ya(n);break;case 4:ri();break;case 13:yi(n);break;case 19:te(Te);break;case 10:Ti(n.type);break;case 22:case 23:yi(n),Oc(),t!==null&&te(Kr);break;case 24:Ti(Ae)}}var mE={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},gE=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Yt=null,Rt=null,Ot=0,Kt=0,un=null,wi=!1,$a=!1,Rh=!1,Di=0,ie=0,cr=0,ia=0,wh=0,wn=0,Ja=0,yl=null,$n=null,Dh=!1,Ch=0,to=1/0,eo=null,hr=null,no=!1,ra=null,_l=0,Vh=0,Ih=null,vl=0,Oh=null;function on(){if(Jt&2&&Ot!==0)return Ot&-Ot;if(A.T!==null){var t=ja;return t!==0?t:Ph()}return uu()}function zg(){wn===0&&(wn=!(Ot&536870912)||Lt?Os():536870912);var t=An.current;return t!==null&&(t.flags|=32),wn}function $e(t,n,r){(t===Yt&&Kt===2||t.cancelPendingCommit!==null)&&(Wa(t,0),Ci(t,Ot,wn,!1)),ae(t,r),(!(Jt&2)||t!==Yt)&&(t===Yt&&(!(Jt&2)&&(ia|=r),ie===4&&Ci(t,Ot,wn,!1)),Jn(t))}function Lg(t,n,r){if(Jt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?_E(t,n):xh(t,n,!0),f=l;do{if(c===0){$a&&!l&&Ci(t,n,0,!1);break}else if(c===6)Ci(t,n,0,!wi);else{if(r=t.current.alternate,f&&!pE(r)){c=xh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=yl;var S=E.current.memoizedState.isDehydrated;if(S&&(Wa(E,y).flags|=256),y=xh(E,y,!1),y!==2){if(Rh&&!S){E.errorRecoveryDisabledLanes|=f,ia|=f,c=4;break t}f=$n,$n=c,f!==null&&Mh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){Wa(t,0),Ci(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ci(l,n,wn,!wi);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Ch+300-Je(),10<f)){if(Ci(l,n,wn,!wi),fn(l,0)!==0)break t;l.timeoutHandle=lp(Bg.bind(null,l,r,$n,eo,Dh,n,wn,ia,Ja,wi,2,-0,0),f);break t}Bg(l,r,$n,eo,Dh,n,wn,ia,Ja,wi,0,-0,0)}}break}while(!0);Jn(t)}function Mh(t){$n===null?$n=t:$n.push.apply($n,t)}function Bg(t,n,r,l,c,f,y,E,S,O,H,Y,B){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:$E},Cg(n),n=WE(),n!==null)){t.cancelPendingCommit=n(Qg.bind(null,t,r,l,c,y,E,S,1,Y,B)),Ci(t,f,y,!O);return}Qg(t,r,l,c,y,E,S,H,Y,B)}function pE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ci(t,n,r,l){n&=~wh,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&qi(t,r,n)}function io(){return Jt&6?!0:(El(0),!1)}function Nh(){if(Rt!==null){if(Kt===0)var t=Rt.return;else t=Rt,Ei=Wr=null,Pc(t),ka=null,tl=0,t=Rt;for(;t!==null;)xg(t.alternate,t),t=t.return;Rt=null}}function Wa(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,xE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Nh(),Yt=t,Rt=r=or(t.current,null),Ot=n,Kt=0,un=null,wi=!1,$a=Bi(t,n),Rh=!1,Ja=wn=wh=ia=cr=ie=0,$n=yl=null,Dh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Di=n,Du(),r}function Pg(t,n){St=null,A.H=Zn,n===Js?(n=tm(),Kt=3):n===$d?(n=tm(),Kt=4):Kt=n===Jm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Rt===null&&(ie=1,Yu(t,vn(n,t.current)))}function qg(){var t=A.H;return A.H=Zn,t===null?Zn:t}function kg(){var t=A.A;return A.A=mE,t}function Uh(){ie=4,wi||(Ot&4194176)!==Ot&&An.current!==null||($a=!0),!(cr&134217727)&&!(ia&134217727)||Yt===null||Ci(Yt,Ot,wn,!1)}function xh(t,n,r){var l=Jt;Jt|=2;var c=qg(),f=kg();(Yt!==t||Ot!==n)&&(eo=null,Wa(t,n)),n=!1;var y=ie;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,S=un;switch(Kt){case 8:Nh(),y=6;break t;case 3:case 2:case 6:An.current===null&&(n=!0);var O=Kt;if(Kt=0,un=null,ts(t,E,S,O),r&&$a){y=0;break t}break;default:O=Kt,Kt=0,un=null,ts(t,E,S,O)}}yE(),y=ie;break}catch(H){Pg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ei=Wr=null,Jt=l,A.H=c,A.A=f,Rt===null&&(Yt=null,Ot=0,Du()),y}function yE(){for(;Rt!==null;)Hg(Rt)}function _E(t,n){var r=Jt;Jt|=2;var l=qg(),c=kg();Yt!==t||Ot!==n?(eo=null,to=Je()+500,Wa(t,n)):$a=Bi(t,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=un;e:switch(Kt){case 1:Kt=0,un=null,ts(t,n,f,1);break;case 2:if(Jd(f)){Kt=0,un=null,jg(n);break}n=function(){Kt===2&&Yt===t&&(Kt=7),Jn(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Jd(f)?(Kt=0,un=null,jg(n)):(Kt=0,un=null,ts(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||_p(y)){Kt=0,un=null;var S=E.sibling;if(S!==null)Rt=S;else{var O=E.return;O!==null?(Rt=O,ro(O)):Rt=null}break e}}Kt=0,un=null,ts(t,n,f,5);break;case 6:Kt=0,un=null,ts(t,n,f,6);break;case 8:Nh(),ie=6;break t;default:throw Error(a(462))}}vE();break}catch(H){Pg(t,H)}while(!0);return Ei=Wr=null,A.H=l,A.A=c,Jt=r,Rt!==null?0:(Yt=null,Ot=0,Du(),ie)}function vE(){for(;Rt!==null&&!oc();)Hg(Rt)}function Hg(t){var n=cg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?ro(t):Rt=n}function jg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=rg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=rg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Pc(n);default:xg(r,n),n=Rt=Mg(n,Di),n=cg(r,n,Di)}t.memoizedProps=t.pendingProps,n===null?ro(t):Rt=n}function ts(t,n,r,l){Ei=Wr=null,Pc(n),ka=null,tl=0;var c=n.return;try{if(lE(t,c,n,r,Ot)){ie=1,Yu(t,vn(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ie=1,Yu(t,vn(r,t.current)),Rt=null;return}n.flags&32768?(Lt||l===1?t=!0:$a||Ot&536870912?t=!1:(wi=t=!0,(l===2||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gg(n,t)):ro(n)}function ro(t){var n=t;do{if(n.flags&32768){Gg(n,wi);return}t=n.return;var r=fE(n.alternate,n,Di);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ie===0&&(ie=5)}function Gg(t,n){do{var r=dE(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ie=6,Rt=null}function Qg(t,n,r,l,c,f,y,E,S,O){var H=A.T,Y=et.p;try{et.p=2,A.T=null,EE(t,n,r,l,Y,c,f,y,E,S,O)}finally{A.T=H,et.p=Y}}function EE(t,n,r,l,c,f,y,E){do es();while(ra!==null);if(Jt&6)throw Error(a(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=S.lanes|S.childLanes;if(O|=bc,su(t,l,O,f,y,E),t===Yt&&(Rt=Yt=null,Ot=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||no||(no=!0,Vh=O,Ih=r,bE(ai,function(){return es(),null})),r=(S.flags&15990)!==0,S.subtreeFlags&15990||r?(r=A.T,A.T=null,f=et.p,et.p=2,y=Jt,Jt|=4,oE(t,S),Rg(S,t),Gv(Yh,t.containerInfo),yo=!!Fh,Yh=Fh=null,t.current=S,Tg(t,S.alternate,S),Ds(),Jt=y,et.p=f,A.T=r):t.current=S,no?(no=!1,ra=t,_l=l):Fg(t,O),O=t.pendingLanes,O===0&&(hr=null),Vs(S.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)O=n[S],c(O.value,{componentStack:O.stack});return _l&3&&es(),O=t.pendingLanes,l&4194218&&O&42?t===Oh?vl++:(vl=0,Oh=t):vl=0,El(0),null}function Fg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function es(){if(ra!==null){var t=ra,n=Vh;Vh=0;var r=lu(_l),l=A.T,c=et.p;try{if(et.p=32>r?32:r,A.T=null,ra===null)var f=!1;else{r=Ih,Ih=null;var y=ra,E=_l;if(ra=null,_l=0,Jt&6)throw Error(a(331));var S=Jt;if(Jt|=4,Ig(y.current),Dg(y,y.current,E,r),Jt=S,El(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zi,y)}catch{}f=!0}return f}finally{et.p=c,A.T=l,Fg(t,n)}}return!1}function Yg(t,n,r){n=vn(r,n),n=Wc(t.stateNode,n,2),t=ar(t,n,2),t!==null&&(ae(t,2),Jn(t))}function Ft(t,n,r){if(t.tag===3)Yg(t,t,r);else for(;n!==null;){if(n.tag===3){Yg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=vn(r,t),r=Zm(2),l=ar(n,r,2),l!==null&&($m(r,l,n,t),ae(l,2),Jn(l));break}}n=n.return}}function zh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new gE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Rh=!0,c.add(r),t=TE.bind(null,t,n,r),n.then(t,t))}function TE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(Ot&r)===r&&(ie===4||ie===3&&(Ot&62914560)===Ot&&300>Je()-Ch?!(Jt&2)&&Wa(t,0):wh|=r,Ja===Ot&&(Ja=0)),Jn(t)}function Kg(t,n){n===0&&(n=Pi()),t=$i(t,n),t!==null&&(ae(t,n),Jn(t))}function AE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Kg(t,r)}function SE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Kg(t,r)}function bE(t,n){return Cr(t,n)}var ao=null,ns=null,Lh=!1,so=!1,Bh=!1,aa=0;function Jn(t){t!==ns&&t.next===null&&(ns===null?ao=ns=t:ns=ns.next=t),so=!0,Lh||(Lh=!0,wE(RE))}function El(t,n){if(!Bh&&so){Bh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,$g(l,f))}else f=Ot,f=fn(l,l===Yt?f:0),!(f&3)||Bi(l,f)||(r=!0,$g(l,f));l=l.next}while(r);Bh=!1}}function RE(){so=Lh=!1;var t=0;aa!==0&&(UE()&&(t=aa),aa=0);for(var n=Je(),r=null,l=ao;l!==null;){var c=l.next,f=Xg(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||f&3)&&(so=!0)),l=c}El(t)}function Xg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,S=c[y];S===-1?(!(E&r)||E&l)&&(c[y]=Ea(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Yt,r=Ot,r=fn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Kt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&va(l),lu(r)){case 2:case 8:r=be;break;case 32:r=ai;break;case 268435456:r=Cs;break;default:r=ai}return l=Zg.bind(null,t),r=Cr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,n){var r=t.callbackNode;if(es()&&t.callbackNode!==r)return null;var l=Ot;return l=fn(t,t===Yt?l:0),l===0?null:(Lg(t,l,n),Xg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Zg.bind(null,t):null)}function $g(t,n){if(es())return null;Lg(t,n,!0)}function wE(t){zE(function(){Jt&6?Cr(ye,t):t()})}function Ph(){return aa===0&&(aa=Os()),aa}function Jg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kn(""+t)}function Wg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function DE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Jg((c[_e]||null).action),y=l.submitter;y&&(n=(n=y[_e]||null)?Jg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var S=y?Wg(c,y):new FormData(c);Kc(r,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=y?Wg(c,y):new FormData(c),Kc(r,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var qh=0;qh<Qd.length;qh++){var kh=Qd[qh],CE=kh.toLowerCase(),VE=kh[0].toUpperCase()+kh.slice(1);On(CE,"on"+VE)}On(qd,"onAnimationEnd"),On(kd,"onAnimationIteration"),On(Hd,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Fv,"onTransitionRun"),On(Yv,"onTransitionStart"),On(Kv,"onTransitionCancel"),On(jd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function tp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,O=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=S}}}}function Ct(t,n){var r=n[Ir];r===void 0&&(r=n[Ir]=new Set);var l=t+"__bubble";r.has(l)||(ep(n,t,2,!1),r.add(l))}function Hh(t,n,r){var l=0;n&&(l|=4),ep(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function jh(t){if(!t[lo]){t[lo]=!0,Ns.forEach(function(r){r!=="selectionchange"&&(IE.has(r)||Hh(r,!1,t),Hh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Hh("selectionchange",!1,n))}}function ep(t,n,r,l){switch(bp(n)){case 2:var c=n0;break;case 8:c=i0;break;default:c=nf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Gh(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;y=y.return}for(;E!==null;){if(y=In(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue t}E=E.parentNode}}l=l.return}fu(function(){var O=f,H=wa(r),Y=[];t:{var B=Gd.get(t);if(B!==void 0){var k=Da,at=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":k=Na;break;case"focusin":at="focus",k=Ia;break;case"focusout":at="blur",k=Ia;break;case"beforeblur":case"afterblur":k=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Eu;break;case qd:case kd:case Hd:k=Oa;break;case jd:k=Au;break;case"scroll":case"scrollend":k=du;break;case"wheel":k=Ua;break;case"copy":case"cut":case"paste":k=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Qs;break;case"toggle":case"beforetoggle":k=bu}var gt=(n&4)!==0,re=!gt&&(t==="scroll"||t==="scrollend"),U=gt?B!==null?B+"Capture":null:B;gt=[];for(var V=O,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=xr(V,U),G!=null&&gt.push(Al(V,G,L))),re)break;V=V.return}0<gt.length&&(B=new k(B,at,null,r,H),Y.push({event:B,listeners:gt}))}}if(!(n&7)){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==gn&&(at=r.relatedTarget||r.fromElement)&&(In(at)||at[si]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(at=r.relatedTarget||r.toElement,k=O,at=at?In(at):null,at!==null&&(re=ut(at),gt=at.tag,at!==re||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(k=null,at=O),k!==at)){if(gt=yn,G="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Qs,G="onPointerLeave",U="onPointerEnter",V="pointer"),re=k==null?B:Gi(k),L=at==null?B:Gi(at),B=new gt(G,V+"leave",k,r,H),B.target=re,B.relatedTarget=L,G=null,In(H)===O&&(gt=new gt(U,V+"enter",at,r,H),gt.target=L,gt.relatedTarget=re,G=gt),re=G,k&&at)e:{for(gt=k,U=at,V=0,L=gt;L;L=is(L))V++;for(L=0,G=U;G;G=is(G))L++;for(;0<V-L;)gt=is(gt),V--;for(;0<L-V;)U=is(U),L--;for(;V--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=is(gt),U=is(U)}gt=null}else gt=null;k!==null&&np(Y,B,k,gt,!1),at!==null&&re!==null&&np(Y,re,at,gt,!0)}}t:{if(B=O?Gi(O):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var it=Vd;else if(Ee(B))if(Id)it=Hv;else{it=qv;var bt=Pv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?O&&Bs(O.elementType)&&(it=Vd):it=kv;if(it&&(it=it(t,O))){mi(Y,it,r,H);break t}bt&&bt(t,B,O),t==="focusout"&&O&&B.type==="number"&&O.memoizedProps.value!=null&&Ra(B,"number",B.value)}switch(bt=O?Gi(O):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(xa=bt,Tc=O,Ks=null);break;case"focusout":Ks=Tc=xa=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Bd(Y,r,H);break;case"selectionchange":if(Qv)break;case"keydown":case"keyup":Bd(Y,r,H)}var lt;if(Fn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Vt?q(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(g&&r.locale!=="ko"&&(Vt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vt&&(lt=qs()):(Hn=H,Zi="value"in Hn?Hn.value:Hn.textContent,Vt=!0)),bt=uo(O,ct),0<bt.length&&(ct=new js(ct,t,null,r,H),Y.push({event:ct,listeners:bt}),lt?ct.data=lt:(lt=X(r),lt!==null&&(ct.data=lt)))),(lt=m?ve(t,r):It(t,r))&&(ct=uo(O,"onBeforeInput"),0<ct.length&&(bt=new js("onBeforeInput","beforeinput",null,r,H),Y.push({event:bt,listeners:ct}),bt.data=lt)),DE(Y,t,O,r,H)}tp(Y,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=xr(t,r),c!=null&&l.unshift(Al(t,c,f)),c=xr(t,n),c!=null&&l.push(Al(t,c,f))),t=t.return}return l}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function np(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,S=E.alternate,O=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||O===null||(S=O,c?(O=xr(r,f),O!=null&&y.unshift(Al(r,O,S))):c||(O=xr(r,f),O!=null&&y.push(Al(r,O,S)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var OE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function ip(t){return(typeof t=="string"?t:""+t).replace(OE,`
`).replace(ME,"")}function rp(t,n){return n=ip(n),ip(t)===n}function oo(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":hu(t,l,f);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mc.get(r)||r,Fi(t,r,l))}}function Qh(t,n,r,l,c,f){switch(r){case"style":hu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[_e]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Fi(t,r,l)}}}function xe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,y,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,S=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":S=H;break;case"defaultChecked":O=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Gt(t,n,l,H,r,null)}}Nr(t,f,E,S,O,y,c,!1),Mr(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,y,E,r,null)}Xi(t,l,c,f),Mr(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,S,l,r,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ct(Tl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,O,l,r,null)}return;default:if(Bs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Qh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function NE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,S=null,O=null,H=null;for(k in r){var Y=r[k];if(r.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=Y;default:l.hasOwnProperty(k)||Gt(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":O=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Y&&Gt(t,n,B,k,l,Y)}}Ki(t,y,E,S,O,H,f,c);return;case"select":k=y=E=B=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":k=S;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=r[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==S&&Gt(t,n,c,f,l,S)}n=E,r=y,l=k,B!=null?zt(t,!!r,B,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,y,c,l,f)}Ur(t,B,k);return;case"option":for(var at in r)if(B=r[at],r.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Gt(t,n,at,null,l,B)}for(S in l)if(B=l[S],k=r[S],l.hasOwnProperty(S)&&B!==k&&(B!=null||k!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gt(t,n,S,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,B);for(O in l)if(B=l[O],k=r[O],l.hasOwnProperty(O)&&B!==k&&(B!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Gt(t,n,O,B,l,k)}return;default:if(Bs(n)){for(var re in r)B=r[re],r.hasOwnProperty(re)&&B!==void 0&&!l.hasOwnProperty(re)&&Qh(t,n,re,void 0,l,B);for(H in l)B=l[H],k=r[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||Qh(t,n,H,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Gt(t,n,U,null,l,B);for(Y in l)B=l[Y],k=r[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Gt(t,n,Y,B,l,k)}var Fh=null,Yh=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function ap(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xh=null;function UE(){var t=window.event;return t&&t.type==="popstate"?t===Xh?!1:(Xh=t,!0):(Xh=null,!1)}var lp=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(t){return up.resolve(null).then(t).catch(LE)}:lp;function LE(t){setTimeout(function(){throw t})}function Zh(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Il(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Il(n)}function $h(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$h(r),Or(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function BE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function PE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function op(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function cp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Dn=new Map,hp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vi=et.d;et.d={f:qE,r:kE,D:HE,C:jE,L:GE,m:QE,X:YE,S:FE,M:KE};function qE(){var t=Vi.f(),n=io();return t||n}function kE(t){var n=li(t);n!==null&&n.tag===5&&n.type==="form"?Bm(n):Vi.r(t)}var rs=typeof document>"u"?null:document;function fp(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),hp.has(c)||(hp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function HE(t){Vi.D(t),fp("dns-prefetch",t,null)}function jE(t,n){Vi.C(t,n),fp("preconnect",t,n)}function GE(t,n,r){Vi.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var f=c;switch(n){case"style":f=as(t);break;case"script":f=ss(t)}Dn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sl(f))||n==="script"&&l.querySelector(bl(f))||(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function QE(t,n){Vi.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!Dn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}l=r.createElement("link"),xe(l,"link",t),Zt(l),r.head.appendChild(l)}}}function FE(t,n,r){Vi.S(t,n,r);var l=rs;if(l&&t){var c=Qi(l).hoistableStyles,f=as(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Sl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&Jh(t,r);var S=y=l.createElement("link");Zt(S),xe(S,"link",t),S._p=new Promise(function(O,H){S.onload=O,S.onerror=H}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function YE(t,n){Vi.X(t,n);var r=rs;if(r&&t){var l=Qi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=D({src:t,async:!0},n),(n=Dn.get(c))&&Wh(t,n),f=r.createElement("script"),Zt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function KE(t,n){Vi.M(t,n);var r=rs;if(r&&t){var l=Qi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Wh(t,n),f=r.createElement("script"),Zt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function dp(t,n,r,l){var c=(c=hn.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var f=Qi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Sl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||XE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+ee(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function mp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function XE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xe(n,"link",r),Zt(n),t.head.appendChild(n))}function ss(t){return'[src="'+ee(t)+'"]'}function bl(t){return"script[async]"+t}function gp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),xe(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var f=t.querySelector(Sl(c));if(f)return n.state.loading|=4,n.instance=f,Zt(f),f;l=mp(r),(c=Dn.get(c))&&Jh(l,c),f=(t.ownerDocument||t).createElement("link"),Zt(f);var y=f;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),xe(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=ss(r.src),(c=t.querySelector(bl(f)))?(n.instance=c,Zt(c),c):(l=r,(c=Dn.get(f))&&(l=D({},r),Wh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Jh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function pp(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[ji]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function yp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function ZE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _p(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Rl=null;function $E(){}function JE(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=as(r.href),f=t.querySelector(Sl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Zt(f);return}f=t.ownerDocument||t,r=mp(r),(c=Dn.get(c))&&Jh(r,c),f=f.createElement("link"),Zt(f);var y=f;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),xe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function WE(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&tf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(t0,t),po=null,go.call(t))}function t0(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:j,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function e0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function vp(t,n,r,l,c,f,y,E,S,O,H,Y){return t=new e0(t,n,r,y,E,S,O,Y),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=Mc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},fh(f),t}function Ep(t){return t?(t=Ba,t):Ba}function Tp(t,n,r,l,c,f){c=Ep(c),l.context===null?l.context=c:l.pendingContext=c,l=rr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ar(t,l,n),r!==null&&($e(r,t,n),ol(r,t,n))}function Ap(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ef(t,n){Ap(t,n),(t=t.alternate)&&Ap(t,n)}function Sp(t){if(t.tag===13){var n=$i(t,67108864);n!==null&&$e(n,t,67108864),ef(t,67108864)}}var yo=!0;function n0(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=2,nf(t,n,r,l)}finally{et.p=f,A.T=c}}function i0(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=8,nf(t,n,r,l)}finally{et.p=f,A.T=c}}function nf(t,n,r,l){if(yo){var c=rf(l);if(c===null)Gh(t,n,l,_o,r),Rp(t,l);else if(a0(c,t,n,r,l))l.stopPropagation();else if(Rp(t,l),n&4&&-1<r0.indexOf(t)){for(;c!==null;){var f=li(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-Ye(y);E.entanglements[1]|=S,y&=~S}Jn(f),!(Jt&6)&&(to=Je()+500,El(0))}}break;case 13:E=$i(f,2),E!==null&&$e(E,f,2),io(),ef(f,2)}if(f=rf(l),f===null&&Gh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Gh(t,n,l,null,r)}}function rf(t){return t=wa(t),af(t)}var _o=null;function af(t){if(_o=null,t=In(t),t!==null){var n=ut(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function bp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case ye:return 2;case be:return 8;case ai:case iu:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var sf=!1,fr=null,dr=null,mr=null,Dl=new Map,Cl=new Map,gr=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rp(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Vl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=li(n),n!==null&&Sp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function a0(t,n,r,l,c){switch(n){case"focusin":return fr=Vl(fr,t,n,r,l,c),!0;case"dragenter":return dr=Vl(dr,t,n,r,l,c),!0;case"mouseover":return mr=Vl(mr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Vl(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Vl(Cl.get(f)||null,t,n,r,l,c)),!0}return!1}function wp(t){var n=In(t.target);if(n!==null){var r=ut(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=on(),c=$i(r,l);c!==null&&$e(c,r,l),ef(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gn=l,r.target.dispatchEvent(l),gn=null}else return n=li(r),n!==null&&Sp(n),t.blockedOn=r,!1;n.shift()}return!0}function Dp(t,n,r){vo(t)&&r.delete(n)}function s0(){sf=!1,fr!==null&&vo(fr)&&(fr=null),dr!==null&&vo(dr)&&(dr=null),mr!==null&&vo(mr)&&(mr=null),Dl.forEach(Dp),Cl.forEach(Dp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,sf||(sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,s0)))}var To=null;function Cp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(af(l||r)===null)continue;break}var f=li(r);f!==null&&(t.splice(n,3),n-=3,Kc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Il(t){function n(S){return Eo(S,t)}fr!==null&&Eo(fr,t),dr!==null&&Eo(dr,t),mr!==null&&Eo(mr,t),Dl.forEach(n),Cl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)wp(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[_e]||null;if(typeof f=="function")y||Cp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[_e]||null)E=y.formAction;else if(af(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Cp(r)}}}function lf(t){this._internalRoot=t}Ao.prototype.render=lf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();Tp(r,l,t,n,null,null)},Ao.prototype.unmount=lf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&es(),Tp(t.current,2,null,t,null,null),io(),n[si]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&wp(t)}};var Vp=e.version;if(Vp!=="19.0.0")throw Error(a(527,Vp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var l0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:In,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{zi=So.inject(l0),Pe=So}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Fm,f=Ym,y=Km,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=vp(t,1,!1,null,null,r,l,c,f,y,E,null),t[si]=n.current,jh(t.nodeType===8?t.parentNode:t),new lf(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Fm,y=Ym,E=Km,S=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=vp(t,1,!0,n,r??null,l,c,f,y,E,S,O),n.context=Ep(null),r=n.current,l=on(),c=rr(l),c.callback=null,ar(r,c,l),n.current.lanes=l,ae(n,l),Jn(n),t[si]=n.current,jh(t),new Ao(n)},Ml.version="19.0.0",Ml}var Pp;function y0(){if(Pp)return cf.exports;Pp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cf.exports=p0(),cf.exports}var _0=y0(),qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},v0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,b=h>>2,I=(h&3)<<4|p>>4;let P=(p&15)<<2|v>>6,j=v&63;_||(j=64,d||(P=64)),a.push(i[b],i[I],i[P],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Zy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):v0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const I=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||I==null)throw new E0;const P=h<<2|p>>4;if(a.push(P),v!==64){const j=p<<4&240|v>>2;if(a.push(j),I!==64){const $=v<<6&192|I;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class E0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T0=function(s){const e=Zy(s);return $y.encodeByteArray(e,!0)},xo=function(s){return T0(s).replace(/\./g,"")},A0=function(s){try{return $y.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=()=>S0().__FIREBASE_DEFAULTS__,R0=()=>{if(typeof process>"u"||typeof qp>"u")return;const s=qp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},w0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&A0(s[1]);return e&&JSON.parse(e)},Yf=()=>{try{return b0()||R0()||w0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},D0=s=>{var e,i;return(i=(e=Yf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},C0=s=>{const e=D0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Jy=()=>{var s;return(s=Yf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xo(JSON.stringify(i)),xo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M0(){var s;const e=(s=Yf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N0(){return!M0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U0(){try{return typeof indexedDB=="object"}catch{return!1}}function x0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=z0,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wy.prototype.create)}}class Wy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?L0(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Es(u,p,a)}}function L0(s,e){return s.replace(B0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const B0=/\{\$([^}]+)}/g;function Af(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(kp(h)&&kp(d)){if(!Af(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function kp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(s){return s&&s._delegate?s._delegate:s}class jl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new V0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k0(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:q0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q0(s){return s===sa?void 0:s}function k0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new P0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const j0={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},G0=Nt.INFO,Q0={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},F0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=Q0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=G0,this._logHandler=F0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const Y0=(s,e)=>e.some(i=>s instanceof i);let Hp,jp;function K0(){return Hp||(Hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X0(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,Sf=new WeakMap,n_=new WeakMap,mf=new WeakMap,Kf=new WeakMap;function Z0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&e_.set(i,s)}).catch(()=>{}),Kf.set(e,s),e}function $0(s){if(Sf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Sf.set(s,e)}let bf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Sf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||n_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function J0(s){bf=s(bf)}function W0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(gf(this),e,...i);return n_.set(a,e.sort?e.sort():[e]),_r(a)}:X0().includes(s)?function(...e){return s.apply(gf(this),e),_r(e_.get(this))}:function(...e){return _r(s.apply(gf(this),e))}}function tT(s){return typeof s=="function"?W0(s):(s instanceof IDBTransaction&&$0(s),Y0(s,K0())?new Proxy(s,bf):s)}function _r(s){if(s instanceof IDBRequest)return Z0(s);if(mf.has(s))return mf.get(s);const e=tT(s);return e!==s&&(mf.set(s,e),Kf.set(e,s)),e}const gf=s=>Kf.get(s);function eT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const nT=["get","getKey","getAll","getAllKeys","count"],iT=["put","add","delete","clear"],pf=new Map;function Gp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=iT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||nT.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return pf.set(e,h),h}J0(s=>({...s,get:(e,i,a)=>Gp(e,i)||s.get(e,i,a),has:(e,i)=>!!Gp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function aT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",Qp="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new t_("@firebase/app"),sT="@firebase/app-compat",lT="@firebase/analytics-compat",uT="@firebase/analytics",oT="@firebase/app-check-compat",cT="@firebase/app-check",hT="@firebase/auth",fT="@firebase/auth-compat",dT="@firebase/database",mT="@firebase/data-connect",gT="@firebase/database-compat",pT="@firebase/functions",yT="@firebase/functions-compat",_T="@firebase/installations",vT="@firebase/installations-compat",ET="@firebase/messaging",TT="@firebase/messaging-compat",AT="@firebase/performance",ST="@firebase/performance-compat",bT="@firebase/remote-config",RT="@firebase/remote-config-compat",wT="@firebase/storage",DT="@firebase/storage-compat",CT="@firebase/firestore",VT="@firebase/vertexai",IT="@firebase/firestore-compat",OT="firebase",MT="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",NT={[Rf]:"fire-core",[sT]:"fire-core-compat",[uT]:"fire-analytics",[lT]:"fire-analytics-compat",[cT]:"fire-app-check",[oT]:"fire-app-check-compat",[hT]:"fire-auth",[fT]:"fire-auth-compat",[dT]:"fire-rtdb",[mT]:"fire-data-connect",[gT]:"fire-rtdb-compat",[pT]:"fire-fn",[yT]:"fire-fn-compat",[_T]:"fire-iid",[vT]:"fire-iid-compat",[ET]:"fire-fcm",[TT]:"fire-fcm-compat",[AT]:"fire-perf",[ST]:"fire-perf-compat",[bT]:"fire-rc",[RT]:"fire-rc-compat",[wT]:"fire-gcs",[DT]:"fire-gcs-compat",[CT]:"fire-fst",[IT]:"fire-fst-compat",[VT]:"fire-vertex","fire-js":"fire-js",[OT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,UT=new Map,Df=new Map;function Fp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Lo(s){const e=s.name;if(Df.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,s);for(const i of zo.values())Fp(i,s);for(const i of UT.values())Fp(i,s);return!0}function xT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function zT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Wy("app","Firebase",LT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=MT;function i_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw vr.create("bad-app-name",{appName:String(u)});if(i||(i=Jy()),!i)throw vr.create("no-options");const h=zo.get(u);if(h){if(Af(i,h.options)&&Af(a,h.config))return h;throw vr.create("duplicate-app",{appName:u})}const d=new H0(u);for(const _ of Df.values())d.addComponent(_);const p=new BT(i,a,d);return zo.set(u,p),p}function qT(s=wf){const e=zo.get(s);if(!e&&s===wf&&Jy())return i_();if(!e)throw vr.create("no-app",{appName:s});return e}function hs(s,e,i){var a;let u=(a=NT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(p.join(" "));return}Lo(new jl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebase-heartbeat-database",HT=1,Gl="firebase-heartbeat-store";let yf=null;function r_(){return yf||(yf=eT(kT,HT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),yf}async function jT(s){try{const i=(await r_()).transaction(Gl),a=await i.objectStore(Gl).get(a_(s));return await i.done,a}catch(e){if(e instanceof Es)Oi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Yp(s,e){try{const a=(await r_()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,a_(s)),await a.done}catch(i){if(i instanceof Es)Oi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function a_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1024,QT=30;class FT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new KT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Kp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>QT){const d=XT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Kp(),{heartbeatsToSend:a,unsentEntries:u}=YT(this._heartbeatsCache.heartbeats),h=xo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function Kp(){return new Date().toISOString().substring(0,10)}function YT(s,e=GT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Xp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Xp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class KT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U0()?x0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Yp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Yp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Xp(s){return xo(JSON.stringify({version:2,heartbeats:s})).length}function XT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(s){Lo(new jl("platform-logger",e=>new rT(e),"PRIVATE")),Lo(new jl("heartbeat",e=>new FT(e),"PRIVATE")),hs(Rf,Qp,s),hs(Rf,Qp,"esm2017"),hs("fire-js","")}ZT("");var $T="firebase",JT="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs($T,JT,"app");var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,s_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function A(){}A.prototype=R.prototype,N.D=R.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,M,z){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return R.prototype[M].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)D[M]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=N.g[0],A=N.g[1],M=N.g[2];var z=N.g[3],w=R+(z^A&(M^z))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=z+(M^R&(A^M))+D[1]+3905402710&4294967295,z=R+(w<<12&4294967295|w>>>20),w=M+(A^z&(R^A))+D[2]+606105819&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(R^M&(z^R))+D[3]+3250441966&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(z^A&(M^z))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(M^R&(A^M))+D[5]+1200080426&4294967295,z=R+(w<<12&4294967295|w>>>20),w=M+(A^z&(R^A))+D[6]+2821735955&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(R^M&(z^R))+D[7]+4249261313&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(z^A&(M^z))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(M^R&(A^M))+D[9]+2336552879&4294967295,z=R+(w<<12&4294967295|w>>>20),w=M+(A^z&(R^A))+D[10]+4294925233&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(R^M&(z^R))+D[11]+2304563134&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(z^A&(M^z))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(M^R&(A^M))+D[13]+4254626195&4294967295,z=R+(w<<12&4294967295|w>>>20),w=M+(A^z&(R^A))+D[14]+2792965006&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(R^M&(z^R))+D[15]+1236535329&4294967295,A=M+(w<<22&4294967295|w>>>10),w=R+(M^z&(A^M))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(R^A))+D[6]+3225465664&4294967295,z=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(z^R))+D[11]+643717713&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(M^z))+D[0]+3921069994&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(M^z&(A^M))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(R^A))+D[10]+38016083&4294967295,z=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(z^R))+D[15]+3634488961&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(M^z))+D[4]+3889429448&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(M^z&(A^M))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(R^A))+D[14]+3275163606&4294967295,z=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(z^R))+D[3]+4107603335&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(M^z))+D[8]+1163531501&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(M^z&(A^M))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(R^A))+D[2]+4243563512&4294967295,z=R+(w<<9&4294967295|w>>>23),w=M+(R^A&(z^R))+D[7]+1735328473&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(M^z))+D[12]+2368359562&4294967295,A=M+(w<<20&4294967295|w>>>12),w=R+(A^M^z)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^M)+D[8]+2272392833&4294967295,z=R+(w<<11&4294967295|w>>>21),w=M+(z^R^A)+D[11]+1839030562&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^R)+D[14]+4259657740&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(A^M^z)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^M)+D[4]+1272893353&4294967295,z=R+(w<<11&4294967295|w>>>21),w=M+(z^R^A)+D[7]+4139469664&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^R)+D[10]+3200236656&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(A^M^z)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^M)+D[0]+3936430074&4294967295,z=R+(w<<11&4294967295|w>>>21),w=M+(z^R^A)+D[3]+3572445317&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^R)+D[6]+76029189&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(A^M^z)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^M)+D[12]+3873151461&4294967295,z=R+(w<<11&4294967295|w>>>21),w=M+(z^R^A)+D[15]+530742520&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^R)+D[2]+3299628645&4294967295,A=M+(w<<23&4294967295|w>>>9),w=R+(M^(A|~z))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~M))+D[7]+1126891415&4294967295,z=R+(w<<10&4294967295|w>>>22),w=M+(R^(z|~A))+D[14]+2878612391&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~R))+D[5]+4237533241&4294967295,A=M+(w<<21&4294967295|w>>>11),w=R+(M^(A|~z))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~M))+D[3]+2399980690&4294967295,z=R+(w<<10&4294967295|w>>>22),w=M+(R^(z|~A))+D[10]+4293915773&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~R))+D[1]+2240044497&4294967295,A=M+(w<<21&4294967295|w>>>11),w=R+(M^(A|~z))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~M))+D[15]+4264355552&4294967295,z=R+(w<<10&4294967295|w>>>22),w=M+(R^(z|~A))+D[6]+2734768916&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~R))+D[13]+1309151649&4294967295,A=M+(w<<21&4294967295|w>>>11),w=R+(M^(A|~z))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~M))+D[11]+3174756917&4294967295,z=R+(w<<10&4294967295|w>>>22),w=M+(R^(z|~A))+D[2]+718787259&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~R))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+z&4294967295}a.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var A=R-this.blockSize,D=this.B,M=this.h,z=0;z<R;){if(M==0)for(;z<=A;)u(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<R;)if(D[M++]=N.charCodeAt(z++),M==this.blockSize){u(this,D),M=0;break}}else for(;z<R;)if(D[M++]=N[z++],M==this.blockSize){u(this,D),M=0;break}}this.h=M,this.o+=R},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var A=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.u(N),N=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)N[A++]=this.g[R]>>>D&255;return N};function h(N,R){var A=p;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=R(N)}function d(N,R){this.h=R;for(var A=[],D=!0,M=N.length-1;0<=M;M--){var z=N[M]|0;D&&z==R||(A[M]=z,D=!1)}this.g=A}var p={};function _(N){return-128<=N&&128>N?h(N,function(R){return new d([R|0],0>R?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return Z(v(-N));for(var R=[],A=1,D=0;N>=A;D++)R[D]=N/A|0,A*=4294967296;return new d(R,0)}function b(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return Z(b(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=I,M=0;M<N.length;M+=8){var z=Math.min(8,N.length-M),w=parseInt(N.substring(M,M+z),R);8>z?(z=v(Math.pow(R,z)),D=D.j(z).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var I=_(0),P=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-Z(this).m();for(var N=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(W(this))return"-"+Z(this).toString(N);for(var R=v(Math.pow(N,6)),A=this,D="";;){var M=Qt(A,R).g;A=yt(A,M.j(R));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=M,$(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=yt(this,N),W(N)?-1:$(N)?0:1};function Z(N){for(var R=N.g.length,A=[],D=0;D<R;D++)A[D]=~N.g[D];return new d(A,~N.h).add(P)}s.abs=function(){return W(this)?Z(this):this},s.add=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0,M=0;M<=R;M++){var z=D+(this.i(M)&65535)+(N.i(M)&65535),w=(z>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);D=w>>>16,z&=65535,w&=65535,A[M]=w<<16|z}return new d(A,A[A.length-1]&-2147483648?-1:0)};function yt(N,R){return N.add(Z(R))}s.j=function(N){if($(this)||$(N))return I;if(W(this))return W(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(W(N))return Z(this.j(Z(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var R=this.g.length+N.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<N.g.length;M++){var z=this.i(D)>>>16,w=this.i(D)&65535,pe=N.i(M)>>>16,ue=N.i(M)&65535;A[2*D+2*M]+=w*ue,dt(A,2*D+2*M),A[2*D+2*M+1]+=z*ue,dt(A,2*D+2*M+1),A[2*D+2*M+1]+=w*pe,dt(A,2*D+2*M+1),A[2*D+2*M+2]+=z*pe,dt(A,2*D+2*M+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function dt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Tt(N,R){this.g=N,this.h=R}function Qt(N,R){if($(R))throw Error("division by zero");if($(N))return new Tt(I,I);if(W(N))return R=Qt(Z(N),R),new Tt(Z(R.g),Z(R.h));if(W(R))return R=Qt(N,Z(R)),new Tt(Z(R.g),R.h);if(30<N.g.length){if(W(N)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var A=P,D=R;0>=D.l(N);)A=_t(A),D=_t(D);var M=Ut(A,1),z=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!$(D);){var w=z.add(D);0>=w.l(N)&&(M=M.add(A),z=w),D=Ut(D,1),A=Ut(A,1)}return R=yt(N,M.j(R)),new Tt(M,R)}for(M=I;0<=N.l(R);){for(A=Math.max(1,Math.floor(N.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=v(A),w=z.j(R);W(w)||0<w.l(N);)A-=D,z=v(A),w=z.j(R);$(z)&&(z=P),M=M.add(z),N=yt(N,w)}return new Tt(M,N)}s.A=function(N){return Qt(this,N).h},s.and=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&N.i(D);return new d(A,this.h&N.h)},s.or=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|N.i(D);return new d(A,this.h|N.h)},s.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^N.i(D);return new d(A,this.h^N.h)};function _t(N){for(var R=N.g.length+1,A=[],D=0;D<R;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(A,N.h)}function Ut(N,R){var A=R>>5;R%=32;for(var D=N.g.length-A,M=[],z=0;z<D;z++)M[z]=0<R?N.i(z+A)>>>R|N.i(z+A+1)<<32-R:N.i(z+A);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,s_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Er=d}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l_,Nl,u_,Vo,Cf,o_,c_,h_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in g))break t;g=g[x]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,x={next:function(){if(!T&&g<o.length){var q=g++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function b(o,m,g){return o.call.apply(o.bind,arguments)}function I(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function P(o,m,g){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:I,P.apply(null,arguments)}function j(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,x,q){for(var X=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)X[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,X)}}function W(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function Z(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const x=o.length||0,q=T.length||0;o.length=x+q;for(let X=0;X<q;X++)o[x+X]=T[X]}else o.push(T)}}class yt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function Tt(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var _t=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function Ut(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function N(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function R(o){const m={};for(const g in o)m[g]=o[g];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)o[g]=T[g];for(let q=0;q<A.length;q++)g=A[q],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function M(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function z(o){p.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,g){const T=ue.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new yt(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ut=!1,Pt=new pe,C=()=>{const o=p.Promise.resolve(void 0);ht=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){z(g)}var m=ue;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function At(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Qt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}$(At,tt);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),xt=0;function te(o,m,g,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function Ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,g,T,x){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var X=hn(o,m,T,x);return-1<X?(m=o[X],g||(m.fa=!1)):(m=new te(m,this.src,q,!!T,x),m.fa=g,o.push(m)),m};function ii(o,m){var g=m.type;if(g in o.g){var T=o.g[g],x=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=x)&&Array.prototype.splice.call(T,x,1),q&&(Ht(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function hn(o,m,g,T){for(var x=0;x<o.length;++x){var q=o[x];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==T)return x}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),xi={};function ri(o,m,g,T,x){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ri(o,m[q],g,T,x);return null}return g=nu(g),o&&o[oe]?o.K(m,g,v(T)?!!T.capture:!1,x):ws(o,m,g,!1,T,x)}function ws(o,m,g,T,x,q){if(!m)throw Error("Invalid event type");var X=v(x)?!!x.capture:!!x,Vt=Ds(o);if(Vt||(o[Ui]=Vt=new Fe(o)),g=Vt.add(m,g,T,X,q),g.proxy)return g;if(T=ya(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)et||(x=X),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(va(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ya(){function o(g){return m.call(o.src,o.listener,g)}const m=oc;return o}function _a(o,m,g,T,x){if(Array.isArray(m))for(var q=0;q<m.length;q++)_a(o,m[q],g,T,x);else T=v(T)?!!T.capture:!!T,g=nu(g),o&&o[oe]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],g=hn(q,g,T,x),-1<g&&(Ht(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ds(o))&&(m=o.g[m.toString()],o=-1,m&&(o=hn(m,g,T,x)),(g=-1<o?m[o]:null)&&Cr(g))}function Cr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[oe])ii(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(va(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Ds(m))?(ii(g,o),g.h==0&&(g.src=null,m[Ui]=null)):Ht(o)}}}function va(o){return o in xi?xi[o]:xi[o]="on"+o}function oc(o,m){if(o.da)o=!0;else{m=new At(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&Cr(o),o=g.call(T,m)}return o}function Ds(o){return o=o[Ui],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function ye(){st.call(this),this.i=new Fe(this),this.M=this,this.F=null}$(ye,st),ye.prototype[oe]=!0,ye.prototype.removeEventListener=function(o,m,g,T){_a(this,o,m,g,T)};function be(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var x=m;m=new tt(T,o),D(m,x)}if(x=!0,g)for(var q=g.length-1;0<=q;q--){var X=m.g=g[q];x=ai(X,T,!0,m)&&x}if(X=m.g=o,x=ai(X,T,!0,m)&&x,x=ai(X,T,!1,m)&&x,g)for(q=0;q<g.length;q++)X=m.g=g[q],x=ai(X,T,!1,m)&&x}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ht(g[T]);delete o.g[m],o.h--}}this.F=null},ye.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ye.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function ai(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,q=0;q<m.length;++q){var X=m[q];if(X&&!X.da&&X.capture==g){var Vt=X.listener,ve=X.ha||X.src;X.fa&&ii(o.i,X),x=Vt.call(ve,T)!==!1&&x}}return x&&!T.defaultPrevented}function iu(o,m,g){if(typeof o=="function")g&&(o=P(o,g));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function Cs(o){o.g=iu(()=>{o.g=null,o.i&&(o.i=!1,Cs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class cc extends st{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(o){st.call(this),this.h=o,this.g={}}$(Vr,st);var zi=[];function Pe(o){Ut(o.g,function(m,g){this.g.hasOwnProperty(g)&&Cr(m)},o),o.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Pe(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=p.JSON.stringify,Ln=p.JSON.parse,Ye=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Is(){}Is.prototype.h=null;function ru(o){return o.h||(o.h=o.i())}function au(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){tt.call(this,"d")}$(Li,tt);function Vn(){tt.call(this,"c")}$(Vn,tt);var fn={},Bi=null;function Ea(){return Bi=Bi||new ye}fn.La="serverreachability";function Os(o){tt.call(this,fn.La,o)}$(Os,tt);function Pi(o){const m=Ea();be(m,new Os(m))}fn.STAT_EVENT="statevent";function Ta(o,m){tt.call(this,fn.STAT_EVENT,o),this.stat=m}$(Ta,tt);function ae(o){const m=Ea();be(m,new Ta(m,o))}fn.Ma="timingevent";function su(o,m){tt.call(this,fn.Ma,o),this.size=m}$(su,tt);function qi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function lu(o,m,g,T,x,q){o.info(function(){if(o.g)if(q)for(var X="",Vt=q.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var De=It[0];It=It[1];var Ee=De.split("_");X=2<=Ee.length&&Ee[1]=="type"?X+(De+"="+It+"&"):X+(De+"=redacted&")}}else X=null;else X=q;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+g+`
`+X})}function uu(o,m,g,T,x,q,X){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+g+`
`+q+" "+X})}function Hi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Re(o,g)+(T?" "+T:"")})}function Pn(o,m){o.info(function(){return"TIMEOUT: "+m})}ki.prototype.info=function(){};function Re(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(var X=1;X<x.length;X++)x[X]=""}}}}return Vs(g)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function Aa(){}$(Aa,Is),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Ir=new Aa;function qn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}var ji={},Or={};function In(o,m,g){o.L=1,o.v=Ur(ee(m)),o.m=g,o.P=!0,li(o,null)}function li(o,m){o.F=Date.now(),Zt(o),o.A=ee(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),ci(g.i,"t",T),o.C=0,g=o.j.J,o.h=new Ms,o.g=Au(o.j,g?m:null,!o.m),0<o.O&&(o.M=new cc(P(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(zi[0]=x.toString()),x=zi);for(var q=0;q<x.length;q++){var X=ri(g,x[q],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Pi(),lu(o.i,o.u,o.A,o.l,o.R,o.m)}qn.prototype.ca=function(o){o=o.target;const m=this.M;m&&yn(o)==3?m.j():this.Y(o)},qn.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=yn(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=mi?Pi(3):Pi(2)),Sa(this);var g=this.g.Z();this.X=g;e:if(Gi(this)){var T=mu(this.g);o="";var x=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),nn(this);var X="";break e}this.h.i=new p.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,uu(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Vt)){var It=Vt;break e}}It=null}if(g=It)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,g);else{this.o=!1,this.s=3,ae(12),We(this),nn(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<X.length;)if(Me=Qi(this,X),Me==Or){Ee==4&&(this.s=4,ae(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==ji){this.s=4,ae(15),Hi(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,Me,null),rn(this,Me);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||X.length!=0||this.h.h||(this.s=1,ae(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,X,"[Invalid Chunked Response]"),We(this),nn(this);else if(0<X.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),kr(De),De.M=!0,ae(11))}}else Hi(this.i,this.l,X,null),rn(this,X);Ee==4&&We(this),this.o&&!this.J&&(Ee==4?vu(this.j,this):(this.o=!1,Zt(this)))}else pc(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),We(this),nn(this)}}}catch{}finally{}};function Gi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Qi(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Or:(g=Number(m.substring(g,T)),isNaN(g)?ji:(T+=1,T+g>m.length?Or:(m=m.slice(T,T+g),o.C=T+g,m)))}qn.prototype.cancel=function(){this.J=!0,We(this)};function Zt(o){o.S=Date.now()+o.I,Ns(o,o.I)}function Ns(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=qi(P(o.ba,o),m)}function Sa(o){o.B&&(p.clearTimeout(o.B),o.B=null)}qn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pn(this.i,this.A),this.L!=2&&(Pi(),ae(17)),We(this),this.s=2,nn(this)):Ns(this,this.S-o)};function nn(o){o.j.G==0||o.J||vu(o.j,o)}function We(o){Sa(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Pe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function rn(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Fi(g.h,o))){if(!o.K&&Fi(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Na(g),Oa(g);else break t;Gs(g),ae(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=qi(P(g.Za,g),6e3));if(1>=ou(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else di(g,11)}else if((o.K||g.g==o)&&Na(g),!dt(m))for(x=g.Da.g.parse(m),m=0;m<x.length;m++){let It=x[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const De=It[3];De!=null&&(g.la=De,g.j.info("VER="+g.la));const Ee=It[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const mi=It[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var q=T.h;q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Yi(q,q.h),q.h=null))}if(T.D){const Fs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(T.ya=Fs,zt(T.I,T.D,Fs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var X=o;if(T.qa=Tu(T,T.J?T.ia:null,T.W),X.K){dn(T.h,X);var Vt=X,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Sa(Vt),Zt(Vt)),T.g=X}else yu(T);0<g.i.length&&Ma(g)}else It[0]!="stop"&&It[0]!="close"||di(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?di(g,7):Hs(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Pi(4)}catch{}}var hc=class{constructor(o,m){this.g=o,this.map=m}};function Us(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ou(o){return o.h?1:o.g?o.g.size:0}function Fi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function dn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Us.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return W(o.i)}function cu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function fc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Mr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=fc(o),T=cu(o),x=T.length,q=0;q<x;q++)m.call(void 0,T[q],g&&g[q],o)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),x=null;if(0<=T){var q=o[g].substring(0,T);x=o[g].substring(T+1)}else q=o[g];m(q,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ui(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ui){this.h=o.h,Ki(this,o.j),this.o=o.o,this.g=o.g,Nr(this,o.s),this.l=o.l;var m=o.i,g=new kn;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Ra(this,g),this.m=o.m}else o&&(m=String(o).match(zs))?(this.h=!1,Ki(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),Nr(this,m[4]),this.l=Xi(m[5]||"",!0),Ra(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}ui.prototype.toString=function(){var o=[],m=this.j;m&&o.push(mn(m,Ls,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(mn(m,Ls,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(mn(g,g.charAt(0)=="/"?Bs:hu,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",mn(g,gc)),o.join("")};function ee(o){return new ui(o)}function Ki(o,m,g){o.j=g?Xi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Nr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ra(o,m,g){m instanceof kn?(o.i=m,Ps(o.i,o.h)):(g||(m=mn(m,mc)),o.i=new kn(m,o.h))}function zt(o,m,g){o.i.set(m,g)}function Ur(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function mn(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,dc),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function dc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ls=/[#\/\?@]/g,hu=/[#\?:]/g,Bs=/[#\?]/g,mc=/[#\?@]/g,gc=/#/g;function kn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&ba(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=kn.prototype,s.add=function(o,m){gn(this),this.i=null,o=hi(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function wa(o,m){gn(o),m=hi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function oi(o,m){return gn(o),m=hi(o,m),o.g.has(m)}s.forEach=function(o,m){gn(this),this.g.forEach(function(g,T){g.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){gn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const x=o[T];for(let q=0;q<x.length;q++)g.push(m[T])}return g},s.V=function(o){gn(this);let m=[];if(typeof o=="string")oi(this,o)&&(m=m.concat(this.g.get(hi(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return gn(this),this.i=null,o=hi(this,o),oi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function ci(o,m,g){wa(o,m),0<g.length&&(o.i=null,o.g.set(hi(o,m),W(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const q=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var x=q;X[T]!==""&&(x+="="+encodeURIComponent(String(X[T]))),o.push(x)}}return this.i=o.join("&")};function hi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Ps(o,m){m&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(wa(this,T),ci(this,x,g))},o)),o.j=m}function fu(o,m){const g=new ki;if(p.Image){const T=new Image;T.onload=j(pn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=j(pn,g,"TestLoadImage: error",!1,m,T),T.onabort=j(pn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(pn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function xr(o,m){const g=new ki,T=new AbortController,x=setTimeout(()=>{T.abort(),pn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(x),q.ok?pn(g,"TestPingServer: ok",!0,m):pn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),pn(g,"TestPingServer: error",!1,m)})}function pn(o,m,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function zr(){this.g=new Ye}function Hn(o,m,g){const T=g||"";try{Mr(o,function(x,q){let X=x;v(x)&&(X=Vs(x)),m.push(T+q+"="+encodeURIComponent(X))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Zi(o){this.l=o.Ub||null,this.j=o.eb||!1}$(Zi,Is),Zi.prototype.g=function(){return new fi(this.l,this.j)},Zi.prototype.i=function(o){return function(){return o}}({});function fi(o,m){ye.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(fi,ye),s=fi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Gn(this),this.readyState==3&&qs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ks(o){let m="";return Ut(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function we(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=ks(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):zt(o,m,g))}function qt(o){ye.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(qt,ye);var Da=/^https?$/i,Lr=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?ru(this.o):ru(Ir),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){du(this,q);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),x=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Lr,m,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,X]of g)this.g.setRequestHeader(q,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){du(this,q)}};function du(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ca(o),Qn(o)}function Ca(o){o.A||(o.A=!0,be(o,"complete"),be(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,be(this,"complete"),be(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},s.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)iu(o.Ea,0,o);else if(be(o,"readystatechange"),yn(o)==4){o.h=!1;try{const X=o.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=X===0){var x=String(o.D).match(zs)[1]||null;!x&&p.self&&p.self.location&&(x=p.self.location.protocol.slice(0,-1)),T=!Da.test(x?x.toLowerCase():"")}g=T}if(g)be(o,"complete"),be(o,"success");else{o.m=6;try{var q=2<yn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ca(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Br(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||be(o,"ready");try{g.onreadystatechange=T}catch{}}}function Br(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ln(m)}};function mu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function pc(o){const m={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var g=M(o[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[x]||[];m[x]=q,q.push(g)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ia(o){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,o),this.cb=Pr("retryDelaySeedMs",1e4,o),this.Wa=Pr("forwardChannelMaxRetries",2,o),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(o&&o.concurrentRequestLimit),this.Da=new zr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ia.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){ae(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Tu(this,null,this.W),Ma(this)};function Hs(o){if(gu(o),o.G==3){var m=o.U++,g=ee(o.I);if(zt(g,"SID",o.K),zt(g,"RID",m),zt(g,"TYPE","terminate"),qr(o,g),m=new qn(o,o.j,m),m.L=2,m.v=Ur(ee(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}Eu(o)}function Oa(o){o.g&&(kr(o),o.g.cancel(),o.g=null)}function gu(o){Oa(o),o.u&&(p.clearTimeout(o.u),o.u=null),Na(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ma(o){if(!xs(o.h)&&!o.s){o.s=!0;var m=o.Ga;ht||C(),ut||(ht(),ut=!0),Pt.add(m,o),o.B=0}}function yc(o,m){return ou(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=qi(P(o.Ga,o,m),Qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new qn(this,this.j,o);let q=this.o;if(this.S&&(q?(q=R(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(x.H=q,q=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=pu(this,x,m),g=ee(this.I),zt(g,"RID",o),zt(g,"CVER",22),this.D&&zt(g,"X-HTTP-Session-Id",this.D),qr(this,g),q&&(this.O?m="headers="+encodeURIComponent(String(ks(q)))+"&"+m:this.m&&we(g,this.m,q)),Yi(this.h,x),this.Ua&&zt(g,"TYPE","init"),this.P?(zt(g,"$req",m),zt(g,"SID","null"),x.T=!0,In(x,g,null)):In(x,g,m),this.G=2}}else this.G==3&&(o?js(this,o):this.i.length==0||xs(this.h)||js(this))};function js(o,m){var g;m?g=m.l:g=o.U++;const T=ee(o.I);zt(T,"SID",o.K),zt(T,"RID",g),zt(T,"AID",o.T),qr(o,T),o.m&&o.o&&we(T,o.m,o.o),g=new qn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=pu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,g),In(g,T,m)}function qr(o,m){o.H&&Ut(o.H,function(g,T){zt(m,T,g)}),o.l&&Mr({},function(g,T){zt(m,T,g)})}function pu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?P(o.l.Na,o.l,o):null;t:{var x=o.i;let q=-1;for(;;){const X=["count="+g];q==-1?0<g?(q=x[0].g,X.push("ofs="+q)):q=0:X.push("ofs="+q);let Vt=!0;for(let ve=0;ve<g;ve++){let It=x[ve].g;const De=x[ve].map;if(It-=q,0>It)q=Math.max(0,x[ve].g-100),Vt=!1;else try{Hn(De,X,"req"+It+"_")}catch{T&&T(De)}}if(Vt){T=X.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function yu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ht||C(),ut||(ht(),ut=!0),Pt.add(m,o),o.v=0}}function Gs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=qi(P(o.Fa,o),Qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=qi(P(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Oa(this),_u(this))};function kr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function _u(o){o.g=new qn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ee(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),qr(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Ur(ee(m)),g.m=null,g.P=!0,li(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Oa(this),Gs(this),ae(19))};function Na(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function vu(o,m){var g=null;if(o.g==m){Na(o),kr(o),o.g=null;var T=2}else if(Fi(o.h,m))g=m.D,dn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Ea(),be(T,new su(T,g)),Ma(o)}else yu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&yc(o,m)||T==2&&Gs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),x){case 1:di(o,5);break;case 4:di(o,10);break;case 3:di(o,6);break;default:di(o,2)}}}function Qs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function di(o,m){if(o.j.info("Error code "+m),m==2){var g=P(o.fb,o),T=o.Xa;const x=!T;T=new ui(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ki(T,"https"),Ur(T),x?fu(T.toString(),g):xr(T.toString(),g)}else ae(2);o.G=0,o.l&&o.l.sa(m),Eu(o),gu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Eu(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function Tu(o,m,g){var T=g instanceof ui?ee(g):new ui(g);if(T.g!="")m&&(T.g=m+"."+T.g),Nr(T,T.s);else{var x=p.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var q=new ui(null);T&&Ki(q,T),m&&(q.g=m),x&&Nr(q,x),g&&(q.l=g),T=q}return g=o.D,m=o.ya,g&&m&&zt(T,g,m),zt(T,"VER",o.la),qr(o,T),T}function Au(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Zi({eb:g})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ua(){}Ua.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){ye.call(this),this.g=new Ia(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}$(Xe,ye),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Hs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Vs(o),o=g);m.i.push(new hc(m.Ya++,o)),m.G==3&&Ma(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Xe.aa.N.call(this)};function bu(o){Li.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(bu,Li);function Ru(){Vn.call(this),this.status=1}$(Ru,Vn);function Fn(o){this.g=o}$(Fn,Su),Fn.prototype.ua=function(){be(this.g,"a")},Fn.prototype.ta=function(o){be(this.g,new bu(o))},Fn.prototype.sa=function(o){be(this.g,new Ru)},Fn.prototype.ra=function(){be(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,h_=function(){return new Ua},c_=function(){return Ea()},o_=fn,Cf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Vo=_e,si.COMPLETE="complete",u_=si,au.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Nl=au,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,l_=qt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const $p="@firebase/firestore",Jp="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new t_("@firebase/firestore");function ls(){return ca.logLevel}function nt(s,...e){if(ca.logLevel<=Nt.DEBUG){const i=e.map(Xf);ca.debug(`Firestore (${Ts}): ${s}`,...i)}}function Mi(s,...e){if(ca.logLevel<=Nt.ERROR){const i=e.map(Xf);ca.error(`Firestore (${Ts}): ${s}`,...i)}}function ds(s,...e){if(ca.logLevel<=Nt.WARN){const i=e.map(Xf);ca.warn(`Firestore (${Ts}): ${s}`,...i)}}function Xf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s="Unexpected state"){const e=`FIRESTORE (${Ts}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function kt(s,e){s||ft()}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class tA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class eA{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ua,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ua)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string"),new f_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new je(e)}}class nA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new nA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string"),this.R=i.token,new Wp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=aA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function wt(s,e){return s<e?-1:s>e?1:0}function If(s,e){const i=Vf().encode(s),a=Vf().encode(e);for(let u=0;u<Math.min(i.length,a.length);u++){const h=wt(i[u],a[u]);if(h!==0)return h}return wt(i.length,a.length)}function ms(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-62135596800,ey=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*ey);return new ge(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ty)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ey}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new ge(0,0))}static max(){return new mt(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(),a===void 0?a=e.length-i:a>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):If(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Xt extends Wn{construct(e,i,a){return new Xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(F.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const sA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends Wn{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return sA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ny}static keyField(){return new Le([ny])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new rt(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new rt(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Xt.fromString(e))}static fromName(e){return new ot(Xt.fromString(e).popFirst(5))}static empty(){return new ot(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function lA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(a===1e9?new ge(i+1,0):new ge(i,a));return new Ar(u,ot.empty(),e)}function uA(s){return new Ar(s.readTime,s.key,Ql)}class Ar{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ar(mt.min(),ot.empty(),Ql)}static max(){return new Ar(mt.max(),ot.empty(),Ql)}}function oA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:wt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(s){if(s.code!==F.FAILED_PRECONDITION||s.message!==cA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(b=>{d[v]=b,++p,p===h&&a(d)},b=>u(b))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function fA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ss(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=-1;function $o(s){return s==null}function Bo(s){return s===0&&1/s==-1/0}function dA(s){return typeof s=="number"&&Number.isInteger(s)&&!Bo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="";function mA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=iy(e)),e=gA(s.get(i),e);return iy(e)}function gA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case m_:i+="";break;default:i+=h}}return i}function iy(s){return s+m_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function fa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function g_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new xn([])}unionWith(e){let i=new Se(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new p_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const pA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if(kt(!!s),typeof s=="string"){let e=0;const i=pA.exec(s);if(kt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="server_timestamp",__="__type__",v_="__previous_value__",E_="__local_write_time__";function $f(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[__])===null||i===void 0?void 0:i.stringValue)===y_}function Jo(s){const e=s.mapValue.fields[v_];return $f(e)?Jo(e):e}function Fl(s){const e=Sr(s.mapValue.fields[E_].timestampValue);return new ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,a,u,h,d,p,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v}}const Po="(default)";class Yl{constructor(e,i){this.projectId=e,this.database=i||Po}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===Po}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__type__",_A="__max__",wo={mapValue:{}},A_="__vector__",qo="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$f(s)?4:EA(s)?9007199254740991:vA(s)?10:11:ft()}function ni(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fl(s).isEqual(Fl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Sr(u.timestampValue),p=Sr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return br(u.bytesValue).isEqual(br(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return le(u.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(u.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return le(u.integerValue)===le(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=le(u.doubleValue),p=le(h.doubleValue);return d===p?Bo(d)===Bo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return ms(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(ry(d)!==ry(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ni(d[_],p[_])))return!1;return!0}(s,e);default:return ft()}}function Kl(s,e){return(s.values||[]).find(i=>ni(i,e))!==void 0}function gs(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return wt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=le(h.integerValue||h.doubleValue),_=le(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return sy(s.timestampValue,e.timestampValue);case 4:return sy(Fl(s),Fl(e));case 5:return If(s.stringValue,e.stringValue);case 6:return function(h,d){const p=br(h),_=br(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const b=wt(p[v],_[v]);if(b!==0)return b}return wt(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=wt(le(h.latitude),le(d.latitude));return p!==0?p:wt(le(h.longitude),le(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ly(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,b;const I=h.fields||{},P=d.fields||{},j=(p=I[qo])===null||p===void 0?void 0:p.arrayValue,$=(_=P[qo])===null||_===void 0?void 0:_.arrayValue,W=wt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((b=$==null?void 0:$.values)===null||b===void 0?void 0:b.length)||0);return W!==0?W:ly(j,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let I=0;I<_.length&&I<b.length;++I){const P=If(_[I],b[I]);if(P!==0)return P;const j=gs(p[_[I]],v[b[I]]);if(j!==0)return j}return wt(_.length,b.length)}(s.mapValue,e.mapValue);default:throw ft()}}function sy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return wt(s,e);const i=Sr(s),a=Sr(e),u=wt(i.seconds,a.seconds);return u!==0?u:wt(i.nanos,a.nanos)}function ly(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=gs(i[u],a[u]);if(h)return h}return wt(i.length,a.length)}function ps(s){return Of(s)}function Of(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Sr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return br(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Of(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Of(i.fields[d])}`;return u+"}"}(s.mapValue):ft()}function Io(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jo(s);return e?16+Io(e):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Io(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return fa(a.fields,(h,d)=>{u+=h.length+Io(d)}),u}(s.mapValue);default:throw ft()}}function uy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Mf(s){return!!s&&"integerValue"in s}function Jf(s){return!!s&&"arrayValue"in s}function oy(s){return!!s&&"nullValue"in s}function cy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oo(s){return!!s&&"mapValue"in s}function vA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[T_])===null||i===void 0?void 0:i.stringValue)===A_}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return fa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ll(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return Object.assign({},s)}function EA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Oo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Le.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Ll(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Oo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Oo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){fa(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Cn(Ll(this.value))}}function S_(s){const e=[];return fa(s.fields,(i,a)=>{const u=new Le([i]);if(Oo(a)){const h=S_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Qe(e,0,mt.min(),mt.min(),mt.min(),Cn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,mt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,mt.min(),mt.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,mt.min(),mt.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i){this.position=e,this.inclusive=i}}function hy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=gs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function fy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,i="asc"){this.field=e,this.dir=i}}function TA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{}class me extends b_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new SA(e,i,a):i==="array-contains"?new wA(e,a):i==="in"?new DA(e,a):i==="not-in"?new CA(e,a):i==="array-contains-any"?new VA(e,a):new me(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new bA(e,a):new RA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(gs(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(gs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends b_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new zn(e,i)}matches(e){return R_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function R_(s){return s.op==="and"}function w_(s){return AA(s)&&R_(s)}function AA(s){for(const e of s.filters)if(e instanceof zn)return!1;return!0}function Nf(s){if(s instanceof me)return s.field.canonicalString()+s.op.toString()+ps(s.value);if(w_(s))return s.filters.map(e=>Nf(e)).join(",");{const e=s.filters.map(i=>Nf(i)).join(",");return`${s.op}(${e})`}}function D_(s,e){return s instanceof me?function(a,u){return u instanceof me&&a.op===u.op&&a.field.isEqual(u.field)&&ni(a.value,u.value)}(s,e):s instanceof zn?function(a,u){return u instanceof zn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&D_(d,u.filters[p]),!0):!1}(s,e):void ft()}function C_(s){return s instanceof me?function(i){return`${i.field.canonicalString()} ${i.op} ${ps(i.value)}`}(s):s instanceof zn?function(i){return i.op.toString()+" {"+i.getFilters().map(C_).join(" ,")+"}"}(s):"Filter"}class SA extends me{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class bA extends me{constructor(e,i){super(e,"in",i),this.keys=V_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class RA extends me{constructor(e,i){super(e,"not-in",i),this.keys=V_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function V_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class wA extends me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Jf(i)&&Kl(i.arrayValue,this.value)}}class DA extends me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class CA extends me{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Kl(this.value.arrayValue,i)}}class VA extends me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Jf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function dy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new IA(s,e,i,a,u,h,d)}function Wf(s){const e=pt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Nf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),$o(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ps(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ps(a)).join(",")),e.le=i}return e.le}function td(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!TA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!D_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!fy(s.startAt,e.startAt)&&fy(s.endAt,e.endAt)}function Uf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function OA(s,e,i,a,u,h,d,p){return new bs(s,e,i,a,u,h,d,p)}function ed(s){return new bs(s)}function my(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function I_(s){return s.collectionGroup!==null}function Bl(s){const e=pt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Se(Le.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Xl(h,a))}),i.has(Le.keyField().canonicalString())||e.he.push(new Xl(Le.keyField(),a))}return e.he}function ti(s){const e=pt(s);return e.Pe||(e.Pe=MA(e,Bl(s))),e.Pe}function MA(s,e){if(s.limitType==="F")return dy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Xl(u.field,h)});const i=s.endAt?new ko(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ko(s.startAt.position,s.startAt.inclusive):null;return dy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function xf(s,e){const i=s.filters.concat([e]);return new bs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function zf(s,e,i){return new bs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Wo(s,e){return td(ti(s),ti(e))&&s.limitType===e.limitType}function O_(s){return`${Wf(ti(s))}|lt:${s.limitType}`}function us(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>C_(u)).join(", ")}]`),$o(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ps(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ps(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function tc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Bl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=hy(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,Bl(a),u)||a.endAt&&!function(d,p,_){const v=hy(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,Bl(a),u))}(s,e)}function NA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function M_(s){return(e,i)=>{let a=!1;for(const u of Bl(s)){const h=UA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function UA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?gs(_,v):ft()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return g_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Wt(ot.comparator);function Ni(){return xA}const N_=new Wt(ot.comparator);function Ul(...s){let e=N_;for(const i of s)e=e.insert(i.key,i);return e}function U_(s){let e=N_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function la(){return Pl()}function x_(){return Pl()}function Pl(){return new da(s=>s.toString(),(s,e)=>s.isEqual(e))}const zA=new Wt(ot.comparator),LA=new Se(ot.comparator);function Dt(...s){let e=LA;for(const i of s)e=e.add(i);return e}const BA=new Se(wt);function PA(){return BA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function z_(s){return{integerValue:""+s}}function qA(s,e){return dA(e)?z_(e):nd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function kA(s,e,i){return s instanceof Ho?function(u,h){const d={fields:{[__]:{stringValue:y_},[E_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&$f(h)&&(h=Jo(h)),h&&(d.fields[v_]=h),{mapValue:d}}(i,e):s instanceof Zl?B_(s,e):s instanceof $l?P_(s,e):function(u,h){const d=L_(u,h),p=gy(d)+gy(u.Ie);return Mf(d)&&Mf(u.Ie)?z_(p):nd(u.serializer,p)}(s,e)}function HA(s,e,i){return s instanceof Zl?B_(s,e):s instanceof $l?P_(s,e):i}function L_(s,e){return s instanceof jo?function(a){return Mf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Ho extends ec{}class Zl extends ec{constructor(e){super(),this.elements=e}}function B_(s,e){const i=q_(e);for(const a of s.elements)i.some(u=>ni(u,a))||i.push(a);return{arrayValue:{values:i}}}class $l extends ec{constructor(e){super(),this.elements=e}}function P_(s,e){let i=q_(e);for(const a of s.elements)i=i.filter(u=>!ni(u,a));return{arrayValue:{values:i}}}class jo extends ec{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function gy(s){return le(s.integerValue||s.doubleValue)}function q_(s){return Jf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function jA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Zl&&u instanceof Zl||a instanceof $l&&u instanceof $l?ms(a.elements,u.elements,ni):a instanceof jo&&u instanceof jo?ni(a.Ie,u.Ie):a instanceof Ho&&u instanceof Ho}(s.transform,e.transform)}class GA{constructor(e,i){this.version=e,this.transformResults=i}}class Ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class nc{}function k_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new j_(s.key,Ii.none()):new Jl(s.key,s.data,Ii.none());{const i=s.data,a=Cn.empty();let u=new Se(Le.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new ma(s.key,a,new xn(u.toArray()),Ii.none())}}function QA(s,e,i){s instanceof Jl?function(u,h,d){const p=u.value.clone(),_=yy(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof ma?function(u,h,d){if(!Mo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=yy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(H_(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ql(s,e,i,a){return s instanceof Jl?function(h,d,p,_){if(!Mo(h.precondition,d))return p;const v=h.value.clone(),b=_y(h.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof ma?function(h,d,p,_){if(!Mo(h.precondition,d))return p;const v=_y(h.fieldTransforms,_,d),b=d.data;return b.setAll(H_(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(s,e,i,a):function(h,d,p){return Mo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function FA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=L_(a.transform,u||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(a.field,h))}return i||null}function py(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ms(a,u,(h,d)=>jA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jl extends nc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ma extends nc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function H_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function yy(s,e,i){const a=new Map;kt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,HA(d,p,i[u]))}return a}function _y(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,kA(h,d,e))}return a}class j_ extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YA extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&QA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=x_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=k_(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(i,a)=>py(i,a))&&ms(this.baseMutations,e.baseMutations,(i,a)=>py(i,a))}}class id{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length);let u=function(){return zA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new id(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,Mt;function $A(s){switch(s){case F.OK:return ft();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ft()}}function G_(s){if(s===void 0)return Mi("GRPC error has no .code"),F.UNKNOWN;switch(s){case de.OK:return F.OK;case de.CANCELLED:return F.CANCELLED;case de.UNKNOWN:return F.UNKNOWN;case de.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case de.INTERNAL:return F.INTERNAL;case de.UNAVAILABLE:return F.UNAVAILABLE;case de.UNAUTHENTICATED:return F.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case de.NOT_FOUND:return F.NOT_FOUND;case de.ALREADY_EXISTS:return F.ALREADY_EXISTS;case de.PERMISSION_DENIED:return F.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case de.ABORTED:return F.ABORTED;case de.OUT_OF_RANGE:return F.OUT_OF_RANGE;case de.UNIMPLEMENTED:return F.UNIMPLEMENTED;case de.DATA_LOSS:return F.DATA_LOSS;default:return ft()}}(Mt=de||(de={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Er([4294967295,4294967295],0);function vy(s){const e=Vf().encode(s),i=new s_;return i.update(e),new Uint8Array(i.digest())}function Ey(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Er([i,a],0),new Er([u,h],0)]}class rd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Er.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Er.fromNumber(a)));return u.compare(JA)===1&&(u=new Er([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=vy(e),[a,u]=Ey(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new rd(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const i=vy(e),[a,u]=Ey(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ic(mt.min(),u,new Wt(wt),Ni(),Dt())}}class Wl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Wl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class Q_{constructor(e,i){this.targetId=e,this.ge=i}}class F_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Ty{constructor(){this.pe=0,this.ye=Ay(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Dt(),i=Dt(),a=Dt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:ft()}}),new Wl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=Ay()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=Do(),this.Ue=Do(),this.Ke=new Wt(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Uf(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Qe.newNoDocument(d,mt.min()))}else kt(a===1);else{const d=this.et(i);if(d!==a){const p=this.tt(e),_=p?this.nt(p,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=br(a).toUint8Array()}catch(_){if(_ instanceof p_)return ds("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new rd(d,u,h)}catch(_){return ds(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.Ee===0?null:p}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const p=this.Xe(d);if(p){if(h.current&&Uf(p.target)){const _=new ot(p.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Dt();this.Ue.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ic(e,i,this.Ke,this.Qe,a);return this.Qe=Ni(),this.$e=Do(),this.Ue=Do(),this.Ke=new Wt(wt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ty,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Se(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ty),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Do(){return new Wt(ot.comparator)}function Ay(){return new Wt(ot.comparator)}const tS={asc:"ASCENDING",desc:"DESCENDING"},eS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nS={and:"AND",or:"OR"};class iS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Lf(s,e){return s.useProto3Json||$o(e)?e:{value:e}}function Go(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rS(s,e){return Go(s,e.toTimestamp())}function ei(s){return kt(!!s),mt.fromTimestamp(function(i){const a=Sr(i);return new ge(a.seconds,a.nanos)}(s))}function ad(s,e){return Bf(s,e).canonicalString()}function Bf(s,e){const i=function(u){return new Xt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function K_(s){const e=Xt.fromString(s);return kt(W_(e)),e}function Pf(s,e){return ad(s.databaseId,e.path)}function _f(s,e){const i=K_(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(Z_(i))}function X_(s,e){return ad(s.databaseId,e)}function aS(s){const e=K_(s);return e.length===4?Xt.emptyPath():Z_(e)}function qf(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Z_(s){return kt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Sy(s,e,i){return{name:Pf(s,e),fields:i.value.mapValue.fields}}function sS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,b){return v.useProto3Json?(kt(b===void 0||typeof b=="string"),Be.fromBase64String(b||"")):(kt(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Be.fromUint8Array(b||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const b=v.code===void 0?F.UNKNOWN:G_(v.code);return new rt(b,v.message||"")}(d);i=new F_(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=_f(s,a.document.name),h=ei(a.document.updateTime),d=a.document.createTime?ei(a.document.createTime):mt.min(),p=new Cn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,p),v=a.targetIds||[],b=a.removedTargetIds||[];i=new No(v,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=_f(s,a.document),h=a.readTime?ei(a.readTime):mt.min(),d=Qe.newNoDocument(u,h),p=a.removedTargetIds||[];i=new No([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=_f(s,a.document),h=a.removedTargetIds||[];i=new No([],h,u,null)}else{if(!("filter"in e))return ft();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new ZA(u,h),p=a.targetId;i=new Q_(p,d)}}return i}function lS(s,e){let i;if(e instanceof Jl)i={update:Sy(s,e.key,e.value)};else if(e instanceof j_)i={delete:Pf(s,e.key)};else if(e instanceof ma)i={update:Sy(s,e.key,e.data),updateMask:pS(e.fieldMask)};else{if(!(e instanceof YA))return ft();i={verify:Pf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw ft()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:rS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(s,e.precondition)),i}function uS(s,e){return s&&s.length>0?(kt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ei(u.updateTime):ei(h);return d.isEqual(mt.min())&&(d=ei(h)),new GA(d,u.transformResults||[])}(i,e))):[]}function oS(s,e){return{documents:[X_(s,e.path)]}}function cS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=X_(s,u);const h=function(v){if(v.length!==0)return J_(zn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(b=>function(P){return{field:os(P.field),direction:dS(P.dir)}}(b))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Lf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function hS(s){let e=aS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1);const b=i.from[0];b.allDescendants?u=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=function(I){const P=$_(I);return P instanceof zn&&w_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(P=>function($){return new Xl(cs($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(P))}(i.orderBy));let p=null;i.limit&&(p=function(I){let P;return P=typeof I=="object"?I.value:I,$o(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(I){const P=!!I.before,j=I.values||[];return new ko(j,P)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const P=!I.before,j=I.values||[];return new ko(j,P)}(i.endAt)),OA(e,u,d,h,p,"F",_,v)}function fS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function $_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=cs(i.unaryFilter.field);return me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=cs(i.unaryFilter.field);return me.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cs(i.unaryFilter.field);return me.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cs(i.unaryFilter.field);return me.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(s):s.fieldFilter!==void 0?function(i){return me.create(cs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return zn.create(i.compositeFilter.filters.map(a=>$_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(s):ft()}function dS(s){return tS[s]}function mS(s){return eS[s]}function gS(s){return nS[s]}function os(s){return{fieldPath:s.canonicalString()}}function cs(s){return Le.fromServerFormat(s.fieldPath)}function J_(s){return s instanceof me?function(i){if(i.op==="=="){if(cy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NAN"}};if(oy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NAN"}};if(oy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(i.field),op:mS(i.op),value:i.value}}}(s):s instanceof zn?function(i){const a=i.getFilters().map(u=>J_(u));return a.length===1?a[0]:{compositeFilter:{op:gS(i.op),filters:a}}}(s):ft()}function pS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function W_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,u,h=mt.min(),d=mt.min(),p=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.Tt=e}}function _S(s){const e=hS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.Tn=new ES}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Ar.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class ES{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Xt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(tv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ys(0)}static Kn(){return new ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="LruGarbageCollector",TS=1048576;function wy([s,e],[i,a]){const u=wt(s,i);return u===0?wt(e,a):u}class AS{constructor(e){this.Hn=e,this.buffer=new Se(wy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();wy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Ry,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ss(i)?nt(Ry,"Ignoring IndexedDB error during garbage collection: ",i):await As(i)}await this.er(3e5)})}}class bS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Zo.ae);const a=new AS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(by)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),by):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,p,_,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),u=this.params.maximumSequenceNumbersToCollect):u=I,d=Date.now(),this.nthSequenceNumber(e,u))).next(I=>(a=I,p=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(v=Date.now(),ls()<=Nt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:I})))}}function RS(s,e){return new bS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.changes=new da(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&ql(a.mutation,u,xn.empty(),ge.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=la();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ul();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Ni();const d=Pl(),p=function(){return Pl()}();return i.forEach((_,v)=>{const b=a.get(v.key);u.has(v.key)&&(b===void 0||b.mutation instanceof ma)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),ql(b.mutation,v,b.mutation.getFieldMask(),ge.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>{var I;return p.set(v,new DS(b,(I=d.get(v))!==null&&I!==void 0?I:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Pl();let u=new Wt((d,p)=>d-p),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let b=a.get(_)||xn.empty();b=p.applyToLocalView(v,b),a.set(_,b);const I=(u.get(p.batchId)||Dt()).add(_);u=u.insert(p.batchId,I)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,b=_.value,I=x_();b.forEach(P=>{if(!h.has(P)){const j=k_(i.get(P),a.get(P));j!==null&&I.set(P,j),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):I_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(la());let p=Ql,_=h;return d.next(v=>Q.forEach(v,(b,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),h.get(b)?Q.resolve():this.remoteDocumentCache.getEntry(e,b).next(P=>{_=_.insert(b,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(b=>({batchId:p,changes:U_(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=Ul();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,h).next(p=>Q.forEach(p,_=>{const v=function(I,P){return new bs(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(b=>{b.forEach((I,P)=>{d=d.insert(I,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,Qe.newInvalidDocument(b)))});let p=Ul();return d.forEach((_,v)=>{const b=h.get(_);b!==void 0&&ql(b.mutation,v,xn.empty(),ge.now()),tc(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ei(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:_S(u.bundledQuery),readTime:ei(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.overlays=new Wt(ot.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=la(),h=i.length+1,d=new ot(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new Wt((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let b=h.get(v.largestBatchId);b===null&&(b=la(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=la(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,b)=>p.set(v,b)),!(p.size()>=u)););return Q.resolve(p)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new XA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Dt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.Vr=new Se(Oe.mr),this.gr=new Se(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ot(new Xt([])),a=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new Xt([])),a=new Oe(i,e),u=new Oe(i,e+1);let h=Dt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Oe.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Mr=this.Mr.add(new Oe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Zf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const p=this.Or(d.Cr);h.push(p)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(wt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{a=a.add(p.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ot(h),0);let p=new Se(wt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Cr)),!0)},d),Q.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Oe(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.kr=e,this.docs=function(){return new Wt(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ni();const d=i.path,p=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||oA(uA(b),a)<=0||(u.has(b.key)||tc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){ft()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new US(this)}getSize(e){return Q.resolve(this.size)}}class US extends wS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.persistence=e,this.Qr=new da(i=>Wf(i),td),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new sd,this.targetCount=0,this.Kr=ys.Un()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ys(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Zo(0),this.zr=!1,this.zr=!0,this.jr=new OS,this.referenceDelegate=e(this),this.Hr=new xS(this),this.indexManager=new vS,this.remoteDocumentCache=function(u){return new NS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new yS(i),this.Yr=new VS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new IS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new MS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new zS(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class zS extends hA{constructor(e){super(),this.currentSequenceNumber=e}}class ld{constructor(e){this.persistence=e,this.ti=new sd,this.ni=null}static ri(e){return new ld(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ot.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Qo{constructor(e,i){this.persistence=e,this.oi=new da(a=>mA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=RS(this,i)}static ri(e,i){return new Qo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(p=>{p||(a++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new ud(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return N0()?8:fA(O0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new LS;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(ls()<=Nt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(ls()<=Nt.DEBUG&&nt("QueryEngine","Query:",us(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(ls()<=Nt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(my(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=zf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,p);return this.ls(i,v,d,_.readTime)?this.rs(e,zf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return my(i)||u.isEqual(mt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(ls()<=Nt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),us(i)),this.hs(e,d,i,lA(u,Ql)).next(p=>p))})}cs(e,i){let a=new Se(M_(e));return i.forEach((u,h)=>{tc(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return ls()<=Nt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",us(i)),this.ns.getDocumentsMatchingQuery(e,i,Ar.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="LocalStore",PS=3e8;class qS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new Wt(wt),this.Is=new da(h=>Wf(h),td),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function kS(s,e,i,a){return new qS(s,e,i,a)}async function nv(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of h){p.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:p}))})})}function HS(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,_,v,b){const I=v.batch,P=I.keys();let j=Q.resolve();return P.forEach($=>{j=j.next(()=>b.getEntry(_,$)).next(W=>{const Z=v.docVersions.get($);kt(Z!==null),W.version.compareTo(Z)<0&&(I.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),b.addEntry(W)))})}),j.next(()=>p.mutationQueue.removeMutationBatch(_,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Dt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function iv(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function jS(s,e){const i=pt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const p=[];e.targetChanges.forEach((b,I)=>{const P=u.get(I);if(!P)return;p.push(i.Hr.removeMatchingKeys(h,b.removedDocuments,I).next(()=>i.Hr.addMatchingKeys(h,b.addedDocuments,I)));let j=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,a)),u=u.insert(I,j),function(W,Z,yt){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=PS?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(P,j,b)&&p.push(i.Hr.updateTargetData(h,j))});let _=Ni(),v=Dt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))}),p.push(GS(h,d,e.documentUpdates).next(b=>{_=b.Vs,v=b.fs})),!a.isEqual(mt.min())){const b=i.Hr.getLastRemoteSnapshotVersion(h).next(I=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(b)}return Q.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function GS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ni();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):nt(od,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function QS(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Zf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function FS(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function kf(s,e,i){const a=pt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ss(d))throw d;nt(od,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function Dy(s,e,i){const a=pt(s);let u=mt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,b){const I=pt(_),P=I.Is.get(b);return P!==void 0?Q.resolve(I.Ts.get(P)):I.Hr.getTargetData(v,b)}(a,d,ti(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?h:Dt())).next(p=>(YS(a,NA(e),p),{documents:p,gs:h})))}function YS(s,e,i){let a=s.Es.get(e)||mt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Cy{constructor(){this.activeTargetIds=PA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KS{constructor(){this.ho=new Cy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Cy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="ConnectivityMonitor";class Iy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Vy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(Vy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=null;function Hf(){return Co===null?Co=function(){return 268435456+Math.round(2147483648*Math.random())}():Co++,"0x"+Co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",ZS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $S{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===Po?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Hf(),p=this.bo(e,i.toUriEncodedString());nt(vf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,p,_,a).then(v=>(nt(vf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ds(vf,`RPC '${e}' ${d} failed with error: `,v,"url: ",p,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ts}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=ZS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class WS extends $S{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Hf();return new Promise((d,p)=>{const _=new l_;_.setWithCredentials(!0),_.listenOnce(u_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const b=_.getResponseJson();nt(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Vo.TIMEOUT:nt(He,`RPC '${e}' ${h} timed out`),p(new rt(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const I=_.getStatus();if(nt(He,`RPC '${e}' ${h} failed with status:`,I,"response text:",_.getResponseText()),I>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P==null?void 0:P.error;if(j&&j.status&&j.message){const $=function(Z){const yt=Z.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(yt)>=0?yt:F.UNKNOWN}(j.status);p(new rt($,j.message))}else p(new rt(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new rt(F.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{nt(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Hf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=h_(),p=c_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=h.join("");nt(He,`Creating RPC '${e}' stream ${u}: ${b}`,_);const I=d.createWebChannel(b,_);let P=!1,j=!1;const $=new JS({Fo:Z=>{j?nt(He,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(P||(nt(He,`Opening RPC '${e}' stream ${u} transport.`),I.open(),P=!0),nt(He,`RPC '${e}' stream ${u} sending:`,Z),I.send(Z))},Mo:()=>I.close()}),W=(Z,yt,dt)=>{Z.listen(yt,Tt=>{try{dt(Tt)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return W(I,Nl.EventType.OPEN,()=>{j||(nt(He,`RPC '${e}' stream ${u} transport opened.`),$.Qo())}),W(I,Nl.EventType.CLOSE,()=>{j||(j=!0,nt(He,`RPC '${e}' stream ${u} transport closed`),$.Uo())}),W(I,Nl.EventType.ERROR,Z=>{j||(j=!0,ds(He,`RPC '${e}' stream ${u} transport errored:`,Z),$.Uo(new rt(F.UNAVAILABLE,"The operation could not be completed")))}),W(I,Nl.EventType.MESSAGE,Z=>{var yt;if(!j){const dt=Z.data[0];kt(!!dt);const Tt=dt,Qt=(Tt==null?void 0:Tt.error)||((yt=Tt[0])===null||yt===void 0?void 0:yt.error);if(Qt){nt(He,`RPC '${e}' stream ${u} received error:`,Qt);const _t=Qt.status;let Ut=function(A){const D=de[A];if(D!==void 0)return G_(D)}(_t),N=Qt.message;Ut===void 0&&(Ut=F.INTERNAL,N="Unknown error status: "+_t+" with message "+Qt.message),j=!0,$.Uo(new rt(Ut,N)),I.close()}else nt(He,`RPC '${e}' stream ${u} received:`,dt),$.Ko(dt)}}),W(p,o_.STAT_EVENT,Z=>{Z.stat===Cf.PROXY?nt(He,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Cf.NOPROXY&&nt(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(s){return new iS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="PersistentStream";class av{constructor(e,i,a,u,h,d,p,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new rt(F.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Oy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Oy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t1 extends av{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=sS(this.serializer,e),a=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?ei(d.readTime):mt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=qf(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=Uf(_)?{documents:oS(h,_)}:{query:cS(h,_).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Y_(h,d.resumeToken);const v=Lf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){p.readTime=Go(h,d.snapshotVersion.toTimestamp());const v=Lf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=fS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=qf(this.serializer),i.removeTarget=e,this.I_(i)}}class e1 extends av{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=uS(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=qf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>lS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{}class i1 extends n1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Bf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(F.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Bf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(F.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class r1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class a1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ga(this)&&(nt(ha,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await tu(v),v.j_.set("Unknown"),v.W_.delete(4),await ac(v)}(this))})}),this.j_=new r1(a,u)}}async function ac(s){if(ga(s))for(const e of s.G_)await e(!0)}async function tu(s){for(const e of s.G_)await e(!1)}function sv(s,e){const i=pt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),dd(i)?fd(i):Rs(i).c_()&&hd(i,e))}function cd(s,e){const i=pt(s),a=Rs(i);i.K_.delete(e),a.c_()&&lv(i,e),i.K_.size===0&&(a.c_()?a.P_():ga(i)&&i.j_.set("Unknown"))}function hd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).y_(e)}function lv(s,e){s.H_.Ne(e),Rs(s).w_(e)}function fd(s){s.H_=new WA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.j_.B_()}function dd(s){return ga(s)&&!Rs(s).u_()&&s.K_.size>0}function ga(s){return pt(s).W_.size===0}function uv(s){s.H_=void 0}async function s1(s){s.j_.set("Online")}async function l1(s){s.K_.forEach((e,i)=>{hd(s,e)})}async function u1(s,e){uv(s),dd(s)?(s.j_.q_(e),fd(s)):s.j_.set("Unknown")}async function o1(s,e,i){if(s.j_.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.K_.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.K_.delete(p),u.H_.removeTarget(p))}(s,e)}catch(a){nt(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Fo(s,a)}else if(e instanceof No?s.H_.We(e):e instanceof Q_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(mt.min()))try{const a=await iv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.H_.ot(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=h.K_.get(v);b&&h.K_.set(v,b.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const b=h.K_.get(_);if(!b)return;h.K_.set(_,b.withResumeToken(Be.EMPTY_BYTE_STRING,b.snapshotVersion)),lv(h,_);const I=new yr(b.target,_,v,b.sequenceNumber);hd(h,I)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){nt(ha,"Failed to raise snapshot:",a),await Fo(s,a)}}async function Fo(s,e,i){if(!Ss(e))throw e;s.W_.add(1),await tu(s),s.j_.set("Offline"),i||(i=()=>iv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(ha,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await ac(s)})}function ov(s,e){return e().catch(i=>Fo(s,i,e))}async function sc(s){const e=pt(s),i=wr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:Zf;for(;c1(e);)try{const u=await QS(e.localStore,a);if(u===null){e.U_.length===0&&i.P_();break}a=u.batchId,h1(e,u)}catch(u){await Fo(e,u)}cv(e)&&hv(e)}function c1(s){return ga(s)&&s.U_.length<10}function h1(s,e){s.U_.push(e);const i=wr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function cv(s){return ga(s)&&!wr(s).u_()&&s.U_.length>0}function hv(s){wr(s).start()}async function f1(s){wr(s).C_()}async function d1(s){const e=wr(s);for(const i of s.U_)e.b_(i.mutations)}async function m1(s,e,i){const a=s.U_.shift(),u=id.from(a,e,i);await ov(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await sc(s)}async function g1(s,e){e&&wr(s).S_&&await async function(a,u){if(function(d){return $A(d)&&d!==F.ABORTED}(u.code)){const h=a.U_.shift();wr(a).h_(),await ov(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await sc(a)}}(s,e),cv(s)&&hv(s)}async function My(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),nt(ha,"RemoteStore received new credentials");const a=ga(i);i.W_.add(3),await tu(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await ac(i)}async function p1(s,e){const i=pt(s);e?(i.W_.delete(2),await ac(i)):e||(i.W_.add(2),await tu(i),i.j_.set("Unknown"))}function Rs(s){return s.J_||(s.J_=function(i,a,u){const h=pt(i);return h.M_(),new t1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:s1.bind(null,s),No:l1.bind(null,s),Lo:u1.bind(null,s),p_:o1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),dd(s)?fd(s):s.j_.set("Unknown")):(await s.J_.stop(),uv(s))})),s.J_}function wr(s){return s.Y_||(s.Y_=function(i,a,u){const h=pt(i);return h.M_(),new e1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:f1.bind(null,s),Lo:g1.bind(null,s),D_:d1.bind(null,s),v_:m1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await sc(s)):(await s.Y_.stop(),s.U_.length>0&&(nt(ha,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new md(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gd(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ss(s))return new rt(F.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{static emptySet(e){return new fs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Z_=new Wt(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class _s{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new _s(e,i,fs.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _1{constructor(){this.queries=Uy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=pt(i),h=u.queries;u.queries=Uy(),h.forEach((d,p)=>{for(const _ of p.ta)_.onError(a)})})(this,new rt(F.ABORTED,"Firestore shutting down"))}}function Uy(){return new da(s=>O_(s),Wo)}async function v1(s,e){const i=pt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new y1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=gd(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&pd(i)}async function E1(s,e){const i=pt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function T1(s,e){const i=pt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ta)p.oa(u)&&(a=!0);d.ea=u}}a&&pd(i)}function A1(s,e,i){const a=pt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function pd(s){s.ia.forEach(e=>{e.next()})}var jf,xy;(xy=jf||(jf={}))._a="default",xy.Cache="cache";class S1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new _s(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.key=e}}class dv{constructor(e){this.key=e}}class b1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=M_(e),this.wa=new fs(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Ny,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((b,I)=>{const P=u.get(b),j=tc(this.query,I)?I:null,$=!!P&&this.mutatedKeys.has(P.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;P&&j?P.data.isEqual(j.data)?$!==W&&(a.track({type:3,doc:j}),Z=!0):this.va(P,j)||(a.track({type:2,doc:j}),Z=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(p=!0)):!P&&j?(a.track({type:0,doc:j}),Z=!0):P&&!j&&(a.track({type:1,doc:P}),Z=!0,(_||v)&&(p=!0)),Z&&(j?(d=d.add(j),h=W?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{wa:d,Da:a,ls:p,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((b,I)=>function(j,$){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return W(j)-W($)}(b.type,I.type)||this.ya(b.doc,I.doc)),this.Ca(a),u=u!=null&&u;const p=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new _s(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ny,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Dt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new dv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new fv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Dt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return _s.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yd="SyncEngine";class R1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class w1{constructor(e){this.key=e,this.Ba=!1}}class D1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new da(p=>O_(p),Wo),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(ot.comparator),this.Ua=new Map,this.Ka=new sd,this.Wa={},this.Ga=new Map,this.za=ys.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function C1(s,e,i=!0){const a=vv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await mv(a,e,i,!0),u}async function V1(s,e){const i=vv(s);await mv(i,e,!0,!1)}async function mv(s,e,i,a){const u=await FS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await I1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&sv(s.remoteStore,u),p}async function I1(s,e,i,a,u){s.Ha=(I,P,j)=>async function(W,Z,yt,dt){let Tt=Z.view.ba(yt);Tt.ls&&(Tt=await Dy(W.localStore,Z.query,!1).then(({documents:N})=>Z.view.ba(N,Tt)));const Qt=dt&&dt.targetChanges.get(Z.targetId),_t=dt&&dt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(Tt,W.isPrimaryClient,Qt,_t);return Ly(W,Z.targetId,Ut.Ma),Ut.snapshot}(s,I,P,j);const h=await Dy(s.localStore,e,!0),d=new b1(e,h.gs),p=d.ba(h.documents),_=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);Ly(s,i,v.Ma);const b=new R1(e,i,d);return s.ka.set(e,b),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function O1(s,e,i){const a=pt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!Wo(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await kf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&cd(a.remoteStore,u.targetId),Gf(a,u.targetId)}).catch(As)):(Gf(a,u.targetId),await kf(a.localStore,u.targetId,!0))}async function M1(s,e){const i=pt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),cd(i.remoteStore,a.targetId))}async function N1(s,e,i){const a=q1(s);try{const u=await function(d,p){const _=pt(d),v=ge.now(),b=p.reduce((j,$)=>j.add($.key),Dt());let I,P;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Ni(),W=Dt();return _.ds.getEntries(j,b).next(Z=>{$=Z,$.forEach((yt,dt)=>{dt.isValidDocument()||(W=W.add(yt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,$)).next(Z=>{I=Z;const yt=[];for(const dt of p){const Tt=FA(dt,I.get(dt.key).overlayedDocument);Tt!=null&&yt.push(new ma(dt.key,Tt,S_(Tt.value.mapValue),Ii.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,yt,p)}).next(Z=>{P=Z;const yt=Z.applyToLocalDocumentSet(I,W);return _.documentOverlayCache.saveOverlays(j,Z.batchId,yt)})}).then(()=>({batchId:P.batchId,changes:U_(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new Wt(wt)),v=v.insert(p,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await eu(a,u.changes),await sc(a.remoteStore)}catch(u){const h=gd(u,"Failed to persist write");i.reject(h)}}async function gv(s,e){const i=pt(s);try{const a=await jS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?kt(d.Ba):u.removedDocuments.size>0&&(kt(d.Ba),d.Ba=!1))}),await eu(i,a,e)}catch(a){await As(a)}}function zy(s,e,i){const a=pt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=pt(d);_.onlineState=p;let v=!1;_.queries.forEach((b,I)=>{for(const P of I.ta)P.sa(p)&&(v=!0)}),v&&pd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function U1(s,e,i){const a=pt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ua.get(e),h=u&&u.key;if(h){let d=new Wt(ot.comparator);d=d.insert(h,Qe.newNoDocument(h,mt.min()));const p=Dt().add(h),_=new ic(mt.min(),new Map,new Wt(wt),d,p);await gv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),_d(a)}else await kf(a.localStore,e,!1).then(()=>Gf(a,e,i)).catch(As)}async function x1(s,e){const i=pt(s),a=e.batch.batchId;try{const u=await HS(i.localStore,e);yv(i,a,null),pv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,u)}catch(u){await As(u)}}async function z1(s,e,i){const a=pt(s);try{const u=await function(d,p){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return _.mutationQueue.lookupMutationBatch(v,p).next(I=>(kt(I!==null),b=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>_.localDocuments.getDocuments(v,b))})}(a.localStore,e);yv(a,e,i),pv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await eu(a,u)}catch(u){await As(u)}}function pv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function yv(s,e,i){const a=pt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Gf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||_v(s,a)})}function _v(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(cd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),_d(s))}function Ly(s,e,i){for(const a of i)a instanceof fv?(s.Ka.addReference(a.key,e),L1(s,a)):a instanceof dv?(nt(yd,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||_v(s,a.key)):ft()}function L1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(yd,"New document in limbo: "+i),s.Qa.add(a),_d(s))}function _d(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(Xt.fromString(e)),a=s.za.next();s.Ua.set(a,new w1(i)),s.$a=s.$a.insert(i,a),sv(s.remoteStore,new yr(ti(ed(i.path)),a,"TargetPurposeLimboResolution",Zo.ae))}}async function eu(s,e,i){const a=pt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((p,_)=>{d.push(a.Ha(_,e,i).then(v=>{var b;if((v||i)&&a.isPrimaryClient){const I=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(_.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){u.push(v);const I=ud.Yi(_.targetId,v);h.push(I)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const b=pt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(v,P=>Q.forEach(P.Hi,j=>b.persistence.referenceDelegate.addReference(I,P.targetId,j)).next(()=>Q.forEach(P.Ji,j=>b.persistence.referenceDelegate.removeReference(I,P.targetId,j)))))}catch(I){if(!Ss(I))throw I;nt(od,"Failed to update sequence numbers: "+I)}for(const I of v){const P=I.targetId;if(!I.fromCache){const j=b.Ts.get(P),$=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion($);b.Ts=b.Ts.insert(P,W)}}}(a.localStore,h))}async function B1(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){nt(yd,"User change. New user:",e.toKey());const a=await nv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(_=>{_.reject(new rt(F.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Rs)}}function P1(s,e){const i=pt(s),a=i.Ua.get(e);if(a&&a.Ba)return Dt().add(a.key);{let u=Dt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const p=i.ka.get(d);u=u.unionWith(p.view.Sa)}return u}}function vv(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=gv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U1.bind(null,e),e.La.p_=T1.bind(null,e.eventManager),e.La.Ja=A1.bind(null,e.eventManager),e}function q1(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z1.bind(null,e),e}class Yo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return kS(this.persistence,new BS,e.initialUser,this.serializer)}Xa(e){return new ev(ld.ri,this.serializer)}Za(e){return new KS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yo.provider={build:()=>new Yo};class k1 extends Yo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){kt(this.persistence.referenceDelegate instanceof Qo);const a=this.persistence.referenceDelegate.garbageCollector;return new SS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new ev(a=>Qo.ri(a,i),this.serializer)}}class Qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>zy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=B1.bind(null,this.syncEngine),await p1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _1}()}createDatastore(e){const i=rc(e.databaseInfo.databaseId),a=function(h){return new WS(h)}(e.databaseInfo);return function(h,d,p,_){return new i1(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new a1(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>zy(this.syncEngine,i,0),function(){return Iy.D()?new Iy:new XS}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,b){const I=new D1(u,h,d,p,_,v);return b&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=pt(u);nt(ha,"RemoteStore shutting down."),h.W_.add(5),await tu(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class j1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=je.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{nt(Dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt(Dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=gd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Tf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Dr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await nv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function By(s,e){s.asyncQueue.verifyOperationInProgress();const i=await G1(s);nt(Dr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>My(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>My(e.remoteStore,u)),s._onlineComponents=e}async function G1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Dr,"Using user provided OfflineComponentProvider");try{await Tf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===F.FAILED_PRECONDITION||u.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ds("Error using user provided cache. Falling back to memory cache: "+i),await Tf(s,new Yo)}}else nt(Dr,"Using default OfflineComponentProvider"),await Tf(s,new k1(void 0));return s._offlineComponents}async function Ev(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Dr,"Using user provided OnlineComponentProvider"),await By(s,s._uninitializedComponentsProvider._online)):(nt(Dr,"Using default OnlineComponentProvider"),await By(s,new Qf))),s._onlineComponents}function Q1(s){return Ev(s).then(e=>e.syncEngine)}async function Py(s){const e=await Ev(s),i=e.eventManager;return i.onListen=C1.bind(null,e.syncEngine),i.onUnlisten=O1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=V1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=M1.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(s,e,i){if(!i)throw new rt(F.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function F1(s,e,i,a){if(e===!0&&a===!0)throw new rt(F.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function ky(s){if(!ot.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Hy(s){if(ot.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function lc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft()}function kl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lc(s);throw new rt(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="firestore.googleapis.com",jy=!0;class Gy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sv,this.ssl=jy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:jy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TS)throw new rt(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gy(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new WT;switch(a.type){case"firstParty":return new iA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=qy.get(i);a&&(nt("ComponentProvider","Removing Datastore"),qy.delete(i),a.terminate())}(this),Promise.resolve()}}function Y1(s,e,i,a={}){var u;const h=(s=kl(s,uc))._getSettings(),d=`${e}:${i}`;if(h.host!==Sv&&h.host!==d&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),a.mockUserToken){let p,_;if(typeof a.mockUserToken=="string")p=a.mockUserToken,_=je.MOCK_USER;else{p=I0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new rt(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new je(v)}s._authCredentials=new tA(new f_(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class cn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Tr extends pa{constructor(e,i,a){super(e,i,ed(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ot(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function bv(s,e,...i){if(s=oa(s),Av("collection","path",e),s instanceof uc){const a=Xt.fromString(e,...i);return Hy(a),new Tr(s,null,a)}{if(!(s instanceof cn||s instanceof Tr))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Hy(a),new Tr(s.firestore,null,a)}}function K1(s,e,...i){if(s=oa(s),arguments.length===1&&(e=d_.newId()),Av("doc","path",e),s instanceof uc){const a=Xt.fromString(e,...i);return ky(a),new cn(s,null,new ot(a))}{if(!(s instanceof cn||s instanceof Tr))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return ky(a),new cn(s.firestore,s instanceof Tr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="AsyncQueue";class Fy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rv(this,"async_queue_retry"),this.Su=()=>{const a=Ef();a&&nt(Qy,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Ef();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Ef();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ua;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ss(e))throw e;nt(Qy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(a);throw Mi("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=md.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function Yy(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Ko extends uc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Fy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fy(e),this._firestoreClient=void 0,await e}}}function X1(s,e){const i=typeof s=="object"?s:qT(),a=typeof s=="string"?s:Po,u=xT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=C0("firestore");h&&Y1(u,...h)}return u}function Rv(s){if(s._terminated)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Z1(s),s._firestoreClient}function Z1(s){var e,i,a;const u=s._freezeSettings(),h=function(p,_,v,b){return new yA(p,_,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Tv(b.experimentalLongPollingOptions),b.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new j1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(Be.fromBase64String(e))}catch(i){throw new rt(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vs(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=/^__.*__$/;class J1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(e,this.data,i,this.fieldTransforms)}}function Dv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Ad{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Dv(this.Lu)&&$1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class W1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||rc(e)}ju(e,i,a,u=!1){return new Ad({Lu:e,methodName:i,zu:a,path:Le.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cv(s){const e=s._freezeSettings(),i=rc(s._databaseId);return new W1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function tb(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Ov("Data must be an object, but it was:",d,a);const p=Vv(a,d);let _,v;if(h.merge)_=new xn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const I of h.mergeFields){const P=nb(e,I,i);if(!d.contains(P))throw new rt(F.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);rb(b,P)||b.push(P)}_=new xn(b),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new J1(new Cn(p),_,v)}function eb(s,e,i,a=!1){return Sd(i,s.ju(a?4:3,e))}function Sd(s,e){if(Iv(s=oa(s)))return Ov("Unsupported field value:",e,s),Vv(s,e);if(s instanceof wv)return function(a,u){if(!Dv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=Sd(p,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=oa(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return qA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ge.fromDate(a);return{timestampValue:Go(u.serializer,h)}}if(a instanceof ge){const h=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Go(u.serializer,h)}}if(a instanceof Ed)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vs)return{bytesValue:Y_(u.serializer,a._byteString)};if(a instanceof cn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ad(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Td)return function(d,p){return{mapValue:{fields:{[T_]:{stringValue:A_},[qo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Wu("VectorValues must only contain numeric values.");return nd(p.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${lc(a)}`)}(s,e)}function Vv(s,e){const i={};return g_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(s,(a,u)=>{const h=Sd(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Iv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ge||s instanceof Ed||s instanceof vs||s instanceof cn||s instanceof wv||s instanceof Td)}function Ov(s,e,i){if(!Iv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=lc(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function nb(s,e,i){if((e=oa(e))instanceof vd)return e._internalPath;if(typeof e=="string")return Mv(s,e);throw Xo("Field path arguments must be of type string or ",s,!1,void 0,i)}const ib=new RegExp("[~\\*/\\[\\]]");function Mv(s,e,i){if(e.search(ib)>=0)throw Xo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new vd(...e.split("."))._internalPath}catch{throw Xo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new rt(F.INVALID_ARGUMENT,p+s+_)}function rb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(bd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ab extends Nv{data(){return super.data()}}function bd(s,e){return typeof e=="string"?Mv(s,e):e instanceof vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rd{}class Uv extends Rd{}function lb(s,e,...i){let a=[];e instanceof Rd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Dd).length,p=h.filter(_=>_ instanceof wd).length;if(d>1||d>0&&p>0)throw new rt(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class wd extends Uv{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new wd(e,i,a)}_apply(e){const i=this._parse(e);return xv(e._query,i),new pa(e.firestore,e.converter,xf(e._query,i))}_parse(e){const i=Cv(e.firestore);return function(h,d,p,_,v,b,I){let P;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Xy(I,b);const $=[];for(const W of I)$.push(Ky(_,h,W));P={arrayValue:{values:$}}}else P=Ky(_,h,I)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Xy(I,b),P=eb(p,d,I,b==="in"||b==="not-in");return me.create(v,b,P)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Dd extends Rd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Dd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const p=h.getFlattenedFilters();for(const _ of p)xv(d,_),d=xf(d,_)}(e._query,i),new pa(e.firestore,e.converter,xf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cd extends Uv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Cd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(h,d)}(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new bs(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function ub(s,e="asc"){const i=e,a=bd("orderBy",s);return Cd._create(a,i)}function Ky(s,e,i){if(typeof(i=oa(i))=="string"){if(i==="")throw new rt(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I_(e)&&i.indexOf("/")!==-1)throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Xt.fromString(i));if(!ot.isDocumentKey(a))throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return uy(s,new ot(a))}if(i instanceof cn)return uy(s,i._key);throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lc(i)}.`)}function Xy(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xv(s,e){const i=function(u,h){for(const d of u)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class ob{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return fa(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[qo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>le(d.doubleValue));return new Td(h)}convertGeoPoint(e){return new Ed(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Jo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new ge(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Xt.fromString(e);kt(W_(a));const u=new Yl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zv extends Nv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(bd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Uo extends zv{data(e={}){return super.data(e)}}class hb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new zl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Uo(this._firestore,this._userDataWriter,a.key,a,new zl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Uo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new zl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Uo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new zl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,b=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:fb(p.type),doc:_,oldIndex:v,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function fb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class Lv extends ob{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function db(s,e){const i=kl(s.firestore,Ko),a=K1(s),u=cb(s.converter,e);return gb(i,[tb(Cv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ii.exists(!1))]).then(()=>a)}function mb(s,...e){var i,a,u;s=oa(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Yy(e[d])||(h=e[d],d++);const p={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Yy(e[d])){const I=e[d];e[d]=(i=I.next)===null||i===void 0?void 0:i.bind(I),e[d+1]=(a=I.error)===null||a===void 0?void 0:a.bind(I),e[d+2]=(u=I.complete)===null||u===void 0?void 0:u.bind(I)}let _,v,b;if(s instanceof cn)v=kl(s.firestore,Ko),b=ed(s._key.path),_={next:I=>{e[d]&&e[d](pb(v,s,I))},error:e[d+1],complete:e[d+2]};else{const I=kl(s,pa);v=kl(I.firestore,Ko),b=I._query;const P=new Lv(v);_={next:j=>{e[d]&&e[d](new hb(v,P,I,j))},error:e[d+1],complete:e[d+2]},sb(s._query)}return function(P,j,$,W){const Z=new H1(W),yt=new S1(j,Z,$);return P.asyncQueue.enqueueAndForget(async()=>v1(await Py(P),yt)),()=>{Z.su(),P.asyncQueue.enqueueAndForget(async()=>E1(await Py(P),yt))}}(Rv(v),b,p,_)}function gb(s,e){return function(a,u){const h=new ua;return a.asyncQueue.enqueueAndForget(async()=>N1(await Q1(a),u,h)),h.promise}(Rv(s),e)}function pb(s,e,i){const a=i.docs.get(e._key),u=new Lv(s);return new zv(s,u,e._key,a,new zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Ts=u})(PT),Lo(new jl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Ko(new eA(a.getProvider("auth-internal")),new rA(d,a.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(v.options.projectId,b)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),hs($p,Jp,e),hs($p,Jp,"esm2017")})();const yb={apiKey:"AIzaSyCnMU-CzSmD4d2AiS20bcIMrr1_eneft68",authDomain:"habit-tracker-580d5.firebaseapp.com",projectId:"habit-tracker-580d5",storageBucket:"habit-tracker-580d5.firebasestorage.app",messagingSenderId:"1088854789740",appId:"1:1088854789740:web:80261dbf30bb078c89d249"},_b=i_(yb),Bv=X1(_b);function vb(){const[s,e]=Hl.useState(""),[i,a]=Hl.useState("checkbox"),u=async h=>{if(h.preventDefault(),!!s)try{await db(bv(Bv,"habits"),{name:s,type:i,createdAt:ge.now()}),e(""),alert("Habit added successfully!")}catch(d){console.error("Error adding habit:",d),alert("Failed to add habit.")}};return Ge.jsxs("form",{onSubmit:u,children:[Ge.jsx("input",{type:"text",placeholder:"Enter habit...",value:s,onChange:h=>e(h.target.value),required:!0}),Ge.jsxs("select",{value:i,onChange:h=>a(h.target.value),children:[Ge.jsx("option",{value:"checkbox",children:"Checkbox"}),Ge.jsx("option",{value:"measurable",children:"Measurable"})]}),Ge.jsx("button",{type:"submit",children:"Add Habit"})]})}function Eb(){const[s,e]=Hl.useState([]);return Hl.useEffect(()=>{const i=lb(bv(Bv,"habits"),ub("createdAt","desc")),a=mb(i,u=>{const h=u.docs.map(d=>({id:d.id,...d.data()}));e(h)});return()=>a()},[]),Ge.jsxs("div",{children:[Ge.jsx("h2",{children:"Your Habits"}),Ge.jsx("ul",{children:s.map(i=>Ge.jsxs("li",{children:[i.name," - ",i.type]},i.id))})]})}function Tb(){return Ge.jsxs("div",{children:[Ge.jsx("h1",{children:"Habit Tracker"}),Ge.jsx(vb,{}),Ge.jsx(Eb,{})]})}_0.createRoot(document.getElementById("root")).render(Ge.jsx(Hl.StrictMode,{children:Ge.jsx(Tb,{})}));
